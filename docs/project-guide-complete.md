---
description: 
globs: 
alwaysApply: true
---
# æ ¡å›­AIæ™ºèƒ½åŠ©æ‰‹ - é¡¹ç›®å¼€å‘è§„åˆ™æ–‡æ¡£

## é¡¹ç›®å…ƒæ•°æ®
- **é¡¹ç›®åç§°**: æ ¡å›­AIæ™ºèƒ½åŠ©æ‰‹ (Campus AI Assistant)
- **è¯¾ç¨‹**: ç§»åŠ¨äº’è”ç½‘æŠ€æœ¯åŠåº”ç”¨
- **ç±»å‹**: è¯¾ç¨‹æœŸæœ«å¤§ä½œä¸š
- **å¹³å°**: Android
- **å¼€å‘å·¥å…·**: Android Studio
- **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
- **åˆ›å»ºæ—¥æœŸ**: 2025å¹´6æœˆ
- **æœ€åæ›´æ–°**: 2025å¹´6æœˆ

---

## ç›®å½•ç»“æ„

1. @é¡¹ç›®æ¦‚è¿°å’Œç›®æ ‡å®šä¹‰
2. @æŠ€æœ¯æ¶æ„å’ŒæŠ€æœ¯æ ˆè§„èŒƒ
3. @æ ¸å¿ƒåŠŸèƒ½æ¨¡å—è®¾è®¡
4. @ä»£ç å¼€å‘è§„èŒƒå’Œé¡¹ç›®ç»“æ„
5. @å®æ–½æŒ‡å—å’Œæœ€ä½³å®è·µ
6. @è´¨é‡ä¿è¯å’Œæµ‹è¯•è§„èŒƒ

---

## 1. é¡¹ç›®æ¦‚è¿°å’Œç›®æ ‡å®šä¹‰

### 1.1 é¡¹ç›®èƒŒæ™¯

éšç€ç§»åŠ¨äº’è”ç½‘æŠ€æœ¯çš„å¿«é€Ÿå‘å±•å’Œäººå·¥æ™ºèƒ½æŠ€æœ¯çš„æ—¥ç›Šæˆç†Ÿï¼Œæ™ºèƒ½åŠ©æ‰‹åº”ç”¨å·²æˆä¸ºæå‡ç”¨æˆ·ä½“éªŒå’Œå·¥ä½œæ•ˆç‡çš„é‡è¦å·¥å…·ã€‚åœ¨é«˜ç­‰æ•™è‚²é¢†åŸŸï¼Œå­¦ç”Ÿé¢ä¸´ç€è¯¾ç¨‹ç®¡ç†å¤æ‚ã€å­¦ä¹ è§„åˆ’å›°éš¾ã€æ ¡å›­ä¿¡æ¯åˆ†æ•£ç­‰æŒ‘æˆ˜ã€‚

æœ¬é¡¹ç›®ä½œä¸ºã€Šç§»åŠ¨äº’è”ç½‘æŠ€æœ¯åŠåº”ç”¨ã€‹è¯¾ç¨‹çš„æœŸæœ«å¤§ä½œä¸šï¼Œæ—¨åœ¨å¼€å‘ä¸€æ¬¾é’ˆå¯¹æ ¡å›­åœºæ™¯çš„AIæ™ºèƒ½åŠ©æ‰‹Androidåº”ç”¨ã€‚è¯¥åº”ç”¨å°†è¿ç”¨ç§»åŠ¨äº’è”ç½‘æŠ€æœ¯ï¼Œæ•´åˆäººå·¥æ™ºèƒ½å¯¹è¯ã€æ•°æ®ç®¡ç†ã€ä¸ªæ€§åŒ–æ¨èç­‰åŠŸèƒ½ï¼Œä¸ºæ ¡å›­ç”¨æˆ·æä¾›ä¸€ç«™å¼çš„æ™ºèƒ½åŒ–æœåŠ¡ä½“éªŒã€‚

**é¡¹ç›®æ„ä¹‰ï¼š**
- æ¢ç´¢AIæŠ€æœ¯åœ¨æ•™è‚²åœºæ™¯çš„åº”ç”¨å®è·µ
- æå‡æ ¡å›­ç”Ÿæ´»çš„æ•°å­—åŒ–å’Œæ™ºèƒ½åŒ–æ°´å¹³
- å±•ç¤ºç§»åŠ¨äº’è”ç½‘æŠ€æœ¯çš„ç»¼åˆåº”ç”¨èƒ½åŠ›
- ä¸ºå­¦ç”Ÿæä¾›å®ç”¨çš„å­¦ä¹ å’Œç”Ÿæ´»è¾…åŠ©å·¥å…·

### 1.2 æ ¸å¿ƒä»·å€¼ä¸»å¼ 

**"æ™ºæ…§æ ¡å›­ï¼ŒAIç›¸ä¼´"** - æ‰“é€ ä¸“å±äºæ ¡å›­ç”¨æˆ·çš„æ™ºèƒ½åŒ–ç”Ÿæ´»åŠ©æ‰‹

**æ ¸å¿ƒä»·å€¼ï¼š**

1. **æ™ºèƒ½åŒ–äº¤äº’ä½“éªŒ**
   - åŸºäºAIçš„è‡ªç„¶è¯­è¨€å¯¹è¯ç•Œé¢
   - æ™ºèƒ½ç†è§£ç”¨æˆ·éœ€æ±‚ï¼Œæä¾›ä¸ªæ€§åŒ–å›ç­”
   - 24/7å…¨å¤©å€™æ™ºèƒ½æœåŠ¡ï¼Œéšæ—¶éšåœ°è·å¾—å¸®åŠ©

2. **ä¸€ç«™å¼æ ¡å›­æœåŠ¡**
   - æ•´åˆè¯¾ç¨‹ç®¡ç†ã€å­¦ä¹ è§„åˆ’ã€ä¿¡æ¯æŸ¥è¯¢ç­‰å¤šé¡¹åŠŸèƒ½
   - é¿å…ç”¨æˆ·åœ¨å¤šä¸ªåº”ç”¨é—´åˆ‡æ¢çš„éº»çƒ¦
   - æä¾›ç»Ÿä¸€çš„ç”¨æˆ·ä½“éªŒå’Œæ•°æ®ç®¡ç†

3. **ä¸ªæ€§åŒ–å­¦ä¹ æ”¯æŒ**
   - æ™ºèƒ½åˆ†æå­¦ä¹ è¿›åº¦å’Œä¹ æƒ¯
   - æä¾›å®šåˆ¶åŒ–çš„å­¦ä¹ è®¡åˆ’å’Œå»ºè®®
   - åŠ©åŠ›å­¦æœ¯æˆåŠŸå’Œä¸ªäººå‘å±•

4. **é«˜æ•ˆæ ¡å›­ç”Ÿæ´»ç®¡ç†**
   - ç®€åŒ–å¤æ‚çš„æ ¡å›­ä¿¡æ¯è·å–æµç¨‹
   - æé«˜å­¦ä¹ å’Œç”Ÿæ´»æ•ˆç‡
   - å‡å°‘ä¿¡æ¯ä¸å¯¹ç§°å¸¦æ¥çš„å›°æ‰°

**å·®å¼‚åŒ–ä¼˜åŠ¿ï¼š**
- ä¸“æ³¨æ ¡å›­åœºæ™¯ï¼Œæ·±åº¦ç†è§£ç”¨æˆ·éœ€æ±‚
- AIé©±åŠ¨çš„æ™ºèƒ½åŒ–æœåŠ¡ä½“éªŒ
- è½»é‡çº§æœ¬åœ°å­˜å‚¨ï¼Œä¿æŠ¤ç”¨æˆ·éšç§
- ç®€æ´æ˜“ç”¨çš„AndroidåŸç”Ÿåº”ç”¨

### 1.3 ç›®æ ‡ç”¨æˆ·

**ä¸»è¦ç”¨æˆ·ç¾¤ä½“ï¼šåœ¨æ ¡å¤§å­¦ç”Ÿ**

**ç”¨æˆ·ç”»åƒåˆ†æï¼š**

1. **æ ¸å¿ƒç”¨æˆ·ï¼šæœ¬ç§‘ç”Ÿå’Œç ”ç©¶ç”Ÿ**
   - **å¹´é¾„èŒƒå›´**ï¼š18-28å²
   - **æŠ€æœ¯ç´ å…»**ï¼šç†Ÿæ‚‰ç§»åŠ¨åº”ç”¨æ“ä½œï¼Œæ¥å—åº¦é«˜
   - **ä¸»è¦éœ€æ±‚**ï¼š
     - è¯¾ç¨‹æ—¶é—´ç®¡ç†å’Œæé†’
     - å­¦ä¹ è®¡åˆ’åˆ¶å®šå’Œè·Ÿè¸ª
     - æ ¡å›­ç”Ÿæ´»ä¿¡æ¯è·å–
     - å­¦æœ¯é—®é¢˜å’¨è¯¢å’Œè§£ç­”

2. **æ¬¡è¦ç”¨æˆ·ï¼šæ•™å¸ˆå’Œæ ¡å›­å·¥ä½œäººå‘˜**
   - **ä½¿ç”¨åœºæ™¯**ï¼šäº†è§£å­¦ç”Ÿå­¦ä¹ çŠ¶æ€ï¼Œè·å–æ ¡å›­ä¿¡æ¯
   - **ä¸»è¦éœ€æ±‚**ï¼šè¯¾ç¨‹ç®¡ç†ã€å­¦ç”Ÿäº’åŠ¨ã€æ ¡å›­æœåŠ¡æŸ¥è¯¢

**ç”¨æˆ·éœ€æ±‚åˆ†æï¼š**

| éœ€æ±‚ç±»å‹ | å…·ä½“éœ€æ±‚ | ç—›ç‚¹æè¿° | è§£å†³æ–¹æ¡ˆ |
|---------|---------|----------|----------|
| å­¦ä¹ ç®¡ç† | è¯¾ç¨‹å®‰æ’ã€ä½œä¸šè·Ÿè¸ª | è¯¾ç¨‹ä¿¡æ¯åˆ†æ•£ï¼Œå®¹æ˜“é—æ¼ | ç»Ÿä¸€çš„è¯¾ç¨‹ç®¡ç†ç•Œé¢ |
| æ—¶é—´è§„åˆ’ | å­¦ä¹ è®¡åˆ’ã€æ—¶é—´åˆ†é… | ç¼ºä¹ç§‘å­¦çš„è§„åˆ’æ–¹æ³• | AIè¾…åŠ©çš„ä¸ªæ€§åŒ–è®¡åˆ’ |
| ä¿¡æ¯è·å– | æ ¡å›­é€šçŸ¥ã€æœåŠ¡æŸ¥è¯¢ | ä¿¡æ¯æ¸ é“å¤šæ ·ï¼ŒæŸ¥æ‰¾å›°éš¾ | æ™ºèƒ½ä¿¡æ¯èšåˆå’Œæœç´¢ |
| å­¦æœ¯æ”¯æŒ | å­¦ä¹ é—®é¢˜ã€çŸ¥è¯†æŸ¥è¯¢ | è·å–å¸®åŠ©é€”å¾„æœ‰é™ | AIå¯¹è¯å¼é—®ç­”æœåŠ¡ |

**ç”¨æˆ·ä½¿ç”¨åœºæ™¯ï¼š**
- **æ—¥å¸¸å­¦ä¹ **ï¼šæŸ¥çœ‹è¯¾ç¨‹å®‰æ’ï¼Œè®¾ç½®å­¦ä¹ ç›®æ ‡
- **è€ƒè¯•æœŸé—´**ï¼šåˆ¶å®šå¤ä¹ è®¡åˆ’ï¼ŒæŸ¥è¯¢ç›¸å…³èµ„æ–™
- **æ ¡å›­ç”Ÿæ´»**ï¼šäº†è§£æ ¡å›­æ´»åŠ¨ï¼ŒæŸ¥è¯¢æœåŠ¡ä¿¡æ¯
- **å­¦æœ¯ç ”ç©¶**ï¼šè·å–å­¦ä¹ å»ºè®®ï¼Œè§£ç­”ä¸“ä¸šé—®é¢˜

### 1.4 åŠŸèƒ½æ¦‚è¿°

**å››å¤§æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼Œæ‰“é€ å…¨æ–¹ä½æ ¡å›­æ™ºèƒ½åŠ©æ‰‹**

#### 1.4.1 AIå¯¹è¯åŠ©æ‰‹æ¨¡å— ğŸ¤–
**åŠŸèƒ½æè¿°ï¼š** åŸºäºè‡ªç„¶è¯­è¨€å¤„ç†çš„æ™ºèƒ½å¯¹è¯ç³»ç»Ÿ

**æ ¸å¿ƒç‰¹æ€§ï¼š**
- è‡ªç„¶è¯­è¨€ç†è§£å’Œå›ç­”
- å¤šè½®å¯¹è¯ä¸Šä¸‹æ–‡ä¿æŒ
- å­¦æœ¯é—®é¢˜æ™ºèƒ½è§£ç­”
- ä¸ªæ€§åŒ–å¯¹è¯ä½“éªŒ

**åº”ç”¨åœºæ™¯ï¼š**
- å­¦ä¹ é—®é¢˜å’¨è¯¢ï¼š"å¦‚ä½•æé«˜è‹±è¯­å£è¯­ï¼Ÿ"
- æ ¡å›­ä¿¡æ¯æŸ¥è¯¢ï¼š"å›¾ä¹¦é¦†ä»Šå¤©å¼€æ”¾æ—¶é—´ï¼Ÿ"
- è¯¾ç¨‹ç›¸å…³é—®ç­”ï¼š"æ•°æ®ç»“æ„è¯¾ç¨‹é‡ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ"

#### 1.4.2 è¯¾ç¨‹ç®¡ç†æ¨¡å— ğŸ“š
**åŠŸèƒ½æè¿°ï¼š** å…¨é¢çš„ä¸ªäººè¯¾ç¨‹ä¿¡æ¯ç®¡ç†ç³»ç»Ÿ

**æ ¸å¿ƒç‰¹æ€§ï¼š**
- è¯¾ç¨‹ä¿¡æ¯å½•å…¥å’Œç¼–è¾‘
- è¯¾ç¨‹è¡¨å¯è§†åŒ–å±•ç¤º
- ä½œä¸šå’Œè€ƒè¯•æé†’
- æˆç»©è®°å½•å’Œåˆ†æ

**åº”ç”¨åœºæ™¯ï¼š**
- æ·»åŠ æ–°å­¦æœŸè¯¾ç¨‹å®‰æ’
- æŸ¥çœ‹æ¯æ—¥è¯¾ç¨‹è®¡åˆ’
- è®¾ç½®ä½œä¸šæˆªæ­¢æé†’
- è·Ÿè¸ªå­¦ä¹ è¿›åº¦å’Œæˆç»©

#### 1.4.3 å­¦ä¹ è®¡åˆ’æ¨¡å— ğŸ“
**åŠŸèƒ½æè¿°ï¼š** AIè¾…åŠ©çš„ä¸ªæ€§åŒ–å­¦ä¹ è§„åˆ’å·¥å…·

**æ ¸å¿ƒç‰¹æ€§ï¼š**
- æ™ºèƒ½å­¦ä¹ è®¡åˆ’ç”Ÿæˆ
- å­¦ä¹ è¿›åº¦è·Ÿè¸ª
- ç›®æ ‡è®¾å®šå’Œè¾¾æˆç›‘æ§
- å­¦ä¹ ä¹ æƒ¯åˆ†æå’Œå»ºè®®

**åº”ç”¨åœºæ™¯ï¼š**
- åˆ¶å®šæœŸæœ«å¤ä¹ è®¡åˆ’
- è®¾ç½®æ¯æ—¥å­¦ä¹ ç›®æ ‡
- åˆ†æå­¦ä¹ æ•ˆç‡è¶‹åŠ¿
- è·å–å­¦ä¹ æ–¹æ³•å»ºè®®

#### 1.4.4 æ ¡å›­ä¿¡æ¯æŸ¥è¯¢æ¨¡å— ğŸ«
**åŠŸèƒ½æè¿°ï¼š** æ ¡å›­ç”Ÿæ´»ä¿¡æ¯çš„æ™ºèƒ½èšåˆå¹³å°

**æ ¸å¿ƒç‰¹æ€§ï¼š**
- æ ¡å›­æœåŠ¡ä¿¡æ¯æ•´åˆ
- å¿«é€Ÿæœç´¢å’Œç­›é€‰
- å¸¸ç”¨ä¿¡æ¯æ”¶è—
- ä¿¡æ¯æ›´æ–°é€šçŸ¥

**åº”ç”¨åœºæ™¯ï¼š**
- æŸ¥è¯¢é£Ÿå ‚èœå•å’Œè¥ä¸šæ—¶é—´
- äº†è§£å›¾ä¹¦é¦†åº§ä½æƒ…å†µ
- è·å–æ ¡å›­æ´»åŠ¨ä¿¡æ¯
- æŸ¥æ‰¾æ ¡å›­åœ°ç‚¹å’Œè·¯çº¿

**æ¨¡å—é—´ååŒï¼š**
- AIåŠ©æ‰‹å¯è°ƒç”¨å…¶ä»–æ¨¡å—æ•°æ®æä¾›æ™ºèƒ½å›ç­”
- è¯¾ç¨‹ä¿¡æ¯å¯è‡ªåŠ¨ç”Ÿæˆç›¸å…³å­¦ä¹ è®¡åˆ’
- å­¦ä¹ è®¡åˆ’å¯å…³è”è¯¾ç¨‹ç®¡ç†ä¸­çš„å…·ä½“è¯¾ç¨‹
- æ ¡å›­ä¿¡æ¯å¯ä¸ºå­¦ä¹ å’Œç”Ÿæ´»æä¾›æ”¯æŒæœåŠ¡

### 1.5 é¡¹ç›®ç›®æ ‡

#### 1.5.1 æŠ€æœ¯ç›®æ ‡

**æ¶æ„ç›®æ ‡ï¼š**
- é‡‡ç”¨MVPæ¶æ„æ¨¡å¼ï¼Œå®ç°æ¸…æ™°çš„ä»£ç åˆ†å±‚å’ŒèŒè´£åˆ†ç¦»
- æ„å»ºå¯ç»´æŠ¤ã€å¯æ‰©å±•çš„AndroidåŸç”Ÿåº”ç”¨
- å®ç°é«˜æ•ˆçš„æœ¬åœ°æ•°æ®å­˜å‚¨å’Œç®¡ç†æœºåˆ¶
- ç¡®ä¿åº”ç”¨æ€§èƒ½ç¨³å®šï¼Œå“åº”è¿…é€Ÿ

**æŠ€æœ¯å®ç°ç›®æ ‡ï¼š**
- é›†æˆAIå¯¹è¯APIï¼Œå®ç°æ™ºèƒ½è‡ªç„¶è¯­è¨€äº¤äº’
- è®¾è®¡ç›´è§‚å‹å¥½çš„ç”¨æˆ·ç•Œé¢å’Œäº¤äº’ä½“éªŒ
- å®ç°æ•°æ®çš„æœ¬åœ°æŒä¹…åŒ–å­˜å‚¨ï¼ˆSharedPreferences/SQLiteï¼‰
- ä¿è¯åº”ç”¨çš„å…¼å®¹æ€§å’Œç¨³å®šæ€§ï¼ˆAndroid 7.0+ï¼‰

**è´¨é‡ç›®æ ‡ï¼š**
- ä»£ç è´¨é‡ï¼šéµå¾ªAndroidå¼€å‘æœ€ä½³å®è·µå’Œç¼–ç è§„èŒƒ
- æ€§èƒ½æŒ‡æ ‡ï¼šåº”ç”¨å¯åŠ¨æ—¶é—´<3ç§’ï¼Œé¡µé¢åˆ‡æ¢æµç•…
- ç”¨æˆ·ä½“éªŒï¼šç•Œé¢å“åº”æ—¶é—´<1ç§’ï¼Œæ“ä½œæµç¨‹ç®€æ´ç›´è§‚
- ç¨³å®šæ€§ï¼šæ— é‡å¤§Bugï¼Œå´©æºƒç‡<1%

#### 1.5.2 ä¸šåŠ¡ç›®æ ‡

**åŠŸèƒ½å®ç°ç›®æ ‡ï¼š**
- å®Œæˆå››å¤§æ ¸å¿ƒæ¨¡å—çš„å®Œæ•´åŠŸèƒ½å¼€å‘
- å®ç°æ¨¡å—é—´çš„æœ‰æ•ˆé›†æˆå’Œæ•°æ®äº’é€š
- æä¾›å®Œæ•´çš„ç”¨æˆ·æ“ä½œæµç¨‹å’ŒåŠŸèƒ½ä½“éªŒ
- æ”¯æŒåŸºæœ¬çš„ä¸ªæ€§åŒ–è®¾ç½®å’Œç”¨æˆ·åå¥½

**ç”¨æˆ·ä½“éªŒç›®æ ‡ï¼š**
- é™ä½ç”¨æˆ·å­¦ä¹ æˆæœ¬ï¼Œæä¾›ç›´è§‚æ˜“ç”¨çš„æ“ä½œç•Œé¢
- æé«˜æ ¡å›­ç”Ÿæ´»ç®¡ç†æ•ˆç‡ï¼ŒèŠ‚çœç”¨æˆ·æ—¶é—´æˆæœ¬
- æä¾›æœ‰ä»·å€¼çš„å­¦ä¹ è¾…åŠ©å’Œç”Ÿæ´»ä¾¿åˆ©æœåŠ¡
- å»ºç«‹ç”¨æˆ·é»æ€§ï¼Œä¿ƒè¿›é•¿æœŸä½¿ç”¨

**æ•™è‚²ä»·å€¼ç›®æ ‡ï¼š**
- å±•ç¤ºç§»åŠ¨äº’è”ç½‘æŠ€æœ¯çš„ç»¼åˆåº”ç”¨èƒ½åŠ›
- ä½“ç°AIæŠ€æœ¯åœ¨æ•™è‚²åœºæ™¯çš„å®é™…ä»·å€¼
- æ¢ç´¢æ ¡å›­æ•°å­—åŒ–æœåŠ¡çš„åˆ›æ–°æ¨¡å¼
- ä¸ºåç»­æŠ€æœ¯å­¦ä¹ å’Œé¡¹ç›®å¼€å‘ç§¯ç´¯ç»éªŒ

#### 1.5.3 è¯¾ç¨‹ä½œä¸šç›®æ ‡

**å­¦æœ¯è¦æ±‚å¯¹é½ï¼š**
- æ»¡è¶³ã€Šç§»åŠ¨äº’è”ç½‘æŠ€æœ¯åŠåº”ç”¨ã€‹è¯¾ç¨‹çš„ä½œä¸šè¦æ±‚
- ä½“ç°ç§»åŠ¨åº”ç”¨å¼€å‘çš„æ ¸å¿ƒæŠ€æœ¯èƒ½åŠ›
- å±•ç¤ºé¡¹ç›®ç®¡ç†å’Œè½¯ä»¶å·¥ç¨‹å®è·µæ°´å¹³
- è¾¾åˆ°è¯¾ç¨‹è¯„åˆ†æ ‡å‡†çš„ä¼˜ç§€ç­‰çº§

**é¢„æœŸæˆæœï¼š**
- å®Œæ•´å¯è¿è¡Œçš„Androidåº”ç”¨ç¨‹åº
- è§„èŒƒå®Œæ•´çš„é¡¹ç›®æ–‡æ¡£å’Œä»£ç æ³¨é‡Š
- æ¸…æ™°çš„é¡¹ç›®æ¼”ç¤ºå’ŒåŠŸèƒ½å±•ç¤º
- é¡¹ç›®æ€»ç»“å’ŒæŠ€æœ¯åæ€æŠ¥å‘Š

**æ—¶é—´èŠ‚ç‚¹ç›®æ ‡ï¼š**
- é¡¹ç›®è§„åˆ’å’Œè®¾è®¡ï¼š1å‘¨
- æ ¸å¿ƒåŠŸèƒ½å¼€å‘ï¼š3-4å‘¨
- æµ‹è¯•å’Œä¼˜åŒ–ï¼š1å‘¨
- æ–‡æ¡£æ•´ç†å’Œç­”è¾©å‡†å¤‡ï¼š1å‘¨
- æ€»é¡¹ç›®å‘¨æœŸï¼š6-7å‘¨

---

## 2. æŠ€æœ¯æ¶æ„å’ŒæŠ€æœ¯æ ˆè§„èŒƒ

### 2.1 æ€»ä½“æ¶æ„è®¾è®¡

**é‡‡ç”¨MVP (Model-View-Presenter) æ¶æ„æ¨¡å¼**

#### 2.1.1 æ¶æ„æ¨¡å¼é€‰æ‹©ç†ç”±

**ä¸ºä»€ä¹ˆé€‰æ‹©MVPè€Œä¸æ˜¯MVVMæˆ–MVIï¼Ÿ**
- **å­¦ä¹ æˆæœ¬é€‚ä¸­**ï¼šMVPæ¯”MVVMæ›´å®¹æ˜“ç†è§£å’Œå®ç°ï¼Œé€‚åˆå­¦ç”Ÿé¡¹ç›®
- **æµ‹è¯•å‹å¥½æ€§**ï¼šViewå’ŒModelå®Œå…¨åˆ†ç¦»ï¼ŒPresenteræ˜“äºå•å…ƒæµ‹è¯•
- **æ¡†æ¶ä¾èµ–ä½**ï¼šä¸ä¾èµ–Data Bindingæˆ–å…¶ä»–å¤æ‚æ¡†æ¶
- **ä»£ç æ¸…æ™°åº¦é«˜**ï¼šèŒè´£åˆ†ç¦»æ˜ç¡®ï¼Œä»£ç ç»“æ„æ¸…æ™°æ˜“æ‡‚

#### 2.1.2 MVPæ¶æ„å±‚æ¬¡è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      View       â”‚â—„â”€â”€â–ºâ”‚   Presenter     â”‚â—„â”€â”€â–ºâ”‚     Model       â”‚
â”‚   (Activity/    â”‚    â”‚   (ä¸šåŠ¡é€»è¾‘     â”‚    â”‚   (æ•°æ®å±‚)      â”‚
â”‚   Fragment)     â”‚    â”‚    æ§åˆ¶å±‚)      â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â–²                       â–²                       â–²
        â”‚                       â”‚                       â”‚
        â–¼                       â–¼                       â–¼
    UIäº¤äº’å¤„ç†              ä¸šåŠ¡é€»è¾‘åè°ƒ              æ•°æ®å­˜å‚¨è®¿é—®
```

#### 2.1.3 å„å±‚èŒè´£å®šä¹‰

**Viewå±‚ (UIå±‚)**
- **ç»„æˆ**ï¼šActivityã€Fragmentã€è‡ªå®šä¹‰View
- **èŒè´£**ï¼š
  - æ¥æ”¶ç”¨æˆ·è¾“å…¥äº‹ä»¶
  - æ˜¾ç¤ºæ•°æ®å’ŒUIçŠ¶æ€
  - è°ƒç”¨Presenterå¤„ç†ä¸šåŠ¡é€»è¾‘
  - ä¸åŒ…å«ä»»ä½•ä¸šåŠ¡é€»è¾‘
- **å…³é”®åŸåˆ™**ï¼šè¢«åŠ¨è§†å›¾æ¨¡å¼ï¼Œåªè´Ÿè´£å±•ç¤ºå’Œäº¤äº’

**Presenterå±‚ (ä¸šåŠ¡é€»è¾‘å±‚)**
- **èŒè´£**ï¼š
  - å¤„ç†UIäº‹ä»¶å’Œä¸šåŠ¡é€»è¾‘
  - åè°ƒViewå’ŒModelä¹‹é—´çš„äº¤äº’
  - æ•°æ®æ ¼å¼åŒ–å’ŒçŠ¶æ€ç®¡ç†
  - å¼‚æ­¥æ“ä½œç®¡ç†
- **å…³é”®åŸåˆ™**ï¼šä¸ä¾èµ–Androidæ¡†æ¶ï¼Œä¾¿äºå•å…ƒæµ‹è¯•

**Modelå±‚ (æ•°æ®å±‚)**
- **ç»„æˆ**ï¼šRepositoryã€DataSourceã€Entity
- **èŒè´£**ï¼š
  - æ•°æ®å­˜å‚¨å’Œæ£€ç´¢
  - ç½‘ç»œè¯·æ±‚ç®¡ç†
  - æ•°æ®ç¼“å­˜ç­–ç•¥
  - ä¸šåŠ¡æ•°æ®æ¨¡å‹å®šä¹‰
- **å…³é”®åŸåˆ™**ï¼šå•ä¸€æ•°æ®æºï¼Œç»Ÿä¸€æ•°æ®è®¿é—®

### 2.2 æŠ€æœ¯æ ˆé€‰æ‹©

#### 2.2.1 æ ¸å¿ƒå¼€å‘ç¯å¢ƒ

| æŠ€æœ¯ç»„ä»¶ | é€‰æ‹© | ç‰ˆæœ¬è¦æ±‚ | é€‰æ‹©ç†ç”± |
|---------|------|----------|----------|
| **å¼€å‘IDE** | Android Studio | Latest Stable (2024.x) | Googleå®˜æ–¹IDEï¼ŒåŠŸèƒ½å®Œå–„ |
| **å¼€å‘è¯­è¨€** | Java/Kotlin | Java 8+ / Kotlin 1.9+ | å­¦æ ¡è¯¾ç¨‹è¦æ±‚ï¼Œæ˜“å­¦æ˜“ç”¨ |
| **æ„å»ºå·¥å…·** | Gradle | 8.0+ | Androidå®˜æ–¹æ„å»ºç³»ç»Ÿ |
| **æœ€ä½API** | Android 7.0 (API 24) | API 24+ | è¦†ç›–90%+è®¾å¤‡ï¼ŒåŠŸèƒ½ä¸°å¯Œ |
| **ç›®æ ‡API** | Android 14 (API 34) | API 34 | æœ€æ–°ç¨³å®šç‰ˆæœ¬ |

#### 2.2.2 æ¶æ„ä¸æ¡†æ¶

**MVPæ¶æ„å®ç°**
```gradle
// Base MVPæ¥å£
interface BaseView {
    fun showLoading()
    fun hideLoading()
    fun showError(message: String)
}

interface BasePresenter<T : BaseView> {
    fun attachView(view: T)
    fun detachView()
}
```

**æ ¸å¿ƒæŠ€æœ¯é€‰æ‹©**
- **æ¶æ„æ¨¡å¼**ï¼šMVP (Model-View-Presenter)
- **ä¾èµ–æ³¨å…¥**ï¼šä¸ä½¿ç”¨å¤æ‚DIæ¡†æ¶ï¼Œé‡‡ç”¨ç®€å•å·¥å‚æ¨¡å¼
- **å¼‚æ­¥å¤„ç†**ï¼šAsyncTask/Handler (ç®€åŒ–å­¦ä¹ å¤æ‚åº¦)
- **æ•°æ®ç»‘å®š**ï¼šä¸ä½¿ç”¨Data Bindingï¼Œé‡‡ç”¨ä¼ ç»ŸfindViewById

#### 2.2.3 UIä¸ç”¨æˆ·ä½“éªŒ

| ç»„ä»¶ç±»å‹ | æŠ€æœ¯é€‰æ‹© | è¯´æ˜ |
|---------|----------|------|
| **UIæ¡†æ¶** | Android Views | ä¼ ç»ŸViewç³»ç»Ÿï¼Œç¨³å®šå¯é  |
| **å¸ƒå±€æ–¹å¼** | ConstraintLayout + LinearLayout | çµæ´»å“åº”å¼å¸ƒå±€ |
| **Material Design** | Material Design Components | Googleå®˜æ–¹UIç»„ä»¶åº“ |
| **å›¾æ ‡åº“** | Material Icons | ç»Ÿä¸€è§†è§‰é£æ ¼ |
| **å­—ä½“** | Roboto (ç³»ç»Ÿé»˜è®¤) | ä¿æŒç³»ç»Ÿä¸€è‡´æ€§ |

#### 2.2.4 æ•°æ®å­˜å‚¨æŠ€æœ¯æ ˆ

**æœ¬åœ°å­˜å‚¨æ–¹æ¡ˆ** (é¿å…å¤æ‚çš„æ•°æ®åº“é…ç½®)
```java
// SharedPreferences for simple data
SharedPreferences prefs = context.getSharedPreferences("app_data", Context.MODE_PRIVATE);

// JSON files for complex data structures
Gson gson = new Gson();
String json = gson.toJson(courseList);
// Save to internal storage
```

| å­˜å‚¨ç±»å‹ | æŠ€æœ¯æ–¹æ¡ˆ | åº”ç”¨åœºæ™¯ |
|---------|----------|----------|
| **ç”¨æˆ·é…ç½®** | SharedPreferences | åº”ç”¨è®¾ç½®ã€ç”¨æˆ·åå¥½ |
| **ç»“æ„åŒ–æ•°æ®** | JSON + File | è¯¾ç¨‹ä¿¡æ¯ã€å­¦ä¹ è®¡åˆ’ |
| **ç¼“å­˜æ•°æ®** | Internal Storage | ä¸´æ—¶æ•°æ®ã€å›¾ç‰‡ç¼“å­˜ |
| **å¤§æ–‡ä»¶** | External Storage | ç”¨æˆ·æ–‡æ¡£ã€å¯¼å‡ºæ•°æ® |

#### 2.2.5 ç½‘ç»œä¸API

**ç½‘ç»œè¯·æ±‚æ¡†æ¶**
```java
// ä½¿ç”¨åŸºç¡€çš„HttpURLConnectionæˆ–OkHttp
OkHttpClient client = new OkHttpClient();
Request request = new Request.Builder()
    .url("https://api.openai.com/v1/chat/completions")
    .build();
```

| åŠŸèƒ½ | æŠ€æœ¯é€‰æ‹© | ç‰ˆæœ¬ |
|------|----------|------|
| **HTTPå®¢æˆ·ç«¯** | OkHttp | 4.12.x |
| **JSONè§£æ** | Gson | 2.10.x |
| **AIæ¥å£** | OpenAI API / æ›¿ä»£æ–¹æ¡ˆ | v1 |
| **å›¾ç‰‡åŠ è½½** | Glide | 4.16.x |

#### 2.2.6 å¼€å‘ä¸è°ƒè¯•å·¥å…·

**å¿…å¤‡å¼€å‘å·¥å…·**
- **ç‰ˆæœ¬æ§åˆ¶**ï¼šGit + GitHub
- **ä»£ç è§„èŒƒ**ï¼šAndroid Code Style
- **è°ƒè¯•å·¥å…·**ï¼šAndroid Studio Debugger
- **æ€§èƒ½åˆ†æ**ï¼šAndroid Profiler
- **UIè®¾è®¡**ï¼šFigma/Sketch (å¯é€‰)

**ä»£ç è´¨é‡å·¥å…·**
- **é™æ€åˆ†æ**ï¼šAndroid Lint
- **ä»£ç æ ¼å¼åŒ–**ï¼šAndroid Studioè‡ªå¸¦æ ¼å¼åŒ–
- **æ³¨é‡Šè§„èŒƒ**ï¼šJavaDocæ ‡å‡†æ³¨é‡Š

### 2.3 æ¶æ„æ¨¡å¼è¯´æ˜

#### 2.3.1 MVPæ¨¡å¼å…·ä½“å®ç°æŒ‡å¯¼

**æ¥å£å®šä¹‰è§„èŒƒ**
```java
// Contractæ¥å£æ¨¡å¼ï¼šå°†Viewã€Presenteræ¥å£ç»Ÿä¸€ç®¡ç†
public interface ChatContract {
    interface View extends BaseView {
        void displayMessage(String message);
        void showTyping();
        void hideTyping();
        void clearInput();
    }
    
    interface Presenter extends BasePresenter<View> {
        void sendMessage(String message);
        void loadChatHistory();
    }
}
```

#### 2.3.2 å„å±‚å®ç°æ¨¡æ¿

**Viewå±‚å®ç° (Activity/Fragment)**
```java
public class ChatActivity extends AppCompatActivity implements ChatContract.View {
    private ChatContract.Presenter presenter;
    private RecyclerView chatRecyclerView;
    private EditText messageInput;
    
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_chat);
        
        initViews();
        presenter = new ChatPresenter();
        presenter.attachView(this);
    }
    
    @Override
    public void displayMessage(String message) {
        // æ›´æ–°UIæ˜¾ç¤ºæ¶ˆæ¯
        runOnUiThread(() -> {
            chatAdapter.addMessage(message);
            chatRecyclerView.scrollToPosition(chatAdapter.getItemCount() - 1);
        });
    }
    
    @Override
    protected void onDestroy() {
        if (presenter != null) {
            presenter.detachView();
        }
        super.onDestroy();
    }
}
```

**Presenterå±‚å®ç°**
```java
public class ChatPresenter implements ChatContract.Presenter {
    private ChatContract.View view;
    private ChatRepository repository;
    
    public ChatPresenter() {
        repository = new ChatRepository();
    }
    
    @Override
    public void attachView(ChatContract.View view) {
        this.view = view;
    }
    
    @Override
    public void sendMessage(String message) {
        if (view != null) {
            view.showLoading();
        }
        
        // å¼‚æ­¥å¤„ç†ä¸šåŠ¡é€»è¾‘
        new AsyncTask<Void, Void, String>() {
            @Override
            protected String doInBackground(Void... voids) {
                return repository.sendMessageToAI(message);
            }
            
            @Override
            protected void onPostExecute(String response) {
                if (view != null) {
                    view.hideLoading();
                    view.displayMessage(response);
                }
            }
        }.execute();
    }
}
```

**Modelå±‚å®ç° (Repositoryæ¨¡å¼)**
```java
public class ChatRepository {
    private static final String CHAT_PREFS = "chat_preferences";
    private SharedPreferences preferences;
    private AIService aiService;
    
    public ChatRepository() {
        aiService = new AIService();
    }
    
    public String sendMessageToAI(String message) {
        try {
            // è°ƒç”¨AIæœåŠ¡
            return aiService.getResponse(message);
        } catch (Exception e) {
            return "æŠ±æ­‰ï¼ŒæœåŠ¡æš‚æ—¶ä¸å¯ç”¨";
        }
    }
    
    public List<Message> getChatHistory() {
        String json = preferences.getString("chat_history", "[]");
        Type type = new TypeToken<List<Message>>(){}.getType();
        return new Gson().fromJson(json, type);
    }
}
```

#### 2.3.3 æ•°æ®æµè½¬è§„èŒƒ

**æ ‡å‡†æ•°æ®æµç¨‹**
```
ç”¨æˆ·æ“ä½œ â†’ View â†’ Presenter â†’ Model â†’ Repository â†’ æ•°æ®æº
                â†‘              â†“              â†“
           UIæ›´æ–° â† Presenter â† Model â† Repository â† æ•°æ®å“åº”
```

**å…³é”®å®ç°åŸåˆ™**
1. **Viewä¸ç›´æ¥è®¿é—®Model**ï¼šæ‰€æœ‰æ•°æ®æ“ä½œå¿…é¡»é€šè¿‡Presenter
2. **Presenterä¸æŒæœ‰Android Context**ï¼šä¿è¯å¯æµ‹è¯•æ€§
3. **Modelè¿”å›çº¯æ•°æ®å¯¹è±¡**ï¼šä¸åŒ…å«UIç›¸å…³é€»è¾‘
4. **å¼‚æ­¥æ“ä½œç»Ÿä¸€ç®¡ç†**ï¼šåœ¨Presenterå±‚å¤„ç†çº¿ç¨‹åˆ‡æ¢

#### 2.3.4 ç”Ÿå‘½å‘¨æœŸç®¡ç†

**Activity/Fragmentç”Ÿå‘½å‘¨æœŸé›†æˆ**
```java
public abstract class BaseMvpActivity<T extends BasePresenter> extends AppCompatActivity {
    protected T presenter;
    
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        presenter = createPresenter();
        if (presenter != null) {
            presenter.attachView(this);
        }
    }
    
    @Override
    protected void onDestroy() {
        if (presenter != null) {
            presenter.detachView();
        }
        super.onDestroy();
    }
    
    protected abstract T createPresenter();
}
```

**å†…å­˜æ³„æ¼é˜²æŠ¤**
- Presenterä½¿ç”¨WeakReferenceæŒæœ‰View
- åŠæ—¶æ¸…ç†AsyncTaskå’ŒHandler
- onDestroyæ—¶æ–­å¼€View-Presenterè¿æ¥

### 2.4 ä¾èµ–ç®¡ç†

#### 2.4.1 Gradleé…ç½®è§„èŒƒ

**é¡¹ç›®çº§build.gradleé…ç½®**
```gradle
// Top-level build file
buildscript {
    ext.kotlin_version = "1.9.10"
    dependencies {
        classpath 'com.android.tools.build:gradle:8.1.2'
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    }
}

allprojects {
    repositories {
        google()
        mavenCentral()
        jcenter() // deprecated but still needed for some libraries
    }
}
```

**åº”ç”¨çº§build.gradleé…ç½®**
```gradle
android {
    compileSdk 34
    
    defaultConfig {
        applicationId "com.campus.aiassistant"
        minSdk 24
        targetSdk 34
        versionCode 1
        versionName "1.0"
        
        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    }
    
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }
    
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
}
```

#### 2.4.2 æ ¸å¿ƒä¾èµ–åº“é…ç½®

**å¿…éœ€ä¾èµ–åº“ (app/build.gradle)**
```gradle
dependencies {
    // Androidæ ¸å¿ƒåº“
    implementation 'androidx.appcompat:appcompat:1.6.1'
    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'
    implementation 'androidx.recyclerview:recyclerview:1.3.2'
    implementation 'androidx.cardview:cardview:1.0.0'
    
    // Material Design
    implementation 'com.google.android.material:material:1.10.0'
    
    // ç½‘ç»œè¯·æ±‚
    implementation 'com.squareup.okhttp3:okhttp:4.12.0'
    implementation 'com.squareup.okhttp3:logging-interceptor:4.12.0'
    
    // JSONè§£æ
    implementation 'com.google.code.gson:gson:2.10.1'
    
    // å›¾ç‰‡åŠ è½½
    implementation 'com.github.bumptech.glide:glide:4.16.0'
    
    // æµ‹è¯•ä¾èµ–
    testImplementation 'junit:junit:4.13.2'
    androidTestImplementation 'androidx.test.ext:junit:1.1.5'
    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'
}
```

#### 2.4.3 ç‰ˆæœ¬ç®¡ç†ç­–ç•¥

**ç»Ÿä¸€ç‰ˆæœ¬å·ç®¡ç†**
```gradle
// åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºversions.gradle
ext {
    // SDKç‰ˆæœ¬
    compileSdkVersion = 34
    minSdkVersion = 24
    targetSdkVersion = 34
    
    // åº”ç”¨ç‰ˆæœ¬
    versionCode = 1
    versionName = "1.0.0"
    
    // ä¾èµ–ç‰ˆæœ¬
    androidxVersion = "1.6.1"
    materialVersion = "1.10.0"
    okhttpVersion = "4.12.0"
    gsonVersion = "2.10.1"
    glideVersion = "4.16.0"
    
    // æµ‹è¯•ç‰ˆæœ¬
    junitVersion = "4.13.2"
    espressoVersion = "3.5.1"
}
```

#### 2.4.4 ä¾èµ–åº“é€‰æ‹©åŸåˆ™

**é€‰æ‹©æ ‡å‡†**
1. **ç¨³å®šæ€§ä¼˜å…ˆ**ï¼šé€‰æ‹©é•¿æœŸæ”¯æŒçš„ç¨³å®šç‰ˆæœ¬
2. **ç¤¾åŒºæ´»è·ƒåº¦**ï¼šä¼˜å…ˆé€‰æ‹©ç»´æŠ¤æ´»è·ƒçš„å¼€æºåº“
3. **æ–‡æ¡£å®Œæ•´æ€§**ï¼šç¡®ä¿æœ‰å®Œæ•´çš„å®˜æ–¹æ–‡æ¡£
4. **é¡¹ç›®å¤æ‚åº¦åŒ¹é…**ï¼šé¿å…è¿‡åº¦å·¥ç¨‹åŒ–

**é¿å…ä½¿ç”¨çš„å¤æ‚æ¡†æ¶**
```gradle
// ä¸å»ºè®®åœ¨å­¦ç”Ÿé¡¹ç›®ä¸­ä½¿ç”¨çš„å¤æ‚ä¾èµ–
// implementation 'com.google.dagger:dagger:2.x' // DIæ¡†æ¶è¿‡äºå¤æ‚
// implementation 'io.reactivex.rxjava2:rxjava:2.x' // RxJavaå­¦ä¹ æˆæœ¬é«˜
// implementation 'androidx.databinding:databinding:x.x' // Data Bindingå¢åŠ å¤æ‚åº¦
```

#### 2.4.5 æ„å»ºé…ç½®ä¼˜åŒ–

**ProGuardé…ç½® (proguard-rules.pro)**
```proguard
# ä¿ç•™Gsonç›¸å…³ç±»
-keep class com.google.gson.** { *; }
-keep class com.campus.aiassistant.model.** { *; }

# ä¿ç•™OkHttp
-dontwarn okhttp3.**
-dontwarn okio.**

# ä¿ç•™Glide
-keep public class * implements com.bumptech.glide.module.GlideModule
```

**Gradleæ€§èƒ½ä¼˜åŒ–**
```gradle
// gradle.propertiesæ–‡ä»¶é…ç½®
org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8
org.gradle.parallel=true
org.gradle.caching=true
android.useAndroidX=true
android.enableJetifier=true
```

#### 2.4.6 ä¾èµ–æ›´æ–°ç»´æŠ¤

**ç‰ˆæœ¬æ›´æ–°ç­–ç•¥**
- **ä¸»ç‰ˆæœ¬**ï¼šæ…é‡å‡çº§ï¼Œéœ€è¦å……åˆ†æµ‹è¯•
- **æ¬¡ç‰ˆæœ¬**ï¼šå®šæœŸæ›´æ–°ï¼Œå…³æ³¨å…¼å®¹æ€§
- **è¡¥ä¸ç‰ˆæœ¬**ï¼šåŠæ—¶æ›´æ–°ï¼Œä¿®å¤å®‰å…¨é—®é¢˜

**ä¾èµ–æ£€æŸ¥å·¥å…·**
```bash
# æ£€æŸ¥è¿‡æœŸä¾èµ–
./gradlew dependencyUpdates

# åˆ†æä¾èµ–æ ‘
./gradlew app:dependencies
```

---

## 3. æ ¸å¿ƒåŠŸèƒ½æ¨¡å—è®¾è®¡

### 3.1 AIå¯¹è¯åŠ©æ‰‹æ¨¡å—

#### 3.1.1 åŠŸèƒ½è§„èŒƒè®¾è®¡

**æ ¸å¿ƒåŠŸèƒ½æè¿°**
- è‡ªç„¶è¯­è¨€å¯¹è¯äº¤äº’
- å¤šè½®å¯¹è¯ä¸Šä¸‹æ–‡ä¿æŒ
- æ ¡å›­åœºæ™¯æ™ºèƒ½é—®ç­”
- å­¦ä¹ åŠ©æ‰‹å’Œç”Ÿæ´»é¡¾é—®

**åŠŸèƒ½ä¼˜å…ˆçº§**
| åŠŸèƒ½ | ä¼˜å…ˆçº§ | è¯´æ˜ |
|------|--------|------|
| åŸºç¡€å¯¹è¯ | P0 | å‘é€/æ¥æ”¶æ¶ˆæ¯ï¼ŒåŸºç¡€UI |
| ä¸Šä¸‹æ–‡ä¿æŒ | P1 | å¤šè½®å¯¹è¯è¿è´¯æ€§ |
| å†å²è®°å½• | P1 | æœ¬åœ°å¯¹è¯å†å²å­˜å‚¨ |
| æ™ºèƒ½å»ºè®® | P2 | åŸºäºç”¨æˆ·è¾“å…¥çš„æ™ºèƒ½æç¤º |

#### 3.1.2 æ¥å£å®šä¹‰è§„èŒƒ

**Contractæ¥å£è®¾è®¡**
```java
public interface ChatContract {
    interface View extends BaseView {
        void displayMessage(Message message);
        void showTypingIndicator();
        void hideTypingIndicator();
        void clearInput();
        void scrollToBottom();
        void showSuggestedQuestions(List<String> suggestions);
    }
    
    interface Presenter extends BasePresenter<View> {
        void sendMessage(String text);
        void loadChatHistory();
        void clearHistory();
        void retryLastMessage();
        void loadSuggestedQuestions();
    }
}
```

**APIæœåŠ¡æ¥å£**
```java
public interface AIService {
    // å‘é€æ¶ˆæ¯åˆ°AIæœåŠ¡
    Call<AIResponse> sendMessage(AIRequest request);
    
    // è·å–å»ºè®®é—®é¢˜
    Call<SuggestionsResponse> getSuggestions(String context);
}

public class AIRequest {
    private String message;
    private List<Message> context; // ä¸Šä¸‹æ–‡å†å²
    private String userId;
    private long timestamp;
}
```

#### 3.1.3 æ•°æ®ç»“æ„è®¾è®¡

**æ¶ˆæ¯æ•°æ®æ¨¡å‹**
```java
public class Message {
    private String id;              // æ¶ˆæ¯ID
    private String content;         // æ¶ˆæ¯å†…å®¹
    private MessageType type;       // æ¶ˆæ¯ç±»å‹ (USER/AI/SYSTEM)
    private long timestamp;         // æ—¶é—´æˆ³
    private boolean isLoading;      // åŠ è½½çŠ¶æ€
    private String error;           // é”™è¯¯ä¿¡æ¯
    
    public enum MessageType {
        USER, AI, SYSTEM, ERROR
    }
}

public class ChatSession {
    private String sessionId;
    private List<Message> messages;
    private long createTime;
    private long lastUpdateTime;
    private String title;           // ä¼šè¯æ ‡é¢˜
}
```

**æœ¬åœ°å­˜å‚¨ç»“æ„**
```json
{
  "chatSessions": [
    {
      "sessionId": "session_001",
      "title": "å…³äºJavaå­¦ä¹ çš„è®¨è®º",
      "createTime": 1704067200000,
      "messages": [
        {
          "id": "msg_001",
          "content": "æˆ‘æƒ³å­¦ä¹ Javaç¼–ç¨‹",
          "type": "USER",
          "timestamp": 1704067200000
        },
        {
          "id": "msg_002", 
          "content": "Javaæ˜¯ä¸€é—¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€...",
          "type": "AI",
          "timestamp": 1704067205000
        }
      ]
    }
  ]
}
```

#### 3.1.4 äº¤äº’æµç¨‹è®¾è®¡

**åŸºç¡€å¯¹è¯æµç¨‹**
```
ç”¨æˆ·è¾“å…¥ â†’ è¾“å…¥éªŒè¯ â†’ æ˜¾ç¤ºç”¨æˆ·æ¶ˆæ¯ â†’ æ˜¾ç¤ºåŠ è½½çŠ¶æ€ 
    â†“
è°ƒç”¨AI API â†’ å¤„ç†å“åº” â†’ éšè—åŠ è½½çŠ¶æ€ â†’ æ˜¾ç¤ºAIå›å¤
    â†“
ä¿å­˜å¯¹è¯å†å² â†’ æ›´æ–°UIçŠ¶æ€ â†’ ç­‰å¾…ä¸‹æ¬¡è¾“å…¥
```

**é”™è¯¯å¤„ç†æµç¨‹**
```
APIè°ƒç”¨å¤±è´¥ â†’ æ˜¾ç¤ºé”™è¯¯æç¤º â†’ æä¾›é‡è¯•é€‰é¡¹ â†’ è®°å½•é”™è¯¯æ—¥å¿—
```

#### 3.1.5 UIè®¾è®¡è§„èŒƒ

**èŠå¤©ç•Œé¢å¸ƒå±€**
```xml
<!-- activity_chat.xml -->
<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">
    
    <!-- æ ‡é¢˜æ  -->
    <include layout="@layout/toolbar_chat" />
    
    <!-- æ¶ˆæ¯åˆ—è¡¨ -->
    <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/recyclerView_messages"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1" />
    
    <!-- è¾“å…¥åŒºåŸŸ -->
    <include layout="@layout/layout_chat_input" />
    
</LinearLayout>
```

**æ¶ˆæ¯æ°”æ³¡è®¾è®¡**
- ç”¨æˆ·æ¶ˆæ¯ï¼šå³å¯¹é½ï¼Œè“è‰²èƒŒæ™¯
- AIæ¶ˆæ¯ï¼šå·¦å¯¹é½ï¼Œç°è‰²èƒŒæ™¯
- ç³»ç»Ÿæ¶ˆæ¯ï¼šå±…ä¸­ï¼Œé€æ˜èƒŒæ™¯
- é”™è¯¯æ¶ˆæ¯ï¼šçº¢è‰²è¾¹æ¡†æç¤º

#### 3.1.6 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

**æ•°æ®åŠ è½½ä¼˜åŒ–**
- åˆ†é¡µåŠ è½½å†å²æ¶ˆæ¯
- æ¶ˆæ¯å†…å®¹è¶…é•¿æ—¶æˆªæ–­æ˜¾ç¤º
- å›¾ç‰‡æ¶ˆæ¯æ‡’åŠ è½½

**å†…å­˜ç®¡ç†**
- é™åˆ¶å†…å­˜ä¸­ä¿å­˜çš„æ¶ˆæ¯æ•°é‡
- åŠæ—¶æ¸…ç†æ— ç”¨çš„æ¶ˆæ¯å¯¹è±¡
- ä½¿ç”¨WeakReferenceé¿å…å†…å­˜æ³„æ¼

### 3.2 è¯¾ç¨‹ç®¡ç†æ¨¡å—

#### 3.2.1 åŠŸèƒ½è§„èŒƒè®¾è®¡

**æ ¸å¿ƒåŠŸèƒ½åˆ—è¡¨**
- è¯¾ç¨‹ä¿¡æ¯å½•å…¥å’Œç¼–è¾‘
- è¯¾ç¨‹è¡¨å¯è§†åŒ–å±•ç¤º
- ä½œä¸šå’Œè€ƒè¯•æé†’
- æˆç»©è®°å½•å’Œç»Ÿè®¡åˆ†æ
- è¯¾ç¨‹ç¬”è®°å’Œèµ„æ–™ç®¡ç†

**åŠŸèƒ½ä¼˜å…ˆçº§**
| åŠŸèƒ½ | ä¼˜å…ˆçº§ | è¯´æ˜ |
|------|--------|------|
| è¯¾ç¨‹CRUD | P0 | å¢åˆ æ”¹æŸ¥åŸºç¡€åŠŸèƒ½ |
| è¯¾ç¨‹è¡¨å±•ç¤º | P0 | å‘¨è§†å›¾å’Œæ—¥è§†å›¾ |
| æé†’åŠŸèƒ½ | P1 | è¯¾ç¨‹ã€ä½œä¸šã€è€ƒè¯•æé†’ |
| æˆç»©ç®¡ç† | P1 | æˆç»©å½•å…¥å’Œç»Ÿè®¡ |
| ç¬”è®°ç®¡ç† | P2 | è¯¾ç¨‹ç›¸å…³ç¬”è®° |

#### 3.2.2 æ¥å£å®šä¹‰è§„èŒƒ

**Contractæ¥å£è®¾è®¡**
```java
public interface CourseContract {
    interface View extends BaseView {
        void showCourseList(List<Course> courses);
        void showCourseDetail(Course course);
        void showCourseSchedule(List<CourseSchedule> schedules);
        void showGradeStatistics(GradeStatistics stats);
        void confirmDeleteCourse(Course course);
        void showAddCourseDialog();
    }
    
    interface Presenter extends BasePresenter<View> {
        void loadCourses();
        void addCourse(Course course);
        void updateCourse(Course course);
        void deleteCourse(String courseId);
        void loadCourseSchedule(String semester);
        void calculateGradeStatistics();
    }
}
```

**Repositoryæ¥å£**
```java
public interface CourseRepository {
    // è¯¾ç¨‹åŸºç¡€æ“ä½œ
    List<Course> getAllCourses();
    Course getCourseById(String courseId);
    void saveCourse(Course course);
    void deleteCourse(String courseId);
    
    // æˆç»©ç®¡ç†
    void saveGrade(Grade grade);
    List<Grade> getGradesByCourse(String courseId);
    GradeStatistics calculateStatistics();
}
```

#### 3.2.3 æ•°æ®ç»“æ„è®¾è®¡

**è¯¾ç¨‹æ•°æ®æ¨¡å‹**
```java
public class Course {
    private String courseId;        // è¯¾ç¨‹ID
    private String courseName;      // è¯¾ç¨‹åç§°
    private String courseCode;      // è¯¾ç¨‹ä»£ç 
    private String instructor;      // æˆè¯¾æ•™å¸ˆ
    private int credits;           // å­¦åˆ†
    private String classroom;      // æ•™å®¤
    private String semester;       // å­¦æœŸ
    private List<CourseTime> times; // ä¸Šè¯¾æ—¶é—´
    private String description;    // è¯¾ç¨‹æè¿°
    
    // Getter and Setter methods
}

public class CourseTime {
    private DayOfWeek dayOfWeek;   // æ˜ŸæœŸå‡ 
    private int startTime;         // å¼€å§‹æ—¶é—´ (å¦‚:800è¡¨ç¤º8:00)
    private int endTime;           // ç»“æŸæ—¶é—´
    private int weekStart;         // å¼€å§‹å‘¨æ¬¡
    private int weekEnd;           // ç»“æŸå‘¨æ¬¡
}

public class Grade {
    private String gradeId;
    private String courseId;
    private String assignmentName; // ä½œä¸š/è€ƒè¯•åç§°
    private double score;          // å¾—åˆ†
    private double totalScore;     // æ€»åˆ†
    private GradeType type;        // æˆç»©ç±»å‹
    private long recordTime;       // è®°å½•æ—¶é—´
    
    public enum GradeType {
        HOMEWORK, QUIZ, MIDTERM, FINAL, PROJECT
    }
}
```

**æœ¬åœ°å­˜å‚¨ç»“æ„**
```json
{
  "courses": [
    {
      "courseId": "CS101",
      "courseName": "Javaç¨‹åºè®¾è®¡",
      "courseCode": "CS101",
      "instructor": "å¼ æ•™æˆ",
      "credits": 3,
      "classroom": "è®¡ç®—æœºæ¥¼101",
      "semester": "2024-Spring",
      "times": [
        {
          "dayOfWeek": "MONDAY",
          "startTime": 800,
          "endTime": 950,
          "weekStart": 1,
          "weekEnd": 16
        }
      ]
    }
  ],
  "grades": [
    {
      "gradeId": "grade_001",
      "courseId": "CS101", 
      "assignmentName": "ç¬¬ä¸€æ¬¡ä½œä¸š",
      "score": 85,
      "totalScore": 100,
      "type": "HOMEWORK"
    }
  ]
}
```

#### 3.2.4 äº¤äº’æµç¨‹è®¾è®¡

**è¯¾ç¨‹æ·»åŠ æµç¨‹**
```
ç‚¹å‡»æ·»åŠ æŒ‰é’® â†’ æ˜¾ç¤ºè¯¾ç¨‹è¡¨å• â†’ å¡«å†™è¯¾ç¨‹ä¿¡æ¯ â†’ éªŒè¯æ•°æ®
    â†“
ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨ â†’ æ›´æ–°è¯¾ç¨‹åˆ—è¡¨ â†’ æ˜¾ç¤ºæˆåŠŸæç¤º â†’ è¿”å›åˆ—è¡¨é¡µé¢
```

**è¯¾ç¨‹è¡¨æŸ¥çœ‹æµç¨‹**
```
é€‰æ‹©å­¦æœŸ â†’ åŠ è½½è¯¾ç¨‹æ•°æ® â†’ è®¡ç®—æ—¶é—´å¸ƒå±€ â†’ æ¸²æŸ“è¯¾ç¨‹è¡¨è§†å›¾
    â†“
æ”¯æŒå‘¨è§†å›¾/æ—¥è§†å›¾åˆ‡æ¢ â†’ ç‚¹å‡»è¯¾ç¨‹æ˜¾ç¤ºè¯¦æƒ… â†’ æ”¯æŒå¿«é€Ÿç¼–è¾‘
```

#### 3.2.5 UIè®¾è®¡è§„èŒƒ

**è¯¾ç¨‹è¡¨å¸ƒå±€è®¾è®¡**
```xml
<!-- fragment_course_schedule.xml -->
<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">
    
    <!-- å­¦æœŸé€‰æ‹©å™¨ -->
    <Spinner
        android:id="@+id/spinner_semester"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" />
    
    <!-- å‘¨æ¬¡å¯¼èˆª -->
    <HorizontalScrollView
        android:layout_width="match_parent"
        android:layout_height="wrap_content">
        <!-- å‘¨æ¬¡æŒ‰é’® -->
    </HorizontalScrollView>
    
    <!-- è¯¾ç¨‹è¡¨æ ¼ -->
    <TableLayout
        android:id="@+id/table_schedule"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1">
        <!-- åŠ¨æ€æ·»åŠ è¯¾ç¨‹æ ¼å­ -->
    </TableLayout>
    
</LinearLayout>
```

**è¯¾ç¨‹å¡ç‰‡è®¾è®¡**
- è¯¾ç¨‹åç§°ï¼šå¤§å­—ä½“æ˜¾ç¤º
- æ•™å¸ˆå’Œæ•™å®¤ï¼šå°å­—ä½“è¾…åŠ©ä¿¡æ¯
- æ—¶é—´èŒƒå›´ï¼šé†’ç›®æ ‡è¯†
- çŠ¶æ€æŒ‡ç¤ºï¼šä¸åŒé¢œè‰²è¡¨ç¤ºä¸åŒçŠ¶æ€

#### 3.2.6 ä¸šåŠ¡é€»è¾‘è§„èŒƒ

**æ—¶é—´å†²çªæ£€æŸ¥**
```java
public boolean hasTimeConflict(Course newCourse, List<Course> existingCourses) {
    for (Course existing : existingCourses) {
        for (CourseTime newTime : newCourse.getTimes()) {
            for (CourseTime existingTime : existing.getTimes()) {
                if (isTimeOverlap(newTime, existingTime)) {
                    return true;
                }
            }
        }
    }
    return false;
}
```

**æˆç»©ç»Ÿè®¡ç®—æ³•**
```java
public GradeStatistics calculateStatistics(List<Grade> grades) {
    double totalScore = 0;
    double totalPossible = 0;
    Map<GradeType, Double> typeAverages = new HashMap<>();
    
    // æŒ‰ç±»å‹åˆ†ç»„è®¡ç®—å¹³å‡åˆ†
    // è®¡ç®—æ€»ä½“GPA
    // ç”Ÿæˆè¶‹åŠ¿åˆ†æ
    
    return new GradeStatistics(totalScore, totalPossible, typeAverages);
}
```

### 3.3 å­¦ä¹ è®¡åˆ’æ¨¡å—

#### 3.3.1 åŠŸèƒ½è§„èŒƒè®¾è®¡

**æ ¸å¿ƒåŠŸèƒ½æè¿°**
- ä¸ªæ€§åŒ–å­¦ä¹ è®¡åˆ’åˆ¶å®š
- å­¦ä¹ è¿›åº¦è·Ÿè¸ªå’Œå¯è§†åŒ–
- ç›®æ ‡è®¾å®šå’Œè¾¾æˆç›‘æ§
- å­¦ä¹ æ•ˆç‡åˆ†æå’Œå»ºè®®
- ä»»åŠ¡æé†’å’Œæ—¶é—´ç®¡ç†

**åŠŸèƒ½ä¼˜å…ˆçº§**
| åŠŸèƒ½ | ä¼˜å…ˆçº§ | è¯´æ˜ |
|------|--------|------|
| è®¡åˆ’åˆ›å»º | P0 | åˆ›å»ºã€ç¼–è¾‘å­¦ä¹ è®¡åˆ’ |
| è¿›åº¦è·Ÿè¸ª | P0 | ä»»åŠ¡å®ŒæˆçŠ¶æ€ç®¡ç† |
| ç›®æ ‡ç›‘æ§ | P1 | ç›®æ ‡è®¾å®šå’Œè¿›åº¦ç›‘æ§ |
| æ•°æ®åˆ†æ | P1 | å­¦ä¹ æ•ˆç‡ç»Ÿè®¡åˆ†æ |
| æ™ºèƒ½å»ºè®® | P2 | AIè¾…åŠ©è®¡åˆ’ä¼˜åŒ– |

#### 3.3.2 æ¥å£å®šä¹‰è§„èŒƒ

**Contractæ¥å£è®¾è®¡**
```java
public interface StudyPlanContract {
    interface View extends BaseView {
        void showPlanList(List<StudyPlan> plans);
        void showPlanDetail(StudyPlan plan);
        void showProgressChart(ProgressData data);
        void showGoalStatistics(GoalStatistics stats);
        void showTaskReminder(Task task);
        void showEfficiencyAnalysis(EfficiencyReport report);
    }
    
    interface Presenter extends BasePresenter<View> {
        void loadStudyPlans();
        void createPlan(StudyPlan plan);
        void updatePlan(StudyPlan plan);
        void deletePlan(String planId);
        void completeTask(String taskId);
        void generateProgressReport();
        void getStudyRecommendations();
    }
}
```

#### 3.3.3 æ•°æ®ç»“æ„è®¾è®¡

**å­¦ä¹ è®¡åˆ’æ•°æ®æ¨¡å‹**
```java
public class StudyPlan {
    private String planId;          // è®¡åˆ’ID
    private String title;           // è®¡åˆ’æ ‡é¢˜
    private String description;     // è®¡åˆ’æè¿°
    private PlanType type;          // è®¡åˆ’ç±»å‹
    private Date startDate;         // å¼€å§‹æ—¥æœŸ
    private Date endDate;           // ç»“æŸæ—¥æœŸ
    private List<Goal> goals;       // å­¦ä¹ ç›®æ ‡
    private List<Task> tasks;       // ä»»åŠ¡åˆ—è¡¨
    private PlanStatus status;      // è®¡åˆ’çŠ¶æ€
    
    public enum PlanType {
        DAILY, WEEKLY, MONTHLY, EXAM_PREP, PROJECT
    }
}

public class Task {
    private String taskId;
    private String planId;
    private String title;
    private TaskPriority priority;  // ä¼˜å…ˆçº§
    private int estimatedHours;     // é¢„ä¼°æ—¶é•¿
    private Date dueDate;           // æˆªæ­¢æ—¥æœŸ
    private TaskStatus status;      // ä»»åŠ¡çŠ¶æ€
    
    public enum TaskPriority {
        LOW, MEDIUM, HIGH, URGENT
    }
    
    public enum TaskStatus {
        TODO, IN_PROGRESS, COMPLETED, CANCELLED
    }
}
```

#### 3.3.4 UIè®¾è®¡è§„èŒƒ

**è®¡åˆ’æ¦‚è§ˆç•Œé¢**
```xml
<!-- fragment_study_plan.xml -->
<ScrollView
    android:layout_width="match_parent"
    android:layout_height="match_parent">
    
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">
        
        <!-- è¿›åº¦æ¦‚è§ˆå¡ç‰‡ -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content">
            <!-- è¿›åº¦åœ†ç¯å’Œç»Ÿè®¡ä¿¡æ¯ -->
        </androidx.cardview.widget.CardView>
        
        <!-- ä»Šæ—¥ä»»åŠ¡ -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content">
            <androidx.recyclerview.widget.RecyclerView
                android:id="@+id/recycler_today_tasks"
                android:layout_width="match_parent"
                android:layout_height="wrap_content" />
        </androidx.cardview.widget.CardView>
        
    </LinearLayout>
</ScrollView>
```

#### 3.3.5 ç®—æ³•å’Œä¸šåŠ¡é€»è¾‘

**å­¦ä¹ æ•ˆç‡è®¡ç®—**
```java
public class EfficiencyCalculator {
    
    public double calculateTaskEfficiency(Task task) {
        if (task.getEstimatedHours() == 0) return 1.0;
        return (double) task.getEstimatedHours() / task.getActualHours();
    }
    
    public EfficiencyReport generateReport(List<Task> completedTasks) {
        double avgEfficiency = completedTasks.stream()
            .mapToDouble(this::calculateTaskEfficiency)
            .average()
            .orElse(0.0);
            
        return new EfficiencyReport(avgEfficiency);
    }
}
```

### 3.4 æ ¡å›­ä¿¡æ¯æŸ¥è¯¢æ¨¡å—

#### 3.4.1 åŠŸèƒ½è§„èŒƒè®¾è®¡

**æ ¸å¿ƒåŠŸèƒ½æè¿°**
- æ ¡å›­æœåŠ¡ä¿¡æ¯æ•´åˆå±•ç¤º
- å¤šç»´åº¦ä¿¡æ¯æœç´¢å’Œç­›é€‰
- å¸¸ç”¨ä¿¡æ¯æ”¶è—å’Œå¿«é€Ÿè®¿é—®
- æ ¡å›­é€šçŸ¥å…¬å‘Šæ¨é€
- åœ°å›¾å¯¼èˆªå’Œä½ç½®æœåŠ¡

**åŠŸèƒ½ä¼˜å…ˆçº§**
| åŠŸèƒ½ | ä¼˜å…ˆçº§ | è¯´æ˜ |
|------|--------|------|
| ä¿¡æ¯æµè§ˆ | P0 | åŸºç¡€ä¿¡æ¯å±•ç¤ºå’Œåˆ†ç±» |
| æœç´¢ç­›é€‰ | P0 | å…³é”®å­—æœç´¢å’Œåˆ†ç±»ç­›é€‰ |
| æ”¶è—ç®¡ç† | P1 | å¸¸ç”¨ä¿¡æ¯æ”¶è—åŠŸèƒ½ |
| é€šçŸ¥æ¨é€ | P1 | é‡è¦ä¿¡æ¯æé†’é€šçŸ¥ |
| åœ°å›¾å¯¼èˆª | P2 | æ ¡å›­åœ°å›¾å’Œä½ç½®å¯¼èˆª |

#### 3.4.2 æ¥å£å®šä¹‰è§„èŒƒ

**Contractæ¥å£è®¾è®¡**
```java
public interface CampusInfoContract {
    interface View extends BaseView {
        void showInfoCategories(List<InfoCategory> categories);
        void showInfoList(List<CampusInfo> infoList);
        void showInfoDetail(CampusInfo info);
        void showSearchResults(List<CampusInfo> results);
        void showFavoritesList(List<CampusInfo> favorites);
        void showNotifications(List<Notification> notifications);
    }
    
    interface Presenter extends BasePresenter<View> {
        void loadInfoCategories();
        void loadInfoByCategory(String categoryId);
        void searchInfo(String keyword, String category);
        void addToFavorites(String infoId);
        void removeFromFavorites(String infoId);
        void markNotificationAsRead(String notificationId);
    }
}
```

#### 3.4.3 æ•°æ®ç»“æ„è®¾è®¡

**æ ¡å›­ä¿¡æ¯æ•°æ®æ¨¡å‹**
```java
public class CampusInfo {
    private String infoId;          // ä¿¡æ¯ID
    private String title;           // æ ‡é¢˜
    private String content;         // å†…å®¹
    private InfoCategory category;  // åˆ†ç±»
    private List<String> tags;      // æ ‡ç­¾
    private String location;        // ä½ç½®ä¿¡æ¯
    private String contact;         // è”ç³»æ–¹å¼
    private long publishTime;       // å‘å¸ƒæ—¶é—´
    private long updateTime;        // æ›´æ–°æ—¶é—´
    private boolean isFavorite;     // æ˜¯å¦æ”¶è—
    private InfoStatus status;      // çŠ¶æ€
    
    public enum InfoStatus {
        ACTIVE, INACTIVE, EXPIRED
    }
}

public class InfoCategory {
    private String categoryId;
    private String categoryName;
    private String description;
    private String iconUrl;
    private int sortOrder;
    
    // é¢„å®šä¹‰åˆ†ç±»
    public static final String DINING = "dining";           // é¤é¥®æœåŠ¡
    public static final String LIBRARY = "library";         // å›¾ä¹¦é¦†
    public static final String ACADEMIC = "academic";       // æ•™åŠ¡ä¿¡æ¯
    public static final String ACTIVITY = "activity";       // æ ¡å›­æ´»åŠ¨
    public static final String SERVICES = "services";       // ç”Ÿæ´»æœåŠ¡
    public static final String TRANSPORT = "transport";     // äº¤é€šä¿¡æ¯
}

public class Notification {
    private String notificationId;
    private String title;
    private String content;
    private NotificationType type;
    private long createTime;
    private boolean isRead;
    private String relatedInfoId;    // å…³è”çš„ä¿¡æ¯ID
    
    public enum NotificationType {
        GENERAL, URGENT, ACADEMIC, ACTIVITY, SERVICE
    }
}
```

**æœ¬åœ°å­˜å‚¨ç»“æ„**
```json
{
  "campusInfo": [
    {
      "infoId": "info_001",
      "title": "ç¬¬ä¸€é£Ÿå ‚è¥ä¸šæ—¶é—´",
      "content": "æ—©é¤: 6:30-9:00\nåˆé¤: 11:00-14:00\næ™šé¤: 17:00-20:00",
      "category": {
        "categoryId": "dining",
        "categoryName": "é¤é¥®æœåŠ¡"
      },
      "tags": ["é£Ÿå ‚", "è¥ä¸šæ—¶é—´"],
      "location": "ç¬¬ä¸€é£Ÿå ‚",
      "contact": "0571-12345678",
      "publishTime": 1704067200000,
      "status": "ACTIVE"
    }
  ],
  "favorites": ["info_001", "info_005"],
  "notifications": [
    {
      "notificationId": "notif_001",
      "title": "å›¾ä¹¦é¦†ç³»ç»Ÿç»´æŠ¤é€šçŸ¥",
      "content": "å›¾ä¹¦é¦†å°†äºæœ¬å‘¨å…­è¿›è¡Œç³»ç»Ÿç»´æŠ¤...",
      "type": "GENERAL",
      "createTime": 1704067200000,
      "isRead": false
    }
  ]
}
```

#### 3.4.4 äº¤äº’æµç¨‹è®¾è®¡

**ä¿¡æ¯æµè§ˆæµç¨‹**
```
è¿›å…¥é¦–é¡µ â†’ æ˜¾ç¤ºåˆ†ç±»åˆ—è¡¨ â†’ é€‰æ‹©åˆ†ç±» â†’ æ˜¾ç¤ºä¿¡æ¯åˆ—è¡¨
    â†“
ç‚¹å‡»ä¿¡æ¯é¡¹ â†’ æ˜¾ç¤ºè¯¦ç»†å†…å®¹ â†’ æ”¯æŒæ”¶è—/åˆ†äº« â†’ è¿”å›åˆ—è¡¨
```

**æœç´¢æŸ¥è¯¢æµç¨‹**
```
è¾“å…¥å…³é”®å­— â†’ é€‰æ‹©æœç´¢èŒƒå›´ â†’ æ‰§è¡Œæœç´¢ â†’ æ˜¾ç¤ºç»“æœåˆ—è¡¨
    â†“
æ”¯æŒç­›é€‰æ’åº â†’ æŸ¥çœ‹è¯¦æƒ… â†’ ç›¸å…³æ¨è â†’ ä¿å­˜æœç´¢å†å²
```

#### 3.4.5 UIè®¾è®¡è§„èŒƒ

**ä¿¡æ¯é¦–é¡µå¸ƒå±€**
```xml
<!-- fragment_campus_info.xml -->
<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">
    
    <!-- æœç´¢æ  -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal">
        
        <EditText
            android:id="@+id/editText_search"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:hint="æœç´¢æ ¡å›­ä¿¡æ¯" />
            
        <ImageButton
            android:id="@+id/button_search"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:src="@drawable/ic_search" />
    </LinearLayout>
    
    <!-- å¿«æ·å…¥å£ -->
    <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/recycler_categories"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" />
    
    <!-- ä¿¡æ¯åˆ—è¡¨ -->
    <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/recycler_info_list"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1" />
        
</LinearLayout>
```

**ä¿¡æ¯å¡ç‰‡è®¾è®¡**
- æ ‡é¢˜åŒºåŸŸï¼šæ¸…æ™°çš„ä¿¡æ¯æ ‡é¢˜å’Œåˆ†ç±»æ ‡ç­¾
- å†…å®¹é¢„è§ˆï¼šå…³é”®ä¿¡æ¯æ‘˜è¦æ˜¾ç¤º
- å…ƒæ•°æ®ï¼šå‘å¸ƒæ—¶é—´ã€ä½ç½®ã€è”ç³»æ–¹å¼
- æ“ä½œæŒ‰é’®ï¼šæ”¶è—ã€åˆ†äº«ã€æŸ¥çœ‹è¯¦æƒ…
- çŠ¶æ€æŒ‡ç¤ºï¼šæ–°ä¿¡æ¯ã€ç´§æ€¥ä¿¡æ¯çš„è§†è§‰æ ‡è¯†

#### 3.4.6 ä¸šåŠ¡é€»è¾‘ç®—æ³•

**æœç´¢ç®—æ³•å®ç°**
```java
public class InfoSearchEngine {
    
    public List<CampusInfo> searchInfo(String keyword, String categoryFilter) {
        List<CampusInfo> allInfo = repository.getAllCampusInfo();
        
        return allInfo.stream()
            .filter(info -> matchesKeyword(info, keyword))
            .filter(info -> matchesCategory(info, categoryFilter))
            .sorted((a, b) -> calculateRelevanceScore(b, keyword) - 
                              calculateRelevanceScore(a, keyword))
            .collect(Collectors.toList());
    }
    
    private boolean matchesKeyword(CampusInfo info, String keyword) {
        if (keyword == null || keyword.trim().isEmpty()) {
            return true;
        }
        
        String searchText = (info.getTitle() + " " + info.getContent() + 
                           " " + String.join(" ", info.getTags())).toLowerCase();
        return searchText.contains(keyword.toLowerCase());
    }
    
    private int calculateRelevanceScore(CampusInfo info, String keyword) {
        int score = 0;
        String lowerKeyword = keyword.toLowerCase();
        
        // æ ‡é¢˜åŒ¹é…æƒé‡æœ€é«˜
        if (info.getTitle().toLowerCase().contains(lowerKeyword)) {
            score += 10;
        }
        
        // æ ‡ç­¾åŒ¹é…æƒé‡ä¸­ç­‰
        for (String tag : info.getTags()) {
            if (tag.toLowerCase().contains(lowerKeyword)) {
                score += 5;
            }
        }
        
        // å†…å®¹åŒ¹é…æƒé‡æœ€ä½
        if (info.getContent().toLowerCase().contains(lowerKeyword)) {
            score += 1;
        }
        
        return score;
    }
}
```

**ä¿¡æ¯æ¨èç®—æ³•**
```java
public class InfoRecommendationEngine {
    
    public List<CampusInfo> getRecommendations(String userId, int limit) {
        // åŸºäºç”¨æˆ·è¡Œä¸ºåˆ†æ
        UserBehavior behavior = analyzeUserBehavior(userId);
        
        // åŸºäºæ”¶è—å†å²æ¨èç›¸ä¼¼ä¿¡æ¯
        List<CampusInfo> recommendations = new ArrayList<>();
        
        // æ—¶é—´ç›¸å…³æ¨èï¼ˆå¦‚ï¼šä¸´è¿‘è€ƒè¯•æ¨èå›¾ä¹¦é¦†ä¿¡æ¯ï¼‰
        recommendations.addAll(getTimeBasedRecommendations());
        
        // çƒ­é—¨ä¿¡æ¯æ¨è
        recommendations.addAll(getPopularInfo(limit / 2));
        
        return recommendations.stream()
                .distinct()
                .limit(limit)
                .collect(Collectors.toList());
    }
}

---

## 4. ä»£ç å¼€å‘è§„èŒƒå’Œé¡¹ç›®ç»“æ„

### 4.1 é¡¹ç›®ç›®å½•ç»“æ„

#### 4.1.1 Androidé¡¹ç›®æ ‡å‡†ç›®å½•ç»“æ„

**æ ¹ç›®å½•ç»“æ„**
```
CampusAIAssistant/
â”œâ”€â”€ app/                          # ä¸»åº”ç”¨æ¨¡å—
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ java/             # Java/Kotlinæºä»£ç 
â”‚   â”‚   â”‚   â”œâ”€â”€ res/              # èµ„æºæ–‡ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ AndroidManifest.xml
â”‚   â”‚   â”œâ”€â”€ test/                 # å•å…ƒæµ‹è¯•
â”‚   â”‚   â””â”€â”€ androidTest/          # é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ build.gradle              # æ¨¡å—æ„å»ºé…ç½®
â”‚   â””â”€â”€ proguard-rules.pro        # ä»£ç æ··æ·†è§„åˆ™
â”œâ”€â”€ gradle/                       # GradleåŒ…è£…å™¨
â”œâ”€â”€ build.gradle                  # é¡¹ç›®æ„å»ºé…ç½®
â”œâ”€â”€ settings.gradle               # é¡¹ç›®è®¾ç½®
â”œâ”€â”€ gradle.properties             # Gradleå±æ€§é…ç½®
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

#### 4.1.2 åŒ…ç»“æ„è®¾è®¡è§„èŒƒ

**JavaåŒ…ç»„ç»‡ç»“æ„**
```
com.campus.aiassistant/
â”œâ”€â”€ ui/                           # UIå±‚ (View)
â”‚   â”œâ”€â”€ base/                     # åŸºç¡€UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ BaseActivity.java
â”‚   â”‚   â”œâ”€â”€ BaseFragment.java
â”‚   â”‚   â””â”€â”€ BaseMvpActivity.java
â”‚   â”œâ”€â”€ chat/                     # AIå¯¹è¯æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ ChatActivity.java
â”‚   â”‚   â”œâ”€â”€ ChatFragment.java
â”‚   â”‚   â””â”€â”€ adapter/
â”‚   â”‚       â””â”€â”€ MessageAdapter.java
â”‚   â”œâ”€â”€ course/                   # è¯¾ç¨‹ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ CourseActivity.java
â”‚   â”‚   â”œâ”€â”€ CourseListFragment.java
â”‚   â”‚   â”œâ”€â”€ CourseDetailFragment.java
â”‚   â”‚   â””â”€â”€ adapter/
â”‚   â”‚       â”œâ”€â”€ CourseAdapter.java
â”‚   â”‚       â””â”€â”€ ScheduleAdapter.java
â”‚   â”œâ”€â”€ studyplan/                # å­¦ä¹ è®¡åˆ’æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ StudyPlanActivity.java
â”‚   â”‚   â”œâ”€â”€ PlanListFragment.java
â”‚   â”‚   â””â”€â”€ TaskDetailFragment.java
â”‚   â”œâ”€â”€ campusinfo/               # æ ¡å›­ä¿¡æ¯æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ CampusInfoActivity.java
â”‚   â”‚   â”œâ”€â”€ InfoListFragment.java
â”‚   â”‚   â””â”€â”€ InfoDetailFragment.java
â”‚   â””â”€â”€ main/                     # ä¸»ç•Œé¢
â”‚       â”œâ”€â”€ MainActivity.java
â”‚       â””â”€â”€ MainFragment.java
â”œâ”€â”€ presenter/                    # ä¸šåŠ¡é€»è¾‘å±‚ (Presenter)
â”‚   â”œâ”€â”€ base/
â”‚   â”‚   â””â”€â”€ BasePresenter.java
â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â””â”€â”€ ChatPresenter.java
â”‚   â”œâ”€â”€ course/
â”‚   â”‚   â””â”€â”€ CoursePresenter.java
â”‚   â”œâ”€â”€ studyplan/
â”‚   â”‚   â””â”€â”€ StudyPlanPresenter.java
â”‚   â””â”€â”€ campusinfo/
â”‚       â””â”€â”€ CampusInfoPresenter.java
â”œâ”€â”€ contract/                     # å¥‘çº¦æ¥å£
â”‚   â”œâ”€â”€ BaseContract.java
â”‚   â”œâ”€â”€ ChatContract.java
â”‚   â”œâ”€â”€ CourseContract.java
â”‚   â”œâ”€â”€ StudyPlanContract.java
â”‚   â””â”€â”€ CampusInfoContract.java
â”œâ”€â”€ model/                        # æ•°æ®å±‚ (Model)
â”‚   â”œâ”€â”€ entity/                   # æ•°æ®å®ä½“
â”‚   â”‚   â”œâ”€â”€ Message.java
â”‚   â”‚   â”œâ”€â”€ Course.java
â”‚   â”‚   â”œâ”€â”€ StudyPlan.java
â”‚   â”‚   â”œâ”€â”€ Task.java
â”‚   â”‚   â””â”€â”€ CampusInfo.java
â”‚   â”œâ”€â”€ repository/               # æ•°æ®ä»“åº“
â”‚   â”‚   â”œâ”€â”€ ChatRepository.java
â”‚   â”‚   â”œâ”€â”€ CourseRepository.java
â”‚   â”‚   â”œâ”€â”€ StudyPlanRepository.java
â”‚   â”‚   â””â”€â”€ CampusInfoRepository.java
â”‚   â””â”€â”€ datasource/               # æ•°æ®æº
â”‚       â”œâ”€â”€ local/
â”‚       â”‚   â”œâ”€â”€ LocalDataSource.java
â”‚       â”‚   â””â”€â”€ StorageManager.java
â”‚       â””â”€â”€ remote/
â”‚           â””â”€â”€ AIService.java
â”œâ”€â”€ utils/                        # å·¥å…·ç±»
â”‚   â”œâ”€â”€ DateUtils.java
â”‚   â”œâ”€â”€ StringUtils.java
â”‚   â”œâ”€â”€ FileUtils.java
â”‚   â”œâ”€â”€ NetworkUtils.java
â”‚   â””â”€â”€ PreferenceUtils.java
â”œâ”€â”€ constant/                     # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ AppConstants.java
â”‚   â”œâ”€â”€ DatabaseConstants.java
â”‚   â””â”€â”€ NetworkConstants.java
â””â”€â”€ application/                  # åº”ç”¨é…ç½®
    â””â”€â”€ AIAssistantApplication.java
```

#### 4.1.3 èµ„æºæ–‡ä»¶ç»„ç»‡è§„èŒƒ

**resèµ„æºç›®å½•ç»“æ„**
```
res/
â”œâ”€â”€ layout/                       # å¸ƒå±€æ–‡ä»¶
â”‚   â”œâ”€â”€ activity_main.xml
â”‚   â”œâ”€â”€ activity_chat.xml
â”‚   â”œâ”€â”€ fragment_chat.xml
â”‚   â”œâ”€â”€ item_message.xml          # RecyclerView itemå¸ƒå±€
â”‚   â””â”€â”€ dialog_add_course.xml     # å¯¹è¯æ¡†å¸ƒå±€
â”œâ”€â”€ drawable/                     # å›¾ç‰‡èµ„æº
â”‚   â”œâ”€â”€ ic_launcher.xml           # åº”ç”¨å›¾æ ‡
â”‚   â”œâ”€â”€ ic_chat.xml               # èŠå¤©å›¾æ ‡
â”‚   â”œâ”€â”€ ic_course.xml             # è¯¾ç¨‹å›¾æ ‡
â”‚   â”œâ”€â”€ bg_message_user.xml       # ç”¨æˆ·æ¶ˆæ¯èƒŒæ™¯
â”‚   â””â”€â”€ bg_message_ai.xml         # AIæ¶ˆæ¯èƒŒæ™¯
â”œâ”€â”€ values/                       # å€¼èµ„æº
â”‚   â”œâ”€â”€ strings.xml               # å­—ç¬¦ä¸²èµ„æº
â”‚   â”œâ”€â”€ colors.xml                # é¢œè‰²èµ„æº
â”‚   â”œâ”€â”€ dimens.xml                # å°ºå¯¸èµ„æº
â”‚   â”œâ”€â”€ styles.xml                # æ ·å¼èµ„æº
â”‚   â””â”€â”€ attrs.xml                 # è‡ªå®šä¹‰å±æ€§
â”œâ”€â”€ values-night/                 # å¤œé—´æ¨¡å¼èµ„æº
â”‚   â”œâ”€â”€ colors.xml
â”‚   â””â”€â”€ styles.xml
â”œâ”€â”€ menu/                         # èœå•èµ„æº
â”‚   â””â”€â”€ menu_main.xml
â”œâ”€â”€ anim/                         # åŠ¨ç”»èµ„æº
â”‚   â”œâ”€â”€ slide_in_right.xml
â”‚   â””â”€â”€ slide_out_left.xml
â””â”€â”€ raw/                          # åŸå§‹èµ„æº
    â””â”€â”€ default_data.json         # é»˜è®¤æ•°æ®æ–‡ä»¶
```

#### 4.1.4 æµ‹è¯•ç›®å½•ç»“æ„

**æµ‹è¯•ä»£ç ç»„ç»‡**
```
src/
â”œâ”€â”€ test/                         # å•å…ƒæµ‹è¯•
â”‚   â””â”€â”€ java/
â”‚       â””â”€â”€ com/campus/aiassistant/
â”‚           â”œâ”€â”€ presenter/
â”‚           â”‚   â”œâ”€â”€ ChatPresenterTest.java
â”‚           â”‚   â””â”€â”€ CoursePresenterTest.java
â”‚           â”œâ”€â”€ model/
â”‚           â”‚   â”œâ”€â”€ repository/
â”‚           â”‚   â”‚   â”œâ”€â”€ ChatRepositoryTest.java
â”‚           â”‚   â”‚   â””â”€â”€ CourseRepositoryTest.java
â”‚           â”‚   â””â”€â”€ entity/
â”‚           â”‚       â”œâ”€â”€ MessageTest.java
â”‚           â”‚       â””â”€â”€ CourseTest.java
â”‚           â””â”€â”€ utils/
â”‚               â”œâ”€â”€ DateUtilsTest.java
â”‚               â””â”€â”€ StringUtilsTest.java
â””â”€â”€ androidTest/                  # é›†æˆæµ‹è¯•
    â””â”€â”€ java/
        â””â”€â”€ com/campus/aiassistant/
            â”œâ”€â”€ ui/
            â”‚   â”œâ”€â”€ ChatActivityTest.java
            â”‚   â””â”€â”€ CourseActivityTest.java
            â””â”€â”€ ExampleInstrumentedTest.java
```

#### 4.1.5 é¡¹ç›®é…ç½®æ–‡ä»¶è§„èŒƒ

**é‡è¦é…ç½®æ–‡ä»¶**
```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ .gitignore                    # Gitå¿½ç•¥æ–‡ä»¶é…ç½®
â”œâ”€â”€ README.md                     # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ CHANGELOG.md                  # ç‰ˆæœ¬æ›´æ–°æ—¥å¿—
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ build.gradle              # åº”ç”¨æ¨¡å—æ„å»ºé…ç½®
â”‚   â””â”€â”€ proguard-rules.pro        # ä»£ç æ··æ·†è§„åˆ™
â”œâ”€â”€ gradle.properties             # Gradleå…¨å±€é…ç½®
â”œâ”€â”€ local.properties              # æœ¬åœ°ç¯å¢ƒé…ç½® (ä¸æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶)
â””â”€â”€ docs/                         # é¡¹ç›®æ–‡æ¡£ç›®å½•
    â”œâ”€â”€ api/                      # APIæ–‡æ¡£
    â”œâ”€â”€ design/                   # è®¾è®¡æ–‡æ¡£
    â””â”€â”€ screenshots/              # åº”ç”¨æˆªå›¾
```

#### 4.1.6 æ¨¡å—åŒ–ç»„ç»‡åŸåˆ™

**æ ¸å¿ƒç»„ç»‡åŸåˆ™**
1. **æŒ‰åŠŸèƒ½æ¨¡å—åˆ†åŒ…**ï¼šæ¯ä¸ªæ ¸å¿ƒåŠŸèƒ½æ¨¡å—ç‹¬ç«‹æˆåŒ…
2. **åˆ†å±‚æ¶æ„æ¸…æ™°**ï¼šUIã€Presenterã€Modelå±‚æ¬¡åˆ†æ˜
3. **èŒè´£å•ä¸€åŸåˆ™**ï¼šæ¯ä¸ªåŒ…ä¸“æ³¨äºç‰¹å®šèŒè´£
4. **ä¾èµ–æ–¹å‘ç»Ÿä¸€**ï¼šä¸Šå±‚ä¾èµ–ä¸‹å±‚ï¼Œé¿å…å¾ªç¯ä¾èµ–
5. **æµ‹è¯•ä»£ç å¯¹åº”**ï¼šæµ‹è¯•ä»£ç ç»“æ„ä¸æºç ç»“æ„ä¸€è‡´

**åŒ…å‘½åè§„èŒƒ**
- ä½¿ç”¨å°å†™å­—æ¯
- å¤šä¸ªå•è¯ç”¨ç‚¹å·åˆ†éš”
- éµå¾ªåå‘åŸŸåå‘½åçº¦å®š
- é¿å…ä½¿ç”¨Javaå…³é”®å­—

### 4.2 ä»£ç é£æ ¼è§„èŒƒ

#### 4.2.1 Javaä»£ç é£æ ¼æ ‡å‡†

**åŸºç¡€æ ¼å¼è§„èŒƒ**
```java
// æ­£ç¡®çš„ç±»å®šä¹‰æ ¼å¼
public class ChatPresenter implements ChatContract.Presenter {
    
    // æˆå‘˜å˜é‡å®šä¹‰
    private static final String TAG = "ChatPresenter";
    private static final int MAX_MESSAGE_LENGTH = 1000;
    
    private ChatContract.View view;
    private ChatRepository repository;
    
    // æ„é€ æ–¹æ³•
    public ChatPresenter() {
        repository = new ChatRepository();
    }
    
    // å…¬å…±æ–¹æ³•
    @Override
    public void sendMessage(String message) {
        if (TextUtils.isEmpty(message)) {
            return;
        }
        
        // ä¸šåŠ¡é€»è¾‘å¤„ç†
        processMessage(message);
    }
    
    // ç§æœ‰æ–¹æ³•
    private void processMessage(String message) {
        // å®ç°ç»†èŠ‚
    }
}
```

**ç¼©è¿›å’Œç©ºæ ¼è§„èŒƒ**
- ä½¿ç”¨4ä¸ªç©ºæ ¼è¿›è¡Œç¼©è¿›ï¼Œä¸ä½¿ç”¨Tab
- æ–¹æ³•å‚æ•°è¾ƒå¤šæ—¶æ¢è¡Œå¯¹é½
- è¿ç®—ç¬¦å‰ååŠ ç©ºæ ¼
- é€—å·åé¢åŠ ç©ºæ ¼
- å·¦å¤§æ‹¬å·ä¸æ¢è¡Œï¼Œå³å¤§æ‹¬å·ç‹¬å ä¸€è¡Œ

```java
// æ­£ç¡®çš„æ ¼å¼ç¤ºä¾‹
public void createCourse(String courseName,
                        String instructor,
                        int credits,
                        List<CourseTime> times) {
    if (courseName == null || instructor == null) {
        throw new IllegalArgumentException("Course name and instructor cannot be null");
    }
    
    Course course = new Course.Builder()
            .setName(courseName)
            .setInstructor(instructor)
            .setCredits(credits)
            .setTimes(times)
            .build();
            
    repository.saveCourse(course);
}
```

#### 4.2.2 å˜é‡å’Œæ–¹æ³•å‘½åè§„èŒƒ

**å˜é‡å‘½åè§„åˆ™**
```java
// æˆå‘˜å˜é‡ï¼šå°é©¼å³°å‘½åï¼Œç§æœ‰å˜é‡å¯é€‰æ‹©æ€§æ·»åŠ å‰ç¼€
private String userName;
private List<Course> courseList;
private boolean isLoading;

// å¸¸é‡ï¼šå…¨å¤§å†™ï¼Œä¸‹åˆ’çº¿åˆ†éš”
public static final String DEFAULT_COURSE_CODE = "UNKNOWN";
public static final int MAX_RETRY_COUNT = 3;

// å±€éƒ¨å˜é‡ï¼šå°é©¼å³°å‘½åï¼Œè¯­ä¹‰æ˜ç¡®
String formattedDate = DateUtils.formatDate(new Date());
int messageCount = messages.size();

// å¸ƒå°”å˜é‡ï¼šä½¿ç”¨is/has/canç­‰å‰ç¼€
private boolean isNetworkAvailable;
private boolean hasPermission;
private boolean canEdit;
```

**æ–¹æ³•å‘½åè§„åˆ™**
```java
// è·å–æ–¹æ³•ï¼šgetå‰ç¼€
public String getUserName() { return userName; }
public List<Course> getCourseList() { return courseList; }

// è®¾ç½®æ–¹æ³•ï¼šsetå‰ç¼€
public void setUserName(String userName) { this.userName = userName; }

// å¸ƒå°”åˆ¤æ–­æ–¹æ³•ï¼šis/has/canå‰ç¼€
public boolean isLoggedIn() { return user != null; }
public boolean hasNetworkConnection() { return networkUtils.isConnected(); }

// åŠ¨ä½œæ–¹æ³•ï¼šåŠ¨è¯å¼€å¤´
public void loadData() { }
public void saveToFile() { }
public void calculateAverage() { }
public void refreshUI() { }

// äº‹ä»¶å¤„ç†æ–¹æ³•ï¼šonå‰ç¼€
public void onMessageReceived(Message message) { }
public void onCourseSelected(Course course) { }
```

#### 4.2.3 æ³¨é‡Šè§„èŒƒæ ‡å‡†

**ç±»æ³¨é‡Šè§„èŒƒ**
```java
/**
 * èŠå¤©åŠŸèƒ½çš„Presenterå®ç°ç±»
 * 
 * è´Ÿè´£å¤„ç†èŠå¤©ç•Œé¢çš„ä¸šåŠ¡é€»è¾‘ï¼ŒåŒ…æ‹¬ï¼š
 * - æ¶ˆæ¯å‘é€å’Œæ¥æ”¶å¤„ç†
 * - AIæœåŠ¡è°ƒç”¨ç®¡ç†
 * - èŠå¤©å†å²è®°å½•ç®¡ç†
 * 
 * @author å¼€å‘å›¢é˜Ÿ
 * @version 1.0
 * @since 2025-06-01
 */
public class ChatPresenter implements ChatContract.Presenter {
    // å®ç°å†…å®¹
}
```

**æ–¹æ³•æ³¨é‡Šè§„èŒƒ**
```java
/**
 * å‘é€æ¶ˆæ¯åˆ°AIæœåŠ¡å¹¶å¤„ç†å“åº”
 * 
 * @param message ç”¨æˆ·è¾“å…¥çš„æ¶ˆæ¯å†…å®¹ï¼Œä¸èƒ½ä¸ºç©º
 * @param callback æ¶ˆæ¯å¤„ç†å®Œæˆåçš„å›è°ƒæ¥å£
 * @throws IllegalArgumentException å½“messageä¸ºç©ºæ—¶æŠ›å‡º
 * @throws NetworkException å½“ç½‘ç»œè¿æ¥å¤±è´¥æ—¶æŠ›å‡º
 */
public void sendMessageToAI(String message, MessageCallback callback) {
    // æ–¹æ³•å®ç°
}

/**
 * è®¡ç®—è¯¾ç¨‹çš„å¹³å‡æˆç»©
 * 
 * @param grades æˆç»©åˆ—è¡¨ï¼Œå¯ä»¥ä¸ºç©ºä½†ä¸èƒ½ä¸ºnull
 * @return å¹³å‡æˆç»©ï¼Œå¦‚æœgradesä¸ºç©ºåˆ™è¿”å›0.0
 */
public double calculateAverageGrade(List<Grade> grades) {
    if (grades == null || grades.isEmpty()) {
        return 0.0;
    }
    // è®¡ç®—é€»è¾‘
}
```

**è¡Œå†…æ³¨é‡Šè§„èŒƒ**
```java
public void processMessage(String message) {
    // éªŒè¯æ¶ˆæ¯æ ¼å¼å’Œé•¿åº¦
    if (!isValidMessage(message)) {
        Log.w(TAG, "Invalid message format: " + message);
        return;
    }
    
    // TODO: å®ç°æ¶ˆæ¯æ•æ„Ÿè¯è¿‡æ»¤
    String filteredMessage = filterSensitiveWords(message);
    
    // ä¿å­˜æ¶ˆæ¯åˆ°æœ¬åœ°å­˜å‚¨
    repository.saveMessage(new Message(filteredMessage, System.currentTimeMillis()));
    
    // FIXME: ä¼˜åŒ–AIæœåŠ¡è°ƒç”¨çš„é”™è¯¯å¤„ç†æœºåˆ¶
    callAIService(filteredMessage);
}
```

#### 4.2.4 å¼‚å¸¸å¤„ç†è§„èŒƒ

**å¼‚å¸¸æ•è·å’Œå¤„ç†**
```java
public class ChatRepository {
    
    public void saveMessage(Message message) {
        try {
            String json = gson.toJson(message);
            fileUtils.writeToFile(MESSAGES_FILE, json);
            Log.d(TAG, "Message saved successfully");
        } catch (IOException e) {
            Log.e(TAG, "Failed to save message", e);
            // é™çº§å¤„ç†ï¼šä¿å­˜åˆ°å†…å­˜ç¼“å­˜
            memoryCache.put(message.getId(), message);
        } catch (JsonSyntaxException e) {
            Log.e(TAG, "JSON serialization failed", e);
            throw new DataProcessingException("Message serialization failed", e);
        }
    }
    
    public List<Message> loadMessages() throws DataLoadException {
        try {
            String json = fileUtils.readFromFile(MESSAGES_FILE);
            Type listType = new TypeToken<List<Message>>(){}.getType();
            return gson.fromJson(json, listType);
        } catch (FileNotFoundException e) {
            Log.i(TAG, "Messages file not found, returning empty list");
            return new ArrayList<>();
        } catch (Exception e) {
            Log.e(TAG, "Unexpected error loading messages", e);
            throw new DataLoadException("Failed to load messages", e);
        }
    }
}
```

#### 4.2.5 ä»£ç ç»„ç»‡å’Œç»“æ„è§„èŒƒ

**ç±»æˆå‘˜æ’åˆ—é¡ºåº**
```java
public class CoursePresenter implements CourseContract.Presenter {
    
    // 1. é™æ€å¸¸é‡
    private static final String TAG = "CoursePresenter";
    private static final int DEFAULT_PAGE_SIZE = 20;
    
    // 2. é™æ€å˜é‡
    private static volatile CoursePresenter instance;
    
    // 3. æˆå‘˜å˜é‡
    private CourseContract.View view;
    private CourseRepository repository;
    private boolean isLoading;
    
    // 4. æ„é€ æ–¹æ³•
    public CoursePresenter() {
        repository = new CourseRepository();
    }
    
    // 5. é™æ€æ–¹æ³•
    public static CoursePresenter getInstance() {
        if (instance == null) {
            synchronized (CoursePresenter.class) {
                if (instance == null) {
                    instance = new CoursePresenter();
                }
            }
        }
        return instance;
    }
    
    // 6. å…¬å…±æ–¹æ³• (æ¥å£å®ç°æ–¹æ³•ä¼˜å…ˆ)
    @Override
    public void loadCourses() {
        // å®ç°
    }
    
    @Override
    public void addCourse(Course course) {
        // å®ç°
    }
    
    // 7. å…¶ä»–å…¬å…±æ–¹æ³•
    public void refreshData() {
        // å®ç°
    }
    
    // 8. åŒ…çº§ç§æœ‰æ–¹æ³•
    void resetState() {
        // å®ç°
    }
    
    // 9. ç§æœ‰æ–¹æ³•
    private void validateCourse(Course course) {
        // å®ç°
    }
    
    // 10. å†…éƒ¨ç±»
    private static class CourseComparator implements Comparator<Course> {
        @Override
        public int compare(Course c1, Course c2) {
            return c1.getName().compareTo(c2.getName());
        }
    }
}
```

#### 4.2.6 ä»£ç è´¨é‡æ£€æŸ¥æ¸…å•

**ä»£ç å®¡æŸ¥æ¸…å•**
- [ ] å‘½åè§„èŒƒï¼šç±»åã€æ–¹æ³•åã€å˜é‡åç¬¦åˆå‘½åçº¦å®š
- [ ] æ ¼å¼è§„èŒƒï¼šç¼©è¿›ã€ç©ºæ ¼ã€å¤§æ‹¬å·ä½¿ç”¨æ­£ç¡®
- [ ] æ³¨é‡Šå®Œæ•´ï¼šå…³é”®æ–¹æ³•æœ‰JavaDocæ³¨é‡Š
- [ ] å¼‚å¸¸å¤„ç†ï¼šæ‰€æœ‰å¯èƒ½çš„å¼‚å¸¸éƒ½æœ‰é€‚å½“å¤„ç†
- [ ] ç©ºå€¼æ£€æŸ¥ï¼šå¯¹å¯èƒ½ä¸ºnullçš„å‚æ•°å’Œè¿”å›å€¼è¿›è¡Œæ£€æŸ¥
- [ ] èµ„æºç®¡ç†ï¼šæ–‡ä»¶ã€æ•°æ®åº“è¿æ¥ç­‰èµ„æºåŠæ—¶å…³é—­
- [ ] æ€§èƒ½è€ƒè™‘ï¼šé¿å…åœ¨å¾ªç¯ä¸­åˆ›å»ºå¤§é‡å¯¹è±¡
- [ ] çº¿ç¨‹å®‰å…¨ï¼šå¤šçº¿ç¨‹è®¿é—®çš„ä»£ç æœ‰é€‚å½“åŒæ­¥
- [ ] é­”æ³•æ•°å­—ï¼šä½¿ç”¨å¸¸é‡æ›¿ä»£ç¡¬ç¼–ç çš„æ•°å­—
- [ ] æ–¹æ³•é•¿åº¦ï¼šå•ä¸ªæ–¹æ³•ä¸è¶…è¿‡50è¡Œï¼ˆå¤æ‚é€»è¾‘é™¤å¤–ï¼‰

### 4.3 å‘½åçº¦å®š

#### 4.3.1 åŒ…å‘½åè§„èŒƒ

**åŸºç¡€åŒ…å‘½åè§„åˆ™**
```java
// é¡¹ç›®æ ¹åŒ… - ä½¿ç”¨åå‘åŸŸå
com.campus.aiassistant

// åŠŸèƒ½æ¨¡å—åŒ… - ç®€æ´æ˜äº†
com.campus.aiassistant.ui.chat          // UIå±‚èŠå¤©æ¨¡å—
com.campus.aiassistant.presenter.course  // Presenterå±‚è¯¾ç¨‹æ¨¡å—
com.campus.aiassistant.model.entity     // æ•°æ®å®ä½“

// ç¬¬ä¸‰æ–¹åº“åŒ…è£… - ä½¿ç”¨wrapperåç¼€
com.campus.aiassistant.wrapper.network  // ç½‘ç»œåº“åŒ…è£…
```

#### 4.3.2 ç±»å‘½åè§„èŒƒ

**Activityç±»å‘½å**
```java
// Activity - åŠŸèƒ½å + Activityåç¼€
MainActivity.java           // ä¸»ç•Œé¢
ChatActivity.java          // èŠå¤©ç•Œé¢
CourseActivity.java        // è¯¾ç¨‹ç®¡ç†ç•Œé¢
StudyPlanActivity.java     // å­¦ä¹ è®¡åˆ’ç•Œé¢
CampusInfoActivity.java    // æ ¡å›­ä¿¡æ¯ç•Œé¢
SettingsActivity.java      // è®¾ç½®ç•Œé¢

// Fragment - åŠŸèƒ½å + Fragmentåç¼€
ChatFragment.java          // èŠå¤©Fragment
CourseListFragment.java    // è¯¾ç¨‹åˆ—è¡¨Fragment
TaskDetailFragment.java    // ä»»åŠ¡è¯¦æƒ…Fragment
```

**Adapterç±»å‘½å**
```java
// RecyclerView Adapter - æ•°æ®ç±»å‹ + Adapteråç¼€
MessageAdapter.java        // æ¶ˆæ¯é€‚é…å™¨
CourseAdapter.java         // è¯¾ç¨‹é€‚é…å™¨
TaskAdapter.java           // ä»»åŠ¡é€‚é…å™¨
InfoCategoryAdapter.java   // ä¿¡æ¯åˆ†ç±»é€‚é…å™¨

// ViewPager Adapter - åŠŸèƒ½ + PagerAdapteråç¼€
MainPagerAdapter.java      // ä¸»ç•Œé¢ViewPageré€‚é…å™¨
```

**Presenterç±»å‘½å**
```java
// Presenter - åŠŸèƒ½å + Presenteråç¼€
ChatPresenter.java         // èŠå¤©ä¸šåŠ¡é€»è¾‘
CoursePresenter.java       // è¯¾ç¨‹ç®¡ç†ä¸šåŠ¡é€»è¾‘
StudyPlanPresenter.java    // å­¦ä¹ è®¡åˆ’ä¸šåŠ¡é€»è¾‘
CampusInfoPresenter.java   // æ ¡å›­ä¿¡æ¯ä¸šåŠ¡é€»è¾‘
```

**Repositoryç±»å‘½å**
```java
// Repository - æ•°æ®ç±»å‹ + Repositoryåç¼€
ChatRepository.java        // èŠå¤©æ•°æ®ä»“åº“
CourseRepository.java      // è¯¾ç¨‹æ•°æ®ä»“åº“
StudyPlanRepository.java   // å­¦ä¹ è®¡åˆ’æ•°æ®ä»“åº“
UserRepository.java        // ç”¨æˆ·æ•°æ®ä»“åº“
```

**Modelç±»å‘½å**
```java
// å®ä½“ç±» - ä½¿ç”¨åè¯ï¼Œé¦–å­—æ¯å¤§å†™
Message.java              // æ¶ˆæ¯å®ä½“
Course.java               // è¯¾ç¨‹å®ä½“
StudyPlan.java            // å­¦ä¹ è®¡åˆ’å®ä½“
Task.java                 // ä»»åŠ¡å®ä½“
CampusInfo.java           // æ ¡å›­ä¿¡æ¯å®ä½“
User.java                 // ç”¨æˆ·å®ä½“

// å“åº”ç±» - Responseåç¼€
AIResponse.java           // AIæœåŠ¡å“åº”
LoginResponse.java        // ç™»å½•å“åº”

// è¯·æ±‚ç±» - Requeståç¼€
ChatRequest.java          // èŠå¤©è¯·æ±‚
```

**å·¥å…·ç±»å‘½å**
```java
// å·¥å…·ç±» - åŠŸèƒ½ + Utilsåç¼€
DateUtils.java            // æ—¥æœŸå·¥å…·ç±»
StringUtils.java          // å­—ç¬¦ä¸²å·¥å…·ç±»
FileUtils.java            // æ–‡ä»¶å·¥å…·ç±»
NetworkUtils.java         // ç½‘ç»œå·¥å…·ç±»
ValidationUtils.java      // éªŒè¯å·¥å…·ç±»

// ç®¡ç†ç±» - åŠŸèƒ½ + Manageråç¼€
StorageManager.java       // å­˜å‚¨ç®¡ç†å™¨
NotificationManager.java  // é€šçŸ¥ç®¡ç†å™¨
ThemeManager.java         // ä¸»é¢˜ç®¡ç†å™¨
```

#### 4.3.3 èµ„æºæ–‡ä»¶å‘½åè§„èŒƒ

**å¸ƒå±€æ–‡ä»¶å‘½å**
```xml
<!-- Activityå¸ƒå±€ - activity_åŠŸèƒ½å -->
activity_main.xml         <!-- ä¸»ç•Œé¢ -->
activity_chat.xml         <!-- èŠå¤©ç•Œé¢ -->
activity_course.xml       <!-- è¯¾ç¨‹ç®¡ç†ç•Œé¢ -->

<!-- Fragmentå¸ƒå±€ - fragment_åŠŸèƒ½å -->
fragment_chat.xml         <!-- èŠå¤©Fragment -->
fragment_course_list.xml  <!-- è¯¾ç¨‹åˆ—è¡¨Fragment -->
fragment_study_plan.xml   <!-- å­¦ä¹ è®¡åˆ’Fragment -->

<!-- RecyclerView Itemå¸ƒå±€ - item_æ•°æ®ç±»å‹ -->
item_message.xml          <!-- æ¶ˆæ¯æ¡ç›® -->
item_course.xml           <!-- è¯¾ç¨‹æ¡ç›® -->
item_task.xml             <!-- ä»»åŠ¡æ¡ç›® -->

<!-- å¯¹è¯æ¡†å¸ƒå±€ - dialog_åŠŸèƒ½å -->
dialog_add_course.xml     <!-- æ·»åŠ è¯¾ç¨‹å¯¹è¯æ¡† -->
dialog_confirm_delete.xml <!-- åˆ é™¤ç¡®è®¤å¯¹è¯æ¡† -->

<!-- Includeå¸ƒå±€ - layout_ç»„ä»¶å -->
layout_toolbar.xml        <!-- å·¥å…·æ å¸ƒå±€ -->
layout_empty_view.xml     <!-- ç©ºçŠ¶æ€å¸ƒå±€ -->
layout_loading.xml        <!-- åŠ è½½çŠ¶æ€å¸ƒå±€ -->
```

**å›¾ç‰‡èµ„æºå‘½å**
```xml
<!-- å›¾æ ‡èµ„æº - ic_åŠŸèƒ½_çŠ¶æ€ -->
ic_chat.xml               <!-- èŠå¤©å›¾æ ‡ -->
ic_course.xml             <!-- è¯¾ç¨‹å›¾æ ‡ -->
ic_add.xml                <!-- æ·»åŠ å›¾æ ‡ -->
ic_delete.xml             <!-- åˆ é™¤å›¾æ ‡ -->
ic_edit.xml               <!-- ç¼–è¾‘å›¾æ ‡ -->
ic_search.xml             <!-- æœç´¢å›¾æ ‡ -->

<!-- èƒŒæ™¯èµ„æº - bg_ç”¨é€”_çŠ¶æ€ -->
bg_button_normal.xml      <!-- æŒ‰é’®æ­£å¸¸èƒŒæ™¯ -->
bg_button_pressed.xml     <!-- æŒ‰é’®æŒ‰ä¸‹èƒŒæ™¯ -->
bg_message_user.xml       <!-- ç”¨æˆ·æ¶ˆæ¯èƒŒæ™¯ -->
bg_message_ai.xml         <!-- AIæ¶ˆæ¯èƒŒæ™¯ -->

<!-- é€‰æ‹©å™¨èµ„æº - selector_ç”¨é€” -->
selector_button.xml       <!-- æŒ‰é’®é€‰æ‹©å™¨ -->
selector_tab.xml          <!-- æ ‡ç­¾é€‰æ‹©å™¨ -->

<!-- å½¢çŠ¶èµ„æº - shape_æè¿° -->
shape_rounded_corner.xml  <!-- åœ†è§’çŸ©å½¢ -->
shape_circle.xml          <!-- åœ†å½¢ -->
```

**å­—ç¬¦ä¸²èµ„æºå‘½å**
```xml
<!-- strings.xml -->
<!-- ç•Œé¢æ ‡é¢˜ - title_ç•Œé¢å -->
<string name="title_chat">AIèŠå¤©åŠ©æ‰‹</string>
<string name="title_course">è¯¾ç¨‹ç®¡ç†</string>
<string name="title_study_plan">å­¦ä¹ è®¡åˆ’</string>

<!-- æŒ‰é’®æ–‡å­— - btn_åŠ¨ä½œ -->
<string name="btn_send">å‘é€</string>
<string name="btn_save">ä¿å­˜</string>
<string name="btn_cancel">å–æ¶ˆ</string>
<string name="btn_delete">åˆ é™¤</string>

<!-- æç¤ºä¿¡æ¯ - msg_ç±»å‹_æè¿° -->
<string name="msg_error_network">ç½‘ç»œè¿æ¥å¤±è´¥</string>
<string name="msg_success_save">ä¿å­˜æˆåŠŸ</string>
<string name="msg_confirm_delete">ç¡®å®šè¦åˆ é™¤è¿™ä¸ªè¯¾ç¨‹å—ï¼Ÿ</string>

<!-- å ä½ç¬¦æ–‡å­— - hint_å­—æ®µå -->
<string name="hint_course_name">è¯·è¾“å…¥è¯¾ç¨‹åç§°</string>
<string name="hint_search">æœç´¢æ ¡å›­ä¿¡æ¯</string>

<!-- æ ‡ç­¾æ–‡å­— - label_å­—æ®µå -->
<string name="label_instructor">æˆè¯¾æ•™å¸ˆ</string>
<string name="label_credits">å­¦åˆ†</string>
<string name="label_classroom">æ•™å®¤</string>
```

#### 4.3.4 é¢œè‰²å’Œå°ºå¯¸å‘½å

**é¢œè‰²èµ„æºå‘½å**
```xml
<!-- colors.xml -->
<!-- ä¸»è‰²è°ƒ - primary/secondary/accent -->
<color name="primary_color">#2196F3</color>
<color name="primary_dark_color">#1976D2</color>
<color name="accent_color">#FF4081</color>

<!-- æ–‡å­—é¢œè‰² - text_ç”¨é€”_çŠ¶æ€ -->
<color name="text_primary">#212121</color>
<color name="text_secondary">#757575</color>
<color name="text_hint">#BDBDBD</color>
<color name="text_white">#FFFFFF</color>

<!-- èƒŒæ™¯é¢œè‰² - bg_ç”¨é€” -->
<color name="bg_main">#FAFAFA</color>
<color name="bg_card">#FFFFFF</color>
<color name="bg_message_user">#E3F2FD</color>
<color name="bg_message_ai">#F5F5F5</color>

<!-- çŠ¶æ€é¢œè‰² - status_çŠ¶æ€ -->
<color name="status_success">#4CAF50</color>
<color name="status_error">#F44336</color>
<color name="status_warning">#FF9800</color>
```

**å°ºå¯¸èµ„æºå‘½å**
```xml
<!-- dimens.xml -->
<!-- é—´è· - margin/padding_å¤§å° -->
<dimen name="margin_small">8dp</dimen>
<dimen name="margin_medium">16dp</dimen>
<dimen name="margin_large">24dp</dimen>
<dimen name="padding_small">8dp</dimen>
<dimen name="padding_medium">16dp</dimen>

<!-- å­—ä½“å¤§å° - text_size_ç”¨é€” -->
<dimen name="text_size_title">18sp</dimen>
<dimen name="text_size_body">14sp</dimen>
<dimen name="text_size_caption">12sp</dimen>

<!-- é«˜åº¦å®½åº¦ - height/width_ç”¨é€” -->
<dimen name="height_toolbar">56dp</dimen>
<dimen name="height_button">48dp</dimen>
<dimen name="width_avatar">40dp</dimen>
```

#### 4.3.5 IDå‘½åè§„èŒƒ

**æ§ä»¶IDå‘½å**
```xml
<!-- æ§ä»¶ç±»å‹_åŠŸèƒ½æè¿° -->
<EditText android:id="@+id/editText_message" />
<Button android:id="@+id/button_send" />
<RecyclerView android:id="@+id/recyclerView_messages" />
<TextView android:id="@+id/textView_title" />
<ImageView android:id="@+id/imageView_avatar" />
<LinearLayout android:id="@+id/layout_container" />

<!-- å¸¸ç”¨ç¼©å†™ -->
btn_    <!-- Button -->
tv_     <!-- TextView -->
et_     <!-- EditText -->
iv_     <!-- ImageView -->
rv_     <!-- RecyclerView -->
ll_     <!-- LinearLayout -->
rl_     <!-- RelativeLayout -->
fl_     <!-- FrameLayout -->
```

### 4.4 æ³¨é‡Šè§„èŒƒ

#### 4.4.1 æ–‡ä»¶å¤´æ³¨é‡Šè§„èŒƒ

**Javaç±»æ–‡ä»¶å¤´æ³¨é‡Š**
```java
/**
 * @FileName: ChatPresenter.java
 * @Description: èŠå¤©åŠŸèƒ½çš„Presenterå®ç°ç±»ï¼Œè´Ÿè´£å¤„ç†èŠå¤©ç•Œé¢çš„ä¸šåŠ¡é€»è¾‘
 * @Author: æ ¡å›­AIåŠ©æ‰‹å¼€å‘å›¢é˜Ÿ
 * @Date: 2025-06-01
 * @Version: 1.0
 * @Since: Android API 24
 * 
 * @Copyright: æœ¬ä»£ç ä¸ºç§»åŠ¨äº’è”ç½‘æŠ€æœ¯åŠåº”ç”¨è¯¾ç¨‹æœŸæœ«å¤§ä½œä¸š
 * @License: ä»…ç”¨äºå­¦ä¹ å’Œæ•™è‚²ç›®çš„
 * 
 * ä¿®æ”¹å†å²:
 * 2025-06-01 - åˆå§‹ç‰ˆæœ¬åˆ›å»º - å¼€å‘å›¢é˜Ÿ
 * 2025-06-05 - æ·»åŠ AIæœåŠ¡é›†æˆ - å¼ ä¸‰
 */
package com.campus.aiassistant.presenter.chat;

import ...

public class ChatPresenter implements ChatContract.Presenter {
    // ç±»å®ç°
}
```

**XMLå¸ƒå±€æ–‡ä»¶å¤´æ³¨é‡Š**
```xml
<?xml version="1.0" encoding="utf-8"?>
<!--
@FileName: activity_chat.xml
@Description: èŠå¤©ç•Œé¢çš„ä¸»å¸ƒå±€æ–‡ä»¶
@Author: UIè®¾è®¡å›¢é˜Ÿ
@Date: 2025-06-01
@Version: 1.0

å¸ƒå±€è¯´æ˜:
- é¡¶éƒ¨å·¥å…·æ  (Toolbar)
- ä¸­é—´æ¶ˆæ¯åˆ—è¡¨ (RecyclerView)
- åº•éƒ¨è¾“å…¥åŒºåŸŸ (LinearLayout)
-->
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">
    
    <!-- å¸ƒå±€å†…å®¹ -->
    
</LinearLayout>
```

#### 4.4.2 ç±»å’Œæ¥å£æ³¨é‡Šè§„èŒƒ

**ç±»æ³¨é‡Šè¯¦ç»†æ¨¡æ¿**
```java
/**
 * è¯¾ç¨‹ç®¡ç†åŠŸèƒ½çš„Repositoryå®ç°ç±»
 * 
 * <p>è¯¥ç±»è´Ÿè´£è¯¾ç¨‹æ•°æ®çš„æœ¬åœ°å­˜å‚¨å’Œç®¡ç†ï¼Œæä¾›ä»¥ä¸‹ä¸»è¦åŠŸèƒ½ï¼š</p>
 * <ul>
 *   <li>è¯¾ç¨‹ä¿¡æ¯çš„å¢åˆ æ”¹æŸ¥æ“ä½œ</li>
 *   <li>è¯¾ç¨‹è¡¨æ•°æ®çš„æŒä¹…åŒ–å­˜å‚¨</li>
 *   <li>æˆç»©ä¿¡æ¯çš„ç®¡ç†å’Œç»Ÿè®¡</li>
 *   <li>è¯¾ç¨‹æ—¶é—´å†²çªæ£€æµ‹</li>
 * </ul>
 * 
 * <p>æ•°æ®å­˜å‚¨æ–¹æ¡ˆï¼š</p>
 * <pre>
 * ä½¿ç”¨JSONæ ¼å¼å­˜å‚¨åœ¨åº”ç”¨å†…éƒ¨å­˜å‚¨ç›®å½•
 * æ–‡ä»¶è·¯å¾„ï¼š/data/data/com.campus.aiassistant/files/courses.json
 * </pre>
 * 
 * <p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
 * <pre>{@code
 * CourseRepository repository = new CourseRepository();
 * Course course = new Course("Javaç¨‹åºè®¾è®¡", "å¼ æ•™æˆ", 3);
 * repository.saveCourse(course);
 * 
 * List<Course> courses = repository.getAllCourses();
 * }</pre>
 * 
 * @author æ•°æ®å±‚å¼€å‘å›¢é˜Ÿ
 * @version 1.0
 * @since 2025-06-01
 * @see Course
 * @see CourseContract
 */
public class CourseRepository implements CourseDataSource {
    // ç±»å®ç°
}
```

**æ¥å£æ³¨é‡Šæ¨¡æ¿**
```java
/**
 * èŠå¤©åŠŸèƒ½çš„Contractæ¥å£å®šä¹‰
 * 
 * <p>è¯¥æ¥å£å®šä¹‰äº†èŠå¤©æ¨¡å—çš„MVPæ¶æ„å¥‘çº¦ï¼ŒåŒ…å«Viewå’ŒPresenterçš„æ¥å£è§„èŒƒ</p>
 * 
 * <p>æ¶æ„è®¾è®¡ï¼š</p>
 * <ul>
 *   <li>Viewæ¥å£ï¼šå®šä¹‰UIæ“ä½œæ–¹æ³•</li>
 *   <li>Presenteræ¥å£ï¼šå®šä¹‰ä¸šåŠ¡é€»è¾‘æ–¹æ³•</li>
 *   <li>éµå¾ªMVPæ¶æ„çš„ä¾èµ–å€’ç½®åŸåˆ™</li>
 * </ul>
 * 
 * @author æ¶æ„è®¾è®¡å›¢é˜Ÿ
 * @version 1.0
 * @since 2025-06-01
 */
public interface ChatContract {
    
    /**
     * èŠå¤©ç•Œé¢çš„Viewæ¥å£
     * å®šä¹‰æ‰€æœ‰UIç›¸å…³çš„æ“ä½œæ–¹æ³•
     */
    interface View extends BaseView {
        // Viewæ–¹æ³•å®šä¹‰
    }
    
    /**
     * èŠå¤©åŠŸèƒ½çš„Presenteræ¥å£
     * å®šä¹‰æ‰€æœ‰ä¸šåŠ¡é€»è¾‘ç›¸å…³çš„æ“ä½œæ–¹æ³•
     */
    interface Presenter extends BasePresenter<View> {
        // Presenteræ–¹æ³•å®šä¹‰
    }
}
```

#### 4.4.3 æ–¹æ³•æ³¨é‡Šè§„èŒƒ

**å…¬å…±æ–¹æ³•è¯¦ç»†æ³¨é‡Š**
```java
/**
 * å‘é€æ¶ˆæ¯åˆ°AIæœåŠ¡å¹¶å¤„ç†å“åº”
 * 
 * <p>è¯¥æ–¹æ³•æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p>
 * <ol>
 *   <li>éªŒè¯æ¶ˆæ¯å†…å®¹çš„æœ‰æ•ˆæ€§</li>
 *   <li>å°†æ¶ˆæ¯ä¿å­˜åˆ°æœ¬åœ°å†å²è®°å½•</li>
 *   <li>è°ƒç”¨AIæœåŠ¡APIè·å–å“åº”</li>
 *   <li>å¤„ç†å“åº”ç»“æœå¹¶æ›´æ–°UI</li>
 * </ol>
 * 
 * <p>æ³¨æ„äº‹é¡¹ï¼š</p>
 * <ul>
 *   <li>è¯¥æ–¹æ³•ä¸ºå¼‚æ­¥æ‰§è¡Œï¼Œä¸ä¼šé˜»å¡UIçº¿ç¨‹</li>
 *   <li>ç½‘ç»œå¼‚å¸¸æ—¶ä¼šè‡ªåŠ¨é‡è¯•3æ¬¡</li>
 *   <li>å“åº”ç»“æœä¼šè‡ªåŠ¨ä¿å­˜åˆ°èŠå¤©å†å²</li>
 * </ul>
 * 
 * @param message ç”¨æˆ·è¾“å…¥çš„æ¶ˆæ¯å†…å®¹ï¼Œä¸èƒ½ä¸ºnullæˆ–ç©ºå­—ç¬¦ä¸²
 * @param callback æ¶ˆæ¯å¤„ç†å®Œæˆåçš„å›è°ƒæ¥å£ï¼Œå¯ä»¥ä¸ºnull
 * @throws IllegalArgumentException å½“messageä¸ºnullæˆ–ç©ºæ—¶æŠ›å‡º
 * @throws NetworkException å½“ç½‘ç»œè¿æ¥å¤±è´¥ä¸”é‡è¯•æ¬¡æ•°ç”¨å°½æ—¶æŠ›å‡º
 * @throws AIServiceException å½“AIæœåŠ¡è¿”å›é”™è¯¯å“åº”æ—¶æŠ›å‡º
 * 
 * @since 1.0
 * @see Message
 * @see AIService
 * 
 * @example
 * <pre>{@code
 * presenter.sendMessageToAI("ä½ å¥½", new MessageCallback() {
 *     @Override
 *     public void onSuccess(String response) {
 *         // å¤„ç†æˆåŠŸå“åº”
 *     }
 *     
 *     @Override
 *     public void onError(Exception e) {
 *         // å¤„ç†é”™è¯¯æƒ…å†µ
 *     }
 * });
 * }</pre>
 */
public void sendMessageToAI(@NonNull String message, 
                           @Nullable MessageCallback callback) {
    // æ–¹æ³•å®ç°
}
```

**ç§æœ‰æ–¹æ³•ç®€åŒ–æ³¨é‡Š**
```java
/**
 * éªŒè¯æ¶ˆæ¯å†…å®¹æ˜¯å¦æœ‰æ•ˆ
 * æ£€æŸ¥æ¶ˆæ¯æ˜¯å¦ä¸ºç©ºã€é•¿åº¦æ˜¯å¦è¶…é™ã€æ˜¯å¦åŒ…å«æ•æ„Ÿè¯
 * 
 * @param message å¾…éªŒè¯çš„æ¶ˆæ¯å†…å®¹
 * @return true-æ¶ˆæ¯æœ‰æ•ˆï¼Œfalse-æ¶ˆæ¯æ— æ•ˆ
 */
private boolean isValidMessage(String message) {
    // å®ç°
}

/**
 * è®¡ç®—ä¸¤ä¸ªæ—¶é—´æ®µæ˜¯å¦æœ‰é‡å 
 * ç”¨äºæ£€æµ‹è¯¾ç¨‹æ—¶é—´å†²çª
 */
private boolean isTimeOverlap(CourseTime time1, CourseTime time2) {
    // å®ç°
}
```

#### 4.4.4 å˜é‡å’Œå¸¸é‡æ³¨é‡Š

**æˆå‘˜å˜é‡æ³¨é‡Š**
```java
public class ChatPresenter {
    
    /** æ—¥å¿—æ ‡ç­¾ï¼Œç”¨äºè°ƒè¯•è¾“å‡º */
    private static final String TAG = "ChatPresenter";
    
    /** æ¶ˆæ¯æœ€å¤§é•¿åº¦é™åˆ¶ï¼Œé˜²æ­¢å†…å­˜æº¢å‡º */
    private static final int MAX_MESSAGE_LENGTH = 1000;
    
    /** ç½‘ç»œè¯·æ±‚é‡è¯•æ¬¡æ•°ï¼Œç¡®ä¿æœåŠ¡å¯ç”¨æ€§ */
    private static final int RETRY_COUNT = 3;
    
    /** Viewæ¥å£å®ä¾‹ï¼ŒMVPæ¶æ„ä¸­çš„è§†å›¾å±‚å¼•ç”¨ */
    private ChatContract.View view;
    
    /** æ•°æ®ä»“åº“å®ä¾‹ï¼Œè´Ÿè´£æ•°æ®æŒä¹…åŒ–æ“ä½œ */
    private ChatRepository repository;
    
    /** æ¶ˆæ¯å‘é€çŠ¶æ€æ ‡å¿—ï¼Œé˜²æ­¢é‡å¤å‘é€ */
    private boolean isSending = false;
    
    /** AIæœåŠ¡å®¢æˆ·ç«¯ï¼Œå¤„ç†æ™ºèƒ½å¯¹è¯è¯·æ±‚ */
    private AIService aiService;
}
```

**å¤æ‚ä¸šåŠ¡é€»è¾‘æ³¨é‡Š**
```java
public void calculateGradeStatistics(List<Grade> grades) {
    // æŒ‰æˆç»©ç±»å‹åˆ†ç»„ç»Ÿè®¡
    Map<GradeType, List<Grade>> gradeGroups = grades.stream()
            .collect(Collectors.groupingBy(Grade::getType));
    
    // è®¡ç®—å„ç±»å‹å¹³å‡åˆ†
    for (Map.Entry<GradeType, List<Grade>> entry : gradeGroups.entrySet()) {
        GradeType type = entry.getKey();
        List<Grade> typeGrades = entry.getValue();
        
        // è®¡ç®—å¹³å‡åˆ†ï¼Œå¿½ç•¥æ— æ•ˆæˆç»©(åˆ†æ•°ä¸º-1çš„è®°å½•)
        double average = typeGrades.stream()
                .filter(grade -> grade.getScore() >= 0)  // è¿‡æ»¤æ— æ•ˆæˆç»©
                .mapToDouble(Grade::getScore)
                .average()
                .orElse(0.0);  // å¦‚æœæ²¡æœ‰æœ‰æ•ˆæˆç»©ï¼Œè¿”å›0
        
        // ä¿å­˜ç»Ÿè®¡ç»“æœ
        statisticsMap.put(type, average);
    }
}
```

#### 4.4.5 TODOå’ŒFIXMEæ³¨é‡Šè§„èŒƒ

**ä»»åŠ¡æ ‡è®°æ³¨é‡Š**
```java
public class StudyPlanPresenter {
    
    public void generateStudyPlan(Course course) {
        // TODO: å®ç°åŸºäºAIçš„æ™ºèƒ½å­¦ä¹ è®¡åˆ’ç”Ÿæˆç®—æ³•
        // ä¼˜å…ˆçº§: é«˜ | é¢„è®¡å·¥æ—¶: 8å°æ—¶ | è´Ÿè´£äºº: å¼ ä¸‰
        // æè¿°: é›†æˆæœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œæ ¹æ®ç”¨æˆ·å†å²å­¦ä¹ æ•°æ®ç”Ÿæˆä¸ªæ€§åŒ–è®¡åˆ’
        
        // FIXME: ä¿®å¤å­¦ä¹ è¿›åº¦è®¡ç®—ä¸­çš„æ—¶åŒºé—®é¢˜
        // é—®é¢˜: åœ¨è·¨æ—¶åŒºä½¿ç”¨æ—¶ï¼Œè¿›åº¦ç»Ÿè®¡å‡ºç°åå·®
        // å½±å“: å½±å“å­¦ä¹ æ•ˆç‡åˆ†æçš„å‡†ç¡®æ€§
        // å¤ç°: ç³»ç»Ÿæ—¶åŒºä¸ç”¨æˆ·æ—¶åŒºä¸ä¸€è‡´æ—¶å¤ç°
        long currentTime = System.currentTimeMillis();
        
        // HACK: ä¸´æ—¶è§£å†³æ–¹æ¡ˆ - ç¡¬ç¼–ç æ—¶åŒºåç§»
        // å¾…æ­£å¼æ–¹æ¡ˆ: ä½¿ç”¨ZonedDateTimeæ›¿ä»£longæ—¶é—´æˆ³
        currentTime += TimeZone.getDefault().getRawOffset();
        
        // XXX: æ€§èƒ½ç“¶é¢ˆ - å¤§é‡è¯¾ç¨‹æ•°æ®æ—¶è®¡ç®—ç¼“æ…¢
        // å»ºè®®: è€ƒè™‘ä½¿ç”¨ç¼“å­˜æœºåˆ¶æˆ–åå°çº¿ç¨‹å¤„ç†
        for (Course c : courses) {
            calculateProgress(c);  // å¯èƒ½è€—æ—¶æ“ä½œ
        }
    }
}
```

#### 4.4.6 æ³¨é‡Šè´¨é‡æ£€æŸ¥æ¸…å•

**æ³¨é‡Šè§„èŒƒæ£€æŸ¥æ¸…å•**
- [ ] **å®Œæ•´æ€§**: æ‰€æœ‰å…¬å…±ç±»å’Œæ–¹æ³•éƒ½æœ‰JavaDocæ³¨é‡Š
- [ ] **å‡†ç¡®æ€§**: æ³¨é‡Šå†…å®¹ä¸ä»£ç å®ç°ä¿æŒåŒæ­¥
- [ ] **ç®€æ´æ€§**: æ³¨é‡Šè¨€ç®€æ„èµ…ï¼Œé¿å…å†—ä½™æè¿°
- [ ] **æœ‰ç”¨æ€§**: æ³¨é‡Šæä¾›ä»£ç æœ¬èº«æ— æ³•è¡¨è¾¾çš„ä¿¡æ¯
- [ ] **æ ¼å¼è§„èŒƒ**: éµå¾ªJavaDocæ ‡å‡†æ ¼å¼
- [ ] **å‚æ•°è¯´æ˜**: æ‰€æœ‰å‚æ•°éƒ½æœ‰@paramè¯´æ˜
- [ ] **è¿”å›å€¼è¯´æ˜**: æœ‰è¿”å›å€¼çš„æ–¹æ³•éƒ½æœ‰@returnè¯´æ˜
- [ ] **å¼‚å¸¸è¯´æ˜**: å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„æ–¹æ³•éƒ½æœ‰@throwsè¯´æ˜
- [ ] **ç¤ºä¾‹ä»£ç **: å¤æ‚æ–¹æ³•æä¾›ä½¿ç”¨ç¤ºä¾‹
- [ ] **ç‰ˆæœ¬ä¿¡æ¯**: ç±»æ³¨é‡ŠåŒ…å«@authorã€@versionã€@sinceç­‰ä¿¡æ¯

---

## 5. å®æ–½æŒ‡å—å’Œæœ€ä½³å®è·µ

### 5.1 å¼€å‘æµç¨‹

#### 5.1.1 é¡¹ç›®å¼€å‘ç”Ÿå‘½å‘¨æœŸ

**é˜¶æ®µåˆ’åˆ†å’Œé‡Œç¨‹ç¢‘**
```
Phase 1: é¡¹ç›®åˆå§‹åŒ– (Week 1)
â”œâ”€â”€ ç¯å¢ƒæ­å»ºå’Œå·¥å…·é…ç½®
â”œâ”€â”€ é¡¹ç›®ç»“æ„åˆ›å»º
â”œâ”€â”€ åŸºç¡€æ¡†æ¶æ­å»º
â””â”€â”€ é‡Œç¨‹ç¢‘: é¡¹ç›®æ¡†æ¶å°±ç»ª

Phase 2: æ ¸å¿ƒåŠŸèƒ½å¼€å‘ (Week 2-4)
â”œâ”€â”€ AIå¯¹è¯æ¨¡å—å¼€å‘
â”œâ”€â”€ è¯¾ç¨‹ç®¡ç†æ¨¡å—å¼€å‘  
â”œâ”€â”€ å­¦ä¹ è®¡åˆ’æ¨¡å—å¼€å‘
â”œâ”€â”€ æ ¡å›­ä¿¡æ¯æ¨¡å—å¼€å‘
â””â”€â”€ é‡Œç¨‹ç¢‘: æ ¸å¿ƒåŠŸèƒ½å®Œæˆ

Phase 3: é›†æˆæµ‹è¯•å’Œä¼˜åŒ– (Week 5)
â”œâ”€â”€ æ¨¡å—é›†æˆå’Œè”è°ƒ
â”œâ”€â”€ æ€§èƒ½ä¼˜åŒ–å’Œbugä¿®å¤
â”œâ”€â”€ UI/UXä¼˜åŒ–
â””â”€â”€ é‡Œç¨‹ç¢‘: ç³»ç»Ÿé›†æˆå®Œæˆ

Phase 4: éƒ¨ç½²å’Œæ–‡æ¡£ (Week 6)
â”œâ”€â”€ æœ€ç»ˆæµ‹è¯•å’ŒéªŒæ”¶
â”œâ”€â”€ ç”¨æˆ·æ–‡æ¡£ç¼–å†™
â”œâ”€â”€ é¡¹ç›®æ¼”ç¤ºå‡†å¤‡
â””â”€â”€ é‡Œç¨‹ç¢‘: é¡¹ç›®äº¤ä»˜
```

#### 5.1.2 æ—¥å¸¸å¼€å‘å·¥ä½œæµ

**æ¯æ—¥å¼€å‘æµç¨‹**
```
1. æ™¨ä¼šåŒæ­¥ (15åˆ†é’Ÿ)
   - æ±‡æŠ¥æ˜¨æ—¥å®Œæˆå·¥ä½œ
   - è®¡åˆ’ä»Šæ—¥å¼€å‘ä»»åŠ¡
   - è®¨è®ºé‡åˆ°çš„æŠ€æœ¯é—®é¢˜

2. ä»»åŠ¡åˆ†é…å’Œæ‰§è¡Œ
   - ä»ä»»åŠ¡çœ‹æ¿é€‰æ‹©ä¼˜å…ˆçº§æœ€é«˜çš„ä»»åŠ¡
   - åˆ›å»ºç‰¹æ€§åˆ†æ”¯è¿›è¡Œå¼€å‘
   - éµå¾ªä»£ç è§„èŒƒè¿›è¡Œç¼–ç¨‹

3. ä»£ç æäº¤æµç¨‹
   - æœ¬åœ°æµ‹è¯•éªŒè¯åŠŸèƒ½
   - æäº¤ä»£ç åˆ°ä¸ªäººåˆ†æ”¯
   - åˆ›å»ºPull Requestè¿›è¡Œä»£ç å®¡æŸ¥

4. æ¯æ—¥æ€»ç»“
   - æ›´æ–°ä»»åŠ¡è¿›åº¦çŠ¶æ€
   - è®°å½•é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ
   - å‡†å¤‡æ¬¡æ—¥å·¥ä½œè®¡åˆ’
```

#### 5.1.3 Gitå·¥ä½œæµè§„èŒƒ

**åˆ†æ”¯ç®¡ç†ç­–ç•¥**
```
mainåˆ†æ”¯ (ä¸»åˆ†æ”¯)
â”œâ”€â”€ å§‹ç»ˆä¿æŒå¯å‘å¸ƒçŠ¶æ€
â”œâ”€â”€ åªæ¥å—æ¥è‡ªdevelopåˆ†æ”¯çš„åˆå¹¶
â””â”€â”€ æ¯æ¬¡åˆå¹¶åˆ›å»ºä¸€ä¸ªå‘å¸ƒæ ‡ç­¾

developåˆ†æ”¯ (å¼€å‘åˆ†æ”¯)
â”œâ”€â”€ é›†æˆæ‰€æœ‰æ–°åŠŸèƒ½çš„åˆ†æ”¯
â”œâ”€â”€ å®šæœŸåˆå¹¶åˆ°mainåˆ†æ”¯
â””â”€â”€ æ—¥å¸¸å¼€å‘çš„åŸºç¡€åˆ†æ”¯

feature/åŠŸèƒ½å (ç‰¹æ€§åˆ†æ”¯)
â”œâ”€â”€ ä»developåˆ†æ”¯åˆ›å»º
â”œâ”€â”€ å¼€å‘å®Œæˆååˆå¹¶å›develop
â””â”€â”€ å‘½åä¾‹å¦‚: feature/chat-module

hotfix/ä¿®å¤å (çƒ­ä¿®å¤åˆ†æ”¯)
â”œâ”€â”€ ä»mainåˆ†æ”¯åˆ›å»º
â”œâ”€â”€ ä¿®å¤å®ŒæˆååŒæ—¶åˆå¹¶åˆ°mainå’Œdevelop
â””â”€â”€ å‘½åä¾‹å¦‚: hotfix/chat-crash-fix
```

**æäº¤ä¿¡æ¯è§„èŒƒ**
```bash
# æäº¤ä¿¡æ¯æ ¼å¼: <type>(<scope>): <description>

# Typeç±»å‹:
feat:     æ–°åŠŸèƒ½ (feature)
fix:      bugä¿®å¤
docs:     æ–‡æ¡£æ›´æ–°
style:    ä»£ç æ ¼å¼è°ƒæ•´
refactor: ä»£ç é‡æ„
test:     æµ‹è¯•ç›¸å…³
chore:    æ„å»ºå·¥å…·ã€è¾…åŠ©å·¥å…·å˜æ›´

# ç¤ºä¾‹:
git commit -m "feat(chat): å®ç°AIæ¶ˆæ¯å‘é€åŠŸèƒ½"
git commit -m "fix(course): ä¿®å¤è¯¾ç¨‹è¡¨æ—¶é—´æ˜¾ç¤ºé”™è¯¯"
git commit -m "docs(readme): æ›´æ–°é¡¹ç›®å®‰è£…è¯´æ˜"
git commit -m "style(presenter): è°ƒæ•´ä»£ç æ ¼å¼å’Œæ³¨é‡Š"
```

#### 5.1.4 ä»»åŠ¡ç®¡ç†å’Œè¿›åº¦è·Ÿè¸ª

**çœ‹æ¿æ–¹æ³• (Kanban)**
```
TODO (å¾…åŠ)
â”œâ”€â”€ æ–°éœ€æ±‚å’ŒbugæŠ¥å‘Š
â”œâ”€â”€ å¾…åˆ†é…çš„å¼€å‘ä»»åŠ¡
â””â”€â”€ ä¼˜å…ˆçº§æ’åº

In Progress (è¿›è¡Œä¸­)
â”œâ”€â”€ å½“å‰æ­£åœ¨å¼€å‘çš„ä»»åŠ¡
â”œâ”€â”€ é™åˆ¶å¹¶è¡Œä»»åŠ¡æ•°é‡ (æ¯äººæœ€å¤š2ä¸ª)
â””â”€â”€ æ˜¾ç¤ºè´Ÿè´£äººå’Œé¢„è®¡å®Œæˆæ—¶é—´

Code Review (ä»£ç å®¡æŸ¥)
â”œâ”€â”€ ç­‰å¾…å®¡æŸ¥çš„Pull Request
â”œâ”€â”€ å®¡æŸ¥ä¸­çš„ä»£ç å˜æ›´
â””â”€â”€ éœ€è¦ä¿®æ”¹çš„ä»£ç 

Testing (æµ‹è¯•ä¸­)
â”œâ”€â”€ å¼€å‘å®Œæˆç­‰å¾…æµ‹è¯•çš„åŠŸèƒ½
â”œâ”€â”€ æ­£åœ¨æ‰§è¡Œçš„æµ‹è¯•ç”¨ä¾‹
â””â”€â”€ å‘ç°çš„bugå’Œé—®é¢˜

Done (å·²å®Œæˆ)
â”œâ”€â”€ é€šè¿‡æµ‹è¯•çš„åŠŸèƒ½
â”œâ”€â”€ å·²ä¿®å¤çš„bug
â””â”€â”€ å·²åˆå¹¶çš„ä»£ç 
```

#### 5.1.5 ä»£ç å®¡æŸ¥æµç¨‹

**Pull Requestæµç¨‹**
```
1. åˆ›å»ºPull Request
   - å¡«å†™æ¸…æ™°çš„PRæ ‡é¢˜å’Œæè¿°
   - å…³è”ç›¸å…³çš„Issueæˆ–ä»»åŠ¡
   - é€‰æ‹©åˆé€‚çš„å®¡æŸ¥è€…

2. ä»£ç å®¡æŸ¥æ£€æŸ¥ç‚¹
   - åŠŸèƒ½å®ç°æ˜¯å¦æ­£ç¡®
   - ä»£ç æ˜¯å¦éµå¾ªé¡¹ç›®è§„èŒƒ
   - æ˜¯å¦æœ‰å……åˆ†çš„æµ‹è¯•è¦†ç›–
   - æ€§èƒ½å’Œå®‰å…¨é—®é¢˜æ£€æŸ¥

3. å®¡æŸ¥åé¦ˆå¤„ç†
   - åŠæ—¶å›åº”å®¡æŸ¥æ„è§
   - ä¿®æ”¹ä»£ç å¹¶æ¨é€æ›´æ–°
   - ä¸å®¡æŸ¥è€…è®¨è®ºæŠ€æœ¯æ–¹æ¡ˆ

4. åˆå¹¶å’Œéƒ¨ç½²
   - è·å¾—è‡³å°‘1ä¸ªå®¡æŸ¥é€šè¿‡
   - ç¡®ä¿CI/CDæ£€æŸ¥é€šè¿‡
   - åˆå¹¶åˆ°ç›®æ ‡åˆ†æ”¯
```

#### 5.1.6 é¡¹ç›®é‡Œç¨‹ç¢‘å’Œäº¤ä»˜ç‰©

**Week 1 äº¤ä»˜ç‰© (é¡¹ç›®åˆå§‹åŒ–)**
- [ ] Android Studioé¡¹ç›®åˆ›å»º
- [ ] åŸºç¡€MVPæ¶æ„æ­å»º
- [ ] é¡¹ç›®ä¾èµ–é…ç½®å®Œæˆ
- [ ] Gitä»“åº“åˆå§‹åŒ–
- [ ] å¼€å‘ç¯å¢ƒé…ç½®æ–‡æ¡£

**Week 2-3 äº¤ä»˜ç‰© (æ ¸å¿ƒåŠŸèƒ½å¼€å‘)**
- [ ] AIå¯¹è¯æ¨¡å—åŸºç¡€åŠŸèƒ½
- [ ] è¯¾ç¨‹ç®¡ç†CRUDæ“ä½œ
- [ ] å­¦ä¹ è®¡åˆ’åˆ›å»ºå’Œè·Ÿè¸ª
- [ ] æ ¡å›­ä¿¡æ¯æŸ¥è¯¢åŠŸèƒ½
- [ ] å•å…ƒæµ‹è¯•ç”¨ä¾‹ç¼–å†™

**Week 4-5 äº¤ä»˜ç‰© (é›†æˆå’Œä¼˜åŒ–)**
- [ ] æ¨¡å—é—´æ•°æ®æµè½¬æ­£å¸¸
- [ ] UIç•Œé¢ç¾åŒ–å’Œäº¤äº’ä¼˜åŒ–
- [ ] æ€§èƒ½ä¼˜åŒ–å’Œå†…å­˜ç®¡ç†
- [ ] é›†æˆæµ‹è¯•æ‰§è¡Œ
- [ ] Bugä¿®å¤å’Œä»£ç é‡æ„

**Week 6 äº¤ä»˜ç‰© (æœ€ç»ˆå‘å¸ƒ)**
- [ ] å®Œæ•´åŠŸèƒ½çš„APKæ–‡ä»¶
- [ ] ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œ
- [ ] é¡¹ç›®æŠ€æœ¯æ–‡æ¡£
- [ ] æ¼”ç¤ºPPTå’Œè§†é¢‘
- [ ] é¡¹ç›®æ€»ç»“æŠ¥å‘Š

### 5.2 æ•°æ®å­˜å‚¨æ–¹æ¡ˆ

#### 5.2.1 å­˜å‚¨æŠ€æœ¯é€‰æ‹©å’Œæ¶æ„

**å­˜å‚¨æ–¹æ¡ˆå¯¹æ¯”åˆ†æ**
| å­˜å‚¨æ–¹å¼ | é€‚ç”¨åœºæ™¯ | ä¼˜ç‚¹ | ç¼ºç‚¹ | é¡¹ç›®ä½¿ç”¨ |
|---------|---------|------|------|----------|
| SharedPreferences | ç”¨æˆ·è®¾ç½®ã€ç®€å•é…ç½® | ç®€å•æ˜“ç”¨ã€è‡ªåŠ¨æŒä¹…åŒ– | åªèƒ½å­˜å‚¨åŸºæœ¬æ•°æ®ç±»å‹ | âœ… ç”¨æˆ·åå¥½è®¾ç½® |
| JSONæ–‡ä»¶ | ç»“æ„åŒ–æ•°æ®ã€æ‰¹é‡æ•°æ® | å¯è¯»æ€§å¥½ã€è·¨å¹³å° | è¯»å†™æ€§èƒ½è¾ƒä½ | âœ… èŠå¤©è®°å½•ã€è¯¾ç¨‹æ•°æ® |
| SQLite | å¤æ‚æŸ¥è¯¢ã€å…³ç³»æ•°æ® | åŠŸèƒ½å¼ºå¤§ã€æŸ¥è¯¢çµæ´» | å­¦ä¹ æˆæœ¬é«˜ã€å¤æ‚åº¦å¤§ | âŒ é¡¹ç›®ä¸­ä¸ä½¿ç”¨ |
| Roomæ•°æ®åº“ | å¤§é‡æ•°æ®ã€å¤æ‚å…³ç³» | ORMæ”¯æŒã€ç±»å‹å®‰å…¨ | é…ç½®å¤æ‚ã€å­¦ä¹ æˆæœ¬é«˜ | âŒ é¡¹ç›®ä¸­ä¸ä½¿ç”¨ |

**é¡¹ç›®å­˜å‚¨æ¶æ„è®¾è®¡**
```
åº”ç”¨æ•°æ®å­˜å‚¨å±‚æ¬¡
â”œâ”€â”€ SharedPreferences (ç”¨æˆ·è®¾ç½®)
â”‚   â”œâ”€â”€ ç”¨æˆ·åå¥½é…ç½®
â”‚   â”œâ”€â”€ åº”ç”¨ä¸»é¢˜è®¾ç½®
â”‚   â””â”€â”€ ç™»å½•çŠ¶æ€ç­‰
â”œâ”€â”€ Internal Storage (JSONæ–‡ä»¶)
â”‚   â”œâ”€â”€ /data/data/com.campus.aiassistant/files/
â”‚   â”œâ”€â”€ chat_messages.json (èŠå¤©è®°å½•)
â”‚   â”œâ”€â”€ courses.json (è¯¾ç¨‹æ•°æ®)
â”‚   â”œâ”€â”€ study_plans.json (å­¦ä¹ è®¡åˆ’)
â”‚   â””â”€â”€ campus_info.json (æ ¡å›­ä¿¡æ¯)
â””â”€â”€ Cache Directory (ä¸´æ—¶æ–‡ä»¶)
    â”œâ”€â”€ å›¾ç‰‡ç¼“å­˜
    â”œâ”€â”€ ç½‘ç»œè¯·æ±‚ç¼“å­˜
    â””â”€â”€ ä¸´æ—¶æ•°æ®æ–‡ä»¶
```

#### 5.2.2 JSONæ•°æ®å­˜å‚¨æœ€ä½³å®è·µ

**JSONæ–‡ä»¶ç»“æ„è®¾è®¡**
```json
{
  "metadata": {
    "version": "1.0",
    "lastModified": 1704067200000,
    "dataCount": 150
  },
  "data": [
    {
      "id": "unique_identifier",
      "timestamp": 1704067200000,
      "content": "å®é™…æ•°æ®å†…å®¹"
    }
  ]
}
```

**å­˜å‚¨ç®¡ç†å™¨å®ç°**
```java
/**
 * ç»Ÿä¸€çš„JSONæ•°æ®å­˜å‚¨ç®¡ç†å™¨
 * æä¾›çº¿ç¨‹å®‰å…¨çš„æ•°æ®è¯»å†™æ“ä½œ
 */
public class StorageManager {
    
    private static final String TAG = "StorageManager";
    private final Context context;
    private final Gson gson;
    private final Object lockObject = new Object();
    
    public StorageManager(Context context) {
        this.context = context;
        this.gson = new GsonBuilder()
                .setDateFormat("yyyy-MM-dd HH:mm:ss")
                .setPrettyPrinting()
                .create();
    }
    
    /**
     * ä¿å­˜æ•°æ®åˆ°JSONæ–‡ä»¶
     * ä½¿ç”¨åŒæ­¥é”ç¡®ä¿çº¿ç¨‹å®‰å…¨
     */
    public <T> boolean saveData(String fileName, T data) {
        synchronized (lockObject) {
            try {
                File file = new File(context.getFilesDir(), fileName);
                String json = gson.toJson(data);
                
                try (FileWriter writer = new FileWriter(file)) {
                    writer.write(json);
                    Log.d(TAG, "Data saved successfully: " + fileName);
                    return true;
                }
            } catch (IOException e) {
                Log.e(TAG, "Failed to save data: " + fileName, e);
                return false;
            }
        }
    }
    
    /**
     * ä»JSONæ–‡ä»¶åŠ è½½æ•°æ®
     * åŒ…å«é”™è¯¯å¤„ç†å’Œé»˜è®¤å€¼è¿”å›
     */
    public <T> T loadData(String fileName, Class<T> classType, T defaultValue) {
        synchronized (lockObject) {
            try {
                File file = new File(context.getFilesDir(), fileName);
                if (!file.exists()) {
                    Log.i(TAG, "File not exists, return default: " + fileName);
                    return defaultValue;
                }
                
                try (FileReader reader = new FileReader(file)) {
                    T data = gson.fromJson(reader, classType);
                    return data != null ? data : defaultValue;
                }
            } catch (Exception e) {
                Log.e(TAG, "Failed to load data: " + fileName, e);
                return defaultValue;
            }
        }
    }
}
```

#### 5.2.3 æ•°æ®æ¨¡å‹å’Œåºåˆ—åŒ–è§„èŒƒ

**æ•°æ®å®ä½“åºåˆ—åŒ–æ³¨è§£**
```java
public class Message {
    
    @SerializedName("message_id")
    private String messageId;
    
    @SerializedName("content")
    private String content;
    
    @SerializedName("message_type")
    private MessageType messageType;
    
    @SerializedName("timestamp")
    private long timestamp;
    
    @SerializedName("is_read")
    private boolean isRead;
    
    // ç¬æ€å­—æ®µï¼Œä¸å‚ä¸åºåˆ—åŒ–
    @Transient
    private boolean isLoading;
    
    // æ„é€ æ–¹æ³•ã€getterã€setter
}
```

**å¤æ‚æ•°æ®ç»“æ„è®¾è®¡**
```java
/**
 * èŠå¤©æ•°æ®å®¹å™¨ç±»
 * åŒ…å«å…ƒæ•°æ®å’Œå®é™…æ¶ˆæ¯åˆ—è¡¨
 */
public class ChatData {
    
    @SerializedName("metadata")
    private DataMetadata metadata;
    
    @SerializedName("sessions")
    private List<ChatSession> sessions;
    
    public ChatData() {
        this.metadata = new DataMetadata();
        this.sessions = new ArrayList<>();
    }
    
    public void addMessage(String sessionId, Message message) {
        ChatSession session = findSessionById(sessionId);
        if (session == null) {
            session = new ChatSession(sessionId);
            sessions.add(session);
        }
        session.addMessage(message);
        metadata.updateModifyTime();
    }
}

/**
 * æ•°æ®å…ƒä¿¡æ¯ç±»
 * è®°å½•ç‰ˆæœ¬ã€ä¿®æ”¹æ—¶é—´ç­‰å…ƒæ•°æ®
 */
public class DataMetadata {
    
    @SerializedName("version")
    private String version = "1.0";
    
    @SerializedName("create_time")
    private long createTime;
    
    @SerializedName("last_modified")
    private long lastModified;
    
    @SerializedName("data_count")
    private int dataCount;
    
    public DataMetadata() {
        this.createTime = System.currentTimeMillis();
        this.lastModified = this.createTime;
    }
    
    public void updateModifyTime() {
        this.lastModified = System.currentTimeMillis();
    }
}
```

#### 5.2.4 æ•°æ®å¤‡ä»½å’Œæ¢å¤ç­–ç•¥

**è‡ªåŠ¨å¤‡ä»½æœºåˆ¶**
```java
public class BackupManager {
    
    private static final String BACKUP_DIR = "backups";
    private static final int MAX_BACKUP_COUNT = 5;
    
    /**
     * åˆ›å»ºæ•°æ®å¤‡ä»½
     * ä¿ç•™æœ€è¿‘5ä¸ªå¤‡ä»½æ–‡ä»¶
     */
    public boolean createBackup(String originalFileName) {
        try {
            File backupDir = new File(context.getFilesDir(), BACKUP_DIR);
            if (!backupDir.exists()) {
                backupDir.mkdirs();
            }
            
            File originalFile = new File(context.getFilesDir(), originalFileName);
            if (!originalFile.exists()) {
                return false;
            }
            
            // ç”Ÿæˆå¤‡ä»½æ–‡ä»¶å
            String timestamp = new SimpleDateFormat("yyyyMMdd_HHmmss", Locale.getDefault())
                    .format(new Date());
            String backupFileName = originalFileName + "_backup_" + timestamp;
            File backupFile = new File(backupDir, backupFileName);
            
            // å¤åˆ¶æ–‡ä»¶
            copyFile(originalFile, backupFile);
            
            // æ¸…ç†æ—§å¤‡ä»½
            cleanOldBackups(backupDir, originalFileName);
            
            Log.i(TAG, "Backup created: " + backupFileName);
            return true;
            
        } catch (Exception e) {
            Log.e(TAG, "Failed to create backup", e);
            return false;
        }
    }
    
    /**
     * æ•°æ®æ¢å¤
     * ä»å¤‡ä»½æ–‡ä»¶æ¢å¤æ•°æ®
     */
    public boolean restoreFromBackup(String originalFileName, String backupFileName) {
        try {
            File backupDir = new File(context.getFilesDir(), BACKUP_DIR);
            File backupFile = new File(backupDir, backupFileName);
            File originalFile = new File(context.getFilesDir(), originalFileName);
            
            if (!backupFile.exists()) {
                Log.w(TAG, "Backup file not found: " + backupFileName);
                return false;
            }
            
            copyFile(backupFile, originalFile);
            Log.i(TAG, "Data restored from backup: " + backupFileName);
            return true;
            
        } catch (Exception e) {
            Log.e(TAG, "Failed to restore from backup", e);
            return false;
        }
    }
}
```

#### 5.2.5 æ€§èƒ½ä¼˜åŒ–å’Œå†…å­˜ç®¡ç†

**æ•°æ®åŠ è½½ä¼˜åŒ–ç­–ç•¥**
```java
public class OptimizedDataLoader {
    
    private final LruCache<String, Object> memoryCache;
    private final StorageManager storageManager;
    
    public OptimizedDataLoader(Context context) {
        // è®¾ç½®å†…å­˜ç¼“å­˜å¤§å°ä¸ºå¯ç”¨å†…å­˜çš„1/8
        int cacheSize = (int) (Runtime.getRuntime().maxMemory() / 8);
        memoryCache = new LruCache<String, Object>(cacheSize) {
            @Override
            protected int sizeOf(String key, Object value) {
                return estimateObjectSize(value);
            }
        };
        
        storageManager = new StorageManager(context);
    }
    
    /**
     * å¸¦ç¼“å­˜çš„æ•°æ®åŠ è½½
     * ä¼˜å…ˆä»å†…å­˜ç¼“å­˜è¯»å–ï¼Œç¼“å­˜æœªå‘½ä¸­æ—¶ä»æ–‡ä»¶åŠ è½½
     */
    public <T> T loadDataWithCache(String fileName, Class<T> classType, T defaultValue) {
        // 1. å°è¯•ä»å†…å­˜ç¼“å­˜è¯»å–
        @SuppressWarnings("unchecked")
        T cachedData = (T) memoryCache.get(fileName);
        if (cachedData != null) {
            Log.d(TAG, "Cache hit: " + fileName);
            return cachedData;
        }
        
        // 2. ä»æ–‡ä»¶ç³»ç»ŸåŠ è½½
        T data = storageManager.loadData(fileName, classType, defaultValue);
        
        // 3. ä¿å­˜åˆ°å†…å­˜ç¼“å­˜
        if (data != null && data != defaultValue) {
            memoryCache.put(fileName, data);
            Log.d(TAG, "Data cached: " + fileName);
        }
        
        return data;
    }
    
    /**
     * æ‰¹é‡æ•°æ®é¢„åŠ è½½
     * åº”ç”¨å¯åŠ¨æ—¶é¢„åŠ è½½å¸¸ç”¨æ•°æ®
     */
    public void preloadData() {
        new Thread(() -> {
            try {
                // é¢„åŠ è½½ç”¨æˆ·è®¾ç½®
                loadDataWithCache("user_settings.json", UserSettings.class, new UserSettings());
                
                // é¢„åŠ è½½æœ€è¿‘èŠå¤©è®°å½•
                loadDataWithCache("recent_chats.json", ChatData.class, new ChatData());
                
                Log.i(TAG, "Data preload completed");
            } catch (Exception e) {
                Log.e(TAG, "Data preload failed", e);
            }
        }).start();
    }
}
```

#### 5.2.6 æ•°æ®è¿ç§»å’Œç‰ˆæœ¬ç®¡ç†

**æ•°æ®ç‰ˆæœ¬å…¼å®¹æ€§å¤„ç†**
```java
public class DataMigrationManager {
    
    private static final String CURRENT_VERSION = "1.0";
    
    /**
     * æ£€æŸ¥å¹¶æ‰§è¡Œæ•°æ®è¿ç§»
     * ç¡®ä¿ä¸åŒç‰ˆæœ¬æ•°æ®çš„å…¼å®¹æ€§
     */
    public boolean migrateDataIfNeeded(String fileName) {
        try {
            // è¯»å–æ•°æ®ç‰ˆæœ¬ä¿¡æ¯
            DataMetadata metadata = loadMetadata(fileName);
            String dataVersion = metadata.getVersion();
            
            if (CURRENT_VERSION.equals(dataVersion)) {
                // ç‰ˆæœ¬ä¸€è‡´ï¼Œæ— éœ€è¿ç§»
                return true;
            }
            
            Log.i(TAG, "Data migration needed: " + dataVersion + " -> " + CURRENT_VERSION);
            
            // æ‰§è¡Œç‰ˆæœ¬è¿ç§»
            return performMigration(fileName, dataVersion, CURRENT_VERSION);
            
        } catch (Exception e) {
            Log.e(TAG, "Data migration failed", e);
            return false;
        }
    }
    
    private boolean performMigration(String fileName, String fromVersion, String toVersion) {
        // æ ¹æ®ç‰ˆæœ¬å·®å¼‚æ‰§è¡Œç›¸åº”çš„è¿ç§»é€»è¾‘
        if ("0.9".equals(fromVersion) && "1.0".equals(toVersion)) {
            return migrateFrom09To10(fileName);
        }
        
        Log.w(TAG, "Unsupported migration path: " + fromVersion + " -> " + toVersion);
        return false;
    }
}

### 5.3 æ€§èƒ½ä¼˜åŒ–æŒ‡å—

#### 5.3.1 åº”ç”¨å¯åŠ¨ä¼˜åŒ–

**å¯åŠ¨æ—¶é—´ä¼˜åŒ–ç­–ç•¥**
```java
/**
 * ä¼˜åŒ–Applicationåˆå§‹åŒ–
 * å»¶è¿Ÿéå¿…è¦çš„åˆå§‹åŒ–æ“ä½œ
 */
public class CampusAIApplication extends Application {
    
    @Override
    public void onCreate() {
        super.onCreate();
        
        // å¿…è¦çš„åˆå§‹åŒ–ï¼ˆä¸»çº¿ç¨‹ï¼‰
        initCrashReporting();
        initLogger();
        
        // å»¶è¿Ÿåˆå§‹åŒ–ï¼ˆåå°çº¿ç¨‹ï¼‰
        initDeferredComponents();
    }
    
    private void initDeferredComponents() {
        new Thread(() -> {
            // é¢„åŠ è½½æ•°æ®
            DataManager.getInstance().preloadData();
            
            // åˆå§‹åŒ–AIæœåŠ¡
            AIServiceManager.getInstance().initialize();
            
            // ç¼“å­˜å¸¸ç”¨èµ„æº
            ResourceCache.getInstance().preloadResources();
        }).start();
    }
}
```

**Activityå¯åŠ¨ä¼˜åŒ–**
- å‡å°‘`onCreate()`ä¸­çš„é‡è½½æ“ä½œ
- ä½¿ç”¨å¼‚æ­¥ä»»åŠ¡åŠ è½½æ•°æ®
- å®ç°å¯åŠ¨ç”»é¢ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ
- é¿å…åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œè€—æ—¶æ“ä½œ

```java
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    
    // 1. å¿«é€Ÿè®¾ç½®åŸºç¡€UI
    setContentView(R.layout.activity_main);
    initViews();
    
    // 2. å¼‚æ­¥åŠ è½½æ•°æ®
    loadDataAsync();
    
    // 3. å»¶è¿Ÿåˆå§‹åŒ–éå…³é”®ç»„ä»¶
    postDelayedInit();
}

private void loadDataAsync() {
    new AsyncTask<Void, Void, List<Course>>() {
        @Override
        protected List<Course> doInBackground(Void... voids) {
            return courseRepository.getAllCourses();
        }
        
        @Override
        protected void onPostExecute(List<Course> courses) {
            updateUI(courses);
        }
    }.execute();
}
```

#### 5.3.2 å†…å­˜ç®¡ç†ä¼˜åŒ–

**å†…å­˜æ³„æ¼é¢„é˜²**
```java
/**
 * PresenteråŸºç±»ï¼Œè‡ªåŠ¨ç®¡ç†Viewå¼•ç”¨
 * é˜²æ­¢Activity/Fragmentå†…å­˜æ³„æ¼
 */
public abstract class BasePresenter<V extends BaseView> {
    
    private WeakReference<V> viewRef;
    
    public void attachView(V view) {
        viewRef = new WeakReference<>(view);
    }
    
    public void detachView() {
        if (viewRef != null) {
            viewRef.clear();
            viewRef = null;
        }
    }
    
    protected V getView() {
        return viewRef != null ? viewRef.get() : null;
    }
    
    protected boolean isViewAttached() {
        return getView() != null;
    }
}
```

**å›¾ç‰‡å†…å­˜ä¼˜åŒ–**
```java
/**
 * å›¾ç‰‡åŠ è½½å†…å­˜ä¼˜åŒ–
 * ä½¿ç”¨Glideè¿›è¡Œé«˜æ•ˆå›¾ç‰‡å¤„ç†
 */
public class ImageLoadHelper {
    
    public static void loadImage(Context context, String url, ImageView imageView) {
        Glide.with(context)
                .load(url)
                .thumbnail(0.1f) // åŠ è½½ç¼©ç•¥å›¾
                .diskCacheStrategy(DiskCacheStrategy.ALL) // ç£ç›˜ç¼“å­˜
                .transform(new CenterCrop()) // å›¾ç‰‡å˜æ¢
                .placeholder(R.drawable.placeholder) // å ä½å›¾
                .error(R.drawable.error_image) // é”™è¯¯å›¾
                .into(imageView);
    }
    
    public static void clearMemoryCache(Context context) {
        Glide.get(context).clearMemory();
    }
}
```

**å†…å­˜ç›‘æ§å’Œé‡Šæ”¾**
```java
public class MemoryManager {
    
    private static final int LOW_MEMORY_THRESHOLD = 50; // MB
    
    /**
     * å†…å­˜ä½¿ç”¨æƒ…å†µç›‘æ§
     */
    public static void checkMemoryUsage(Context context) {
        ActivityManager activityManager = (ActivityManager) 
                context.getSystemService(Context.ACTIVITY_SERVICE);
        
        ActivityManager.MemoryInfo memoryInfo = new ActivityManager.MemoryInfo();
        activityManager.getMemoryInfo(memoryInfo);
        
        long availableMemory = memoryInfo.availMem / (1024 * 1024); // MB
        
        if (availableMemory < LOW_MEMORY_THRESHOLD) {
            Log.w("MemoryManager", "Low memory warning: " + availableMemory + "MB");
            // è§¦å‘å†…å­˜æ¸…ç†
            performMemoryCleanup(context);
        }
    }
    
    /**
     * å†…å­˜æ¸…ç†æ“ä½œ
     */
    private static void performMemoryCleanup(Context context) {
        // æ¸…ç†å›¾ç‰‡ç¼“å­˜
        ImageLoadHelper.clearMemoryCache(context);
        
        // æ¸…ç†æ•°æ®ç¼“å­˜
        DataCache.getInstance().clearExpiredItems();
        
        // å»ºè®®åƒåœ¾å›æ”¶
        System.gc();
    }
}
```

#### 5.3.3 ç½‘ç»œè¯·æ±‚ä¼˜åŒ–

**HTTPè¯·æ±‚ä¼˜åŒ–**
```java
/**
 * ç½‘ç»œè¯·æ±‚ä¼˜åŒ–é…ç½®
 * åŒ…å«è¿æ¥æ± ã€è¶…æ—¶ã€é‡è¯•æœºåˆ¶
 */
public class NetworkConfig {
    
    public static OkHttpClient createOptimizedClient() {
        return new OkHttpClient.Builder()
                // è¿æ¥è¶…æ—¶
                .connectTimeout(10, TimeUnit.SECONDS)
                // è¯»å–è¶…æ—¶
                .readTimeout(30, TimeUnit.SECONDS)
                // å†™å…¥è¶…æ—¶
                .writeTimeout(30, TimeUnit.SECONDS)
                // è¿æ¥æ± é…ç½®
                .connectionPool(new ConnectionPool(5, 5, TimeUnit.MINUTES))
                // é‡è¯•æœºåˆ¶
                .retryOnConnectionFailure(true)
                // è¯·æ±‚/å“åº”æ‹¦æˆªå™¨
                .addInterceptor(new LoggingInterceptor())
                .addInterceptor(new CacheInterceptor())
                .build();
    }
}

/**
 * è¯·æ±‚ç¼“å­˜ç­–ç•¥
 * å‡å°‘ä¸å¿…è¦çš„ç½‘ç»œè¯·æ±‚
 */
public class CacheInterceptor implements Interceptor {
    
    @Override
    public Response intercept(Chain chain) throws IOException {
        Request request = chain.request();
        
        // æ£€æŸ¥ç½‘ç»œçŠ¶æ€
        if (!NetworkUtils.isNetworkAvailable()) {
            // ç¦»çº¿æ—¶ä½¿ç”¨ç¼“å­˜
            request = request.newBuilder()
                    .cacheControl(CacheControl.FORCE_CACHE)
                    .build();
        }
        
        Response response = chain.proceed(request);
        
        // è®¾ç½®ç¼“å­˜ç­–ç•¥
        if (NetworkUtils.isNetworkAvailable()) {
            response = response.newBuilder()
                    .header("Cache-Control", "public, max-age=300") // 5åˆ†é’Ÿç¼“å­˜
                    .build();
        } else {
            response = response.newBuilder()
                    .header("Cache-Control", "public, only-if-cached, max-stale=604800") // ç¦»çº¿ç¼“å­˜ä¸€å‘¨
                    .build();
        }
        
        return response;
    }
}
```

#### 5.3.4 UIæ¸²æŸ“ä¼˜åŒ–

**å¸ƒå±€ä¼˜åŒ–ç­–ç•¥**
```xml
<!-- ä½¿ç”¨ConstraintLayoutå‡å°‘åµŒå¥— -->
<androidx.constraintlayout.widget.ConstraintLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent">
    
    <!-- é¿å…æ·±å±‚åµŒå¥—ï¼Œä½¿ç”¨çº¦æŸå…³ç³» -->
    <TextView
        android:id="@+id/title"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintEnd_toEndOf="parent" />
        
</androidx.constraintlayout.widget.ConstraintLayout>
```

**RecyclerViewä¼˜åŒ–**
```java
/**
 * RecyclerViewæ€§èƒ½ä¼˜åŒ–
 * åŒ…å«ViewHolderå¤ç”¨ã€é¢„åŠ è½½ã€åˆ†é¡µç­‰
 */
public class OptimizedRecyclerAdapter extends RecyclerView.Adapter<OptimizedRecyclerAdapter.ViewHolder> {
    
    private List<DataItem> dataList;
    private RecyclerView.RecycledViewPool recycledViewPool;
    
    public OptimizedRecyclerAdapter() {
        // å¯ç”¨ç¨³å®šIDï¼Œæé«˜æ€§èƒ½
        setHasStableIds(true);
        
        // å…±äº«RecycledViewPool
        recycledViewPool = new RecyclerView.RecycledViewPool();
        recycledViewPool.setMaxRecycledViews(0, 20);
    }
    
    @Override
    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {
        View view = LayoutInflater.from(parent.getContext())
                .inflate(R.layout.item_layout, parent, false);
        return new ViewHolder(view);
    }
    
    @Override
    public void onBindViewHolder(ViewHolder holder, int position) {
        DataItem item = dataList.get(position);
        
        // åªæ›´æ–°å˜åŒ–çš„æ•°æ®ï¼Œé¿å…é‡å¤è®¾ç½®
        holder.bind(item);
    }
    
    @Override
    public long getItemId(int position) {
        return dataList.get(position).getId().hashCode();
    }
    
    static class ViewHolder extends RecyclerView.ViewHolder {
        
        // ViewHolderç¼“å­˜ï¼Œé¿å…é‡å¤findViewById
        private TextView titleView;
        private TextView contentView;
        private ImageView iconView;
        
        public ViewHolder(View itemView) {
            super(itemView);
            titleView = itemView.findViewById(R.id.title);
            contentView = itemView.findViewById(R.id.content);
            iconView = itemView.findViewById(R.id.icon);
        }
        
        public void bind(DataItem item) {
            titleView.setText(item.getTitle());
            contentView.setText(item.getContent());
            
            // å¼‚æ­¥åŠ è½½å›¾ç‰‡
            ImageLoadHelper.loadImage(itemView.getContext(), 
                    item.getIconUrl(), iconView);
        }
    }
}
```

#### 5.3.5 æ•°æ®åº“è®¿é—®ä¼˜åŒ–

**æ‰¹é‡æ“ä½œä¼˜åŒ–**
```java
/**
 * JSONæ–‡ä»¶æ‰¹é‡è¯»å†™ä¼˜åŒ–
 * å‡å°‘IOæ“ä½œé¢‘ç‡
 */
public class BatchOperationManager {
    
    private final StorageManager storageManager;
    private final Map<String, List<Object>> pendingWrites;
    private final Handler mainHandler;
    
    public BatchOperationManager(StorageManager storageManager) {
        this.storageManager = storageManager;
        this.pendingWrites = new ConcurrentHashMap<>();
        this.mainHandler = new Handler(Looper.getMainLooper());
        
        // å®šæ—¶æ‰¹é‡å†™å…¥
        startBatchWriteTimer();
    }
    
    /**
     * æ·»åŠ åˆ°æ‰¹é‡å†™å…¥é˜Ÿåˆ—
     */
    public void addToBatch(String fileName, Object data) {
        pendingWrites.computeIfAbsent(fileName, k -> new ArrayList<>()).add(data);
    }
    
    /**
     * æ‰§è¡Œæ‰¹é‡å†™å…¥
     */
    private void performBatchWrite() {
        if (pendingWrites.isEmpty()) return;
        
        new Thread(() -> {
            for (Map.Entry<String, List<Object>> entry : pendingWrites.entrySet()) {
                String fileName = entry.getKey();
                List<Object> dataList = entry.getValue();
                
                // æ‰¹é‡å†™å…¥æ–‡ä»¶
                storageManager.saveData(fileName, dataList);
                Log.d("BatchOperation", "Batch write completed: " + fileName + 
                        ", items: " + dataList.size());
            }
            
            // æ¸…ç©ºå¾…å†™å…¥é˜Ÿåˆ—
            pendingWrites.clear();
        }).start();
    }
    
    private void startBatchWriteTimer() {
        mainHandler.postDelayed(new Runnable() {
            @Override
            public void run() {
                performBatchWrite();
                // æ¯30ç§’æ‰§è¡Œä¸€æ¬¡æ‰¹é‡å†™å…¥
                mainHandler.postDelayed(this, 30000);
            }
        }, 30000);
    }
}
```

### 5.4 å¸¸è§é—®é¢˜è§£å†³

#### 5.4.1 åº”ç”¨å´©æºƒé—®é¢˜

**ç©ºæŒ‡é’ˆå¼‚å¸¸å¤„ç†**
```java
/**
 * ç©ºæŒ‡é’ˆå¼‚å¸¸é¢„é˜²å’Œå¤„ç†
 */
public class NullSafetyUtils {
    
    /**
     * å®‰å…¨çš„å­—ç¬¦ä¸²æ“ä½œ
     */
    public static String safeString(String str) {
        return str != null ? str : "";
    }
    
    public static String safeString(String str, String defaultValue) {
        return str != null ? str : defaultValue;
    }
    
    /**
     * å®‰å…¨çš„åˆ—è¡¨æ“ä½œ
     */
    public static <T> List<T> safeList(List<T> list) {
        return list != null ? list : new ArrayList<>();
    }
    
    public static <T> boolean isListValid(List<T> list) {
        return list != null && !list.isEmpty();
    }
    
    /**
     * å®‰å…¨çš„JSONè§£æ
     */
    public static <T> T safeJsonParse(String json, Class<T> classType, T defaultValue) {
        try {
            if (json == null || json.trim().isEmpty()) {
                return defaultValue;
            }
            
            Gson gson = new Gson();
            T result = gson.fromJson(json, classType);
            return result != null ? result : defaultValue;
            
        } catch (JsonSyntaxException e) {
            Log.e("NullSafetyUtils", "JSON parse failed", e);
            return defaultValue;
        }
    }
}
```

**å…¨å±€å¼‚å¸¸å¤„ç†å™¨**
```java
/**
 * å…¨å±€å¼‚å¸¸æ•è·å’Œå¤„ç†
 * é˜²æ­¢åº”ç”¨å´©æºƒï¼Œè®°å½•é”™è¯¯ä¿¡æ¯
 */
public class GlobalExceptionHandler implements Thread.UncaughtExceptionHandler {
    
    private final Context context;
    private final Thread.UncaughtExceptionHandler defaultHandler;
    
    public GlobalExceptionHandler(Context context) {
        this.context = context;
        this.defaultHandler = Thread.getDefaultUncaughtExceptionHandler();
    }
    
    @Override
    public void uncaughtException(Thread thread, Throwable ex) {
        try {
            // è®°å½•å´©æºƒä¿¡æ¯
            logCrashInfo(ex);
            
            // æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æç¤º
            showErrorDialog();
            
        } catch (Exception e) {
            Log.e("GlobalExceptionHandler", "Failed to handle exception", e);
        } finally {
            // è°ƒç”¨ç³»ç»Ÿé»˜è®¤å¤„ç†å™¨
            if (defaultHandler != null) {
                defaultHandler.uncaughtException(thread, ex);
            }
        }
    }
    
    private void logCrashInfo(Throwable ex) {
        try {
            StringBuilder crashInfo = new StringBuilder();
            crashInfo.append("=== CRASH REPORT ===\n");
            crashInfo.append("Time: ").append(new Date()).append("\n");
            crashInfo.append("Thread: ").append(Thread.currentThread().getName()).append("\n");
            crashInfo.append("Exception: ").append(ex.toString()).append("\n");
            
            // æ·»åŠ å †æ ˆè·Ÿè¸ª
            StringWriter sw = new StringWriter();
            ex.printStackTrace(new PrintWriter(sw));
            crashInfo.append("Stack Trace:\n").append(sw.toString());
            
            // ä¿å­˜åˆ°æ–‡ä»¶
            File crashFile = new File(context.getFilesDir(), "crash_" + 
                    System.currentTimeMillis() + ".log");
            FileWriter writer = new FileWriter(crashFile);
            writer.write(crashInfo.toString());
            writer.close();
            
            Log.e("CrashReport", crashInfo.toString());
            
        } catch (Exception e) {
            Log.e("GlobalExceptionHandler", "Failed to log crash info", e);
        }
    }
}
```

#### 5.4.2 ç½‘ç»œè¿æ¥é—®é¢˜

**ç½‘ç»œçŠ¶æ€æ£€æµ‹å’Œå¤„ç†**
```java
/**
 * ç½‘ç»œè¿æ¥çŠ¶æ€ç®¡ç†
 * å¤„ç†ç½‘ç»œå˜åŒ–å’Œç¦»çº¿åœºæ™¯
 */
public class NetworkManager {
    
    private final Context context;
    private final List<NetworkStateListener> listeners;
    private boolean isNetworkAvailable;
    
    public interface NetworkStateListener {
        void onNetworkAvailable();
        void onNetworkLost();
    }
    
    public NetworkManager(Context context) {
        this.context = context;
        this.listeners = new ArrayList<>();
        
        // æ³¨å†Œç½‘ç»œçŠ¶æ€ç›‘å¬
        registerNetworkCallback();
        
        // åˆå§‹æ£€æŸ¥ç½‘ç»œçŠ¶æ€
        checkNetworkState();
    }
    
    /**
     * æ£€æŸ¥ç½‘ç»œè¿æ¥çŠ¶æ€
     */
    public boolean isNetworkAvailable() {
        ConnectivityManager cm = (ConnectivityManager) 
                context.getSystemService(Context.CONNECTIVITY_SERVICE);
        
        if (cm == null) return false;
        
        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {
            NetworkCapabilities capabilities = cm.getNetworkCapabilities(cm.getActiveNetwork());
            return capabilities != null && 
                    (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) ||
                     capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR));
        } else {
            NetworkInfo networkInfo = cm.getActiveNetworkInfo();
            return networkInfo != null && networkInfo.isConnected();
        }
    }
    
    /**
     * ç½‘ç»œè¯·æ±‚é‡è¯•æœºåˆ¶
     */
    public <T> void requestWithRetry(NetworkRequest<T> request, 
                                   NetworkCallback<T> callback, 
                                   int maxRetries) {
        executeRequestWithRetry(request, callback, maxRetries, 0);
    }
    
    private <T> void executeRequestWithRetry(NetworkRequest<T> request,
                                           NetworkCallback<T> callback,
                                           int maxRetries, 
                                           int currentAttempt) {
        if (!isNetworkAvailable()) {
            callback.onError(new NetworkException("Network not available"));
            return;
        }
        
        request.execute(new NetworkCallback<T>() {
            @Override
            public void onSuccess(T result) {
                callback.onSuccess(result);
            }
            
            @Override
            public void onError(Exception error) {
                if (currentAttempt < maxRetries) {
                    // æŒ‡æ•°é€€é¿é‡è¯•
                    int delay = (int) Math.pow(2, currentAttempt) * 1000; // 1s, 2s, 4s...
                    
                    new Handler().postDelayed(() -> {
                        Log.i("NetworkManager", "Retrying request, attempt: " + 
                                (currentAttempt + 1));
                        executeRequestWithRetry(request, callback, maxRetries, currentAttempt + 1);
                    }, delay);
                } else {
                    callback.onError(error);
                }
            }
        });
    }
}
```

#### 5.4.3 æ•°æ®ä¸€è‡´æ€§é—®é¢˜

**æ•°æ®åŒæ­¥å’Œå†²çªè§£å†³**
```java
/**
 * æ•°æ®åŒæ­¥ç®¡ç†å™¨
 * å¤„ç†æœ¬åœ°å’Œè¿œç¨‹æ•°æ®çš„ä¸€è‡´æ€§
 */
public class DataSyncManager {
    
    private final StorageManager localStorage;
    private final NetworkManager networkManager;
    
    /**
     * æ•°æ®åŒæ­¥ç­–ç•¥
     */
    public void syncData(String dataType, SyncCallback callback) {
        if (!networkManager.isNetworkAvailable()) {
            // ç½‘ç»œä¸å¯ç”¨ï¼Œä½¿ç”¨æœ¬åœ°æ•°æ®
            callback.onSyncCompleted(false, "Network not available");
            return;
        }
        
        // è·å–æœ¬åœ°æ•°æ®ç‰ˆæœ¬
        DataMetadata localMeta = getLocalDataMetadata(dataType);
        
        // æ£€æŸ¥è¿œç¨‹æ•°æ®ç‰ˆæœ¬
        checkRemoteDataVersion(dataType, localMeta, new VersionCheckCallback() {
            @Override
            public void onVersionChecked(boolean needsUpdate, DataMetadata remoteMeta) {
                if (needsUpdate) {
                    // æ‰§è¡Œæ•°æ®åŒæ­¥
                    performDataSync(dataType, localMeta, remoteMeta, callback);
                } else {
                    callback.onSyncCompleted(true, "Data is up to date");
                }
            }
            
            @Override
            public void onError(Exception error) {
                callback.onSyncCompleted(false, "Version check failed: " + error.getMessage());
            }
        });
    }
    
    /**
     * æ•°æ®å†²çªè§£å†³ç­–ç•¥
     */
    private void resolveDataConflict(Object localData, Object remoteData, String dataType) {
        ConflictResolutionStrategy strategy = getConflictStrategy(dataType);
        
        switch (strategy) {
            case LOCAL_WINS:
                // æœ¬åœ°æ•°æ®ä¼˜å…ˆ
                uploadLocalData(localData, dataType);
                break;
                
            case REMOTE_WINS:
                // è¿œç¨‹æ•°æ®ä¼˜å…ˆ
                saveLocalData(remoteData, dataType);
                break;
                
            case MERGE:
                // æ•°æ®åˆå¹¶
                Object mergedData = mergeData(localData, remoteData, dataType);
                saveLocalData(mergedData, dataType);
                uploadLocalData(mergedData, dataType);
                break;
                
            case USER_CHOICE:
                // ç”¨æˆ·é€‰æ‹©
                showConflictResolutionDialog(localData, remoteData, dataType);
                break;
        }
    }
}
```

#### 5.4.4 æ€§èƒ½é—®é¢˜æ’æŸ¥

**æ€§èƒ½ç›‘æ§å·¥å…·**
```java
/**
 * æ€§èƒ½ç›‘æ§å’Œåˆ†æå·¥å…·
 * å¸®åŠ©è¯†åˆ«æ€§èƒ½ç“¶é¢ˆ
 */
public class PerformanceMonitor {
    
    private static final String TAG = "PerformanceMonitor";
    private final Map<String, Long> startTimes;
    
    public PerformanceMonitor() {
        this.startTimes = new HashMap<>();
    }
    
    /**
     * å¼€å§‹è®¡æ—¶
     */
    public void startTiming(String operation) {
        startTimes.put(operation, System.currentTimeMillis());
        Log.d(TAG, "Started timing: " + operation);
    }
    
    /**
     * ç»“æŸè®¡æ—¶å¹¶è®°å½•
     */
    public long endTiming(String operation) {
        Long startTime = startTimes.remove(operation);
        if (startTime == null) {
            Log.w(TAG, "No start time found for operation: " + operation);
            return -1;
        }
        
        long duration = System.currentTimeMillis() - startTime;
        Log.i(TAG, "Operation completed: " + operation + ", duration: " + duration + "ms");
        
        // è®°å½•åˆ°æ€§èƒ½æ—¥å¿—
        recordPerformanceMetric(operation, duration);
        
        return duration;
    }
    
    /**
     * å†…å­˜ä½¿ç”¨æƒ…å†µç›‘æ§
     */
    public void logMemoryUsage(String checkpoint) {
        Runtime runtime = Runtime.getRuntime();
        long totalMemory = runtime.totalMemory() / (1024 * 1024); // MB
        long freeMemory = runtime.freeMemory() / (1024 * 1024); // MB
        long usedMemory = totalMemory - freeMemory;
        
        Log.i(TAG, String.format("Memory at %s - Used: %dMB, Free: %dMB, Total: %dMB",
                checkpoint, usedMemory, freeMemory, totalMemory));
                
        // æ£€æŸ¥å†…å­˜æ³„æ¼é£é™©
        if (usedMemory > totalMemory * 0.8) {
            Log.w(TAG, "High memory usage warning at: " + checkpoint);
        }
    }
    
    private void recordPerformanceMetric(String operation, long duration) {
        // å¯ä»¥ä¿å­˜åˆ°æ–‡ä»¶æˆ–å‘é€åˆ°åˆ†ææœåŠ¡
        // è¿™é‡Œç®€å•è®°å½•åˆ°SharedPreferences
        SharedPreferences prefs = context.getSharedPreferences("performance_metrics", 
                Context.MODE_PRIVATE);
        prefs.edit()
                .putLong(operation + "_last_duration", duration)
                .putLong(operation + "_timestamp", System.currentTimeMillis())
                .apply();
    }
}
```

#### 5.4.5 å¸¸è§å¼€å‘é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ

**é”™è¯¯ç±»å‹å’Œè§£å†³æ–¹æ¡ˆè¡¨**

| é”™è¯¯ç±»å‹ | å¸¸è§åŸå›  | è§£å†³æ–¹æ¡ˆ | é¢„é˜²æªæ–½ |
|---------|---------|----------|----------|
| **NullPointerException** | æœªæ£€æŸ¥nullå€¼ | æ·»åŠ nullæ£€æŸ¥ï¼Œä½¿ç”¨Optional | å»ºç«‹é˜²å¾¡æ€§ç¼–ç¨‹ä¹ æƒ¯ |
| **Memory Leak** | Activity/Fragmentæ³„æ¼ | ä½¿ç”¨WeakReferenceï¼ŒåŠæ—¶è§£ç»‘ | éµå¾ªç”Ÿå‘½å‘¨æœŸç®¡ç†è§„èŒƒ |
| **NetworkOnMainThreadException** | ä¸»çº¿ç¨‹ç½‘ç»œè¯·æ±‚ | ä½¿ç”¨AsyncTaskæˆ–çº¿ç¨‹æ±  | ç½‘ç»œæ“ä½œå¿…é¡»å¼‚æ­¥æ‰§è¡Œ |
| **FileNotFoundException** | æ–‡ä»¶è·¯å¾„é”™è¯¯ | æ£€æŸ¥æ–‡ä»¶å­˜åœ¨æ€§ï¼Œåˆ›å»ºç›®å½• | æ–‡ä»¶æ“ä½œå‰å…ˆéªŒè¯è·¯å¾„ |
| **OutOfMemoryError** | å†…å­˜ä½¿ç”¨è¿‡é‡ | ä¼˜åŒ–å›¾ç‰‡åŠ è½½ï¼Œé‡Šæ”¾èµ„æº | å®æ–½å†…å­˜ç›‘æ§å’Œç®¡ç† |
| **ClassCastException** | ç±»å‹è½¬æ¢é”™è¯¯ | ä½¿ç”¨instanceofæ£€æŸ¥ | ç±»å‹è½¬æ¢å‰å…ˆéªŒè¯ç±»å‹ |
| **JSONè§£æé”™è¯¯** | æ•°æ®æ ¼å¼ä¸åŒ¹é… | æ·»åŠ å¼‚å¸¸å¤„ç†ï¼ŒéªŒè¯æ ¼å¼ | å®šä¹‰ä¸¥æ ¼çš„æ•°æ®æ¨¡å‹ |
| **UIçº¿ç¨‹é˜»å¡** | è€—æ—¶æ“ä½œåœ¨ä¸»çº¿ç¨‹ | ç§»è‡³åå°çº¿ç¨‹å¤„ç† | éµå¾ªUIå“åº”æ€§åŸåˆ™ |

**è°ƒè¯•æŠ€å·§å’Œå·¥å…·**
```java
/**
 * è°ƒè¯•è¾…åŠ©å·¥å…·ç±»
 * æä¾›å¸¸ç”¨çš„è°ƒè¯•æ–¹æ³•
 */
public class DebugUtils {
    
    private static final boolean DEBUG = BuildConfig.DEBUG;
    
    /**
     * è°ƒè¯•æ—¥å¿—è¾“å‡º
     */
    public static void log(String tag, String message) {
        if (DEBUG) {
            Log.d(tag, message);
        }
    }
    
    /**
     * å¯¹è±¡çŠ¶æ€æ£€æŸ¥
     */
    public static void checkObjectState(Object obj, String objectName) {
        if (DEBUG) {
            if (obj == null) {
                Log.w("DebugUtils", objectName + " is null!");
            } else {
                Log.d("DebugUtils", objectName + " state: " + obj.toString());
            }
        }
    }
    
    /**
     * æ–¹æ³•æ‰§è¡Œè·Ÿè¸ª
     */
    public static void traceMethod(String className, String methodName) {
        if (DEBUG) {
            Log.d("MethodTrace", className + "." + methodName + "() called");
        }
    }
    
    /**
     * ç½‘ç»œè¯·æ±‚è°ƒè¯•
     */
    public static void logNetworkRequest(String url, String method, String requestBody) {
        if (DEBUG) {
            Log.d("NetworkDebug", String.format("Request: %s %s\nBody: %s", 
                    method, url, requestBody));
        }
    }
}
```

---

## 6. è´¨é‡ä¿è¯å’Œæµ‹è¯•è§„èŒƒ

### 6.1 æµ‹è¯•ç­–ç•¥

#### 6.1.1 æµ‹è¯•è®¡åˆ’å’Œæ–¹æ³•

**æµ‹è¯•é‡‘å­—å¡”æ¨¡å‹**
```
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   E2Eæµ‹è¯•   â”‚  <- å°‘é‡ï¼Œé«˜ä»·å€¼åœºæ™¯
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚  é›†æˆæµ‹è¯•   â”‚  <- ä¸­ç­‰æ•°é‡ï¼Œæ¨¡å—é—´äº¤äº’
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚  å•å…ƒæµ‹è¯•   â”‚  <- å¤§é‡ï¼Œå¿«é€Ÿåé¦ˆ
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æµ‹è¯•ç±»å‹å’Œè¦†ç›–èŒƒå›´**

| æµ‹è¯•ç±»å‹ | è¦†ç›–èŒƒå›´ | æµ‹è¯•å·¥å…· | æ‰§è¡Œé¢‘ç‡ | ç›®æ ‡è¦†ç›–ç‡ |
|---------|----------|----------|----------|------------|
| **å•å…ƒæµ‹è¯•** | ä¸šåŠ¡é€»è¾‘ã€å·¥å…·ç±»ã€æ•°æ®å¤„ç† | JUnit 4/5, Mockito | æ¯æ¬¡æäº¤ | 80%+ |
| **é›†æˆæµ‹è¯•** | MVPå±‚é—´äº¤äº’ã€æ•°æ®æµè½¬ | AndroidX Test | æ¯æ—¥æ„å»º | 60%+ |
| **UIæµ‹è¯•** | ç”¨æˆ·ç•Œé¢äº¤äº’ã€é¡µé¢è·³è½¬ | Espresso | åŠŸèƒ½å®Œæˆ | æ ¸å¿ƒæµç¨‹100% |
| **æ€§èƒ½æµ‹è¯•** | å†…å­˜ã€CPUã€ç½‘ç»œæ€§èƒ½ | Android Profiler | ç‰ˆæœ¬å‘å¸ƒå‰ | å…³é”®æŒ‡æ ‡è¾¾æ ‡ |

#### 6.1.2 å•å…ƒæµ‹è¯•å®æ–½

**Presenterå±‚å•å…ƒæµ‹è¯•ç¤ºä¾‹**
```java
/**
 * èŠå¤©Presenterçš„å•å…ƒæµ‹è¯•
 * éªŒè¯ä¸šåŠ¡é€»è¾‘çš„æ­£ç¡®æ€§
 */
@RunWith(MockitoJUnitRunner.class)
public class ChatPresenterTest {
    
    @Mock
    private ChatContract.View mockView;
    
    @Mock
    private ChatRepository mockRepository;
    
    @InjectMocks
    private ChatPresenter presenter;
    
    @Before
    public void setUp() {
        presenter.attachView(mockView);
    }
    
    @After
    public void tearDown() {
        presenter.detachView();
    }
    
    @Test
    public void testSendMessage_Success() {
        // Given
        String messageContent = "Hello, AI assistant";
        Message expectedMessage = new Message(messageContent, MessageType.USER);
        
        when(mockRepository.saveMessage(any(Message.class)))
                .thenReturn(true);
        
        // When
        presenter.sendMessage(messageContent);
        
        // Then
        verify(mockView).showLoading();
        verify(mockRepository).saveMessage(argThat(message -> 
                message.getContent().equals(messageContent) &&
                message.getType() == MessageType.USER
        ));
        verify(mockView).hideLoading();
        verify(mockView).updateMessageList();
    }
    
    @Test
    public void testSendMessage_EmptyContent() {
        // When
        presenter.sendMessage("");
        
        // Then
        verify(mockView).showError("æ¶ˆæ¯å†…å®¹ä¸èƒ½ä¸ºç©º");
        verify(mockRepository, never()).saveMessage(any());
    }
    
    @Test
    public void testLoadMessages_Success() {
        // Given
        List<Message> mockMessages = Arrays.asList(
                new Message("Hello", MessageType.USER),
                new Message("Hi there!", MessageType.AI)
        );
        when(mockRepository.getAllMessages()).thenReturn(mockMessages);
        
        // When
        presenter.loadMessages();
        
        // Then
        verify(mockView).showLoading();
        verify(mockView).displayMessages(mockMessages);
        verify(mockView).hideLoading();
    }
}
```

**æ•°æ®å±‚å•å…ƒæµ‹è¯•ç¤ºä¾‹**
```java
/**
 * å­˜å‚¨ç®¡ç†å™¨çš„å•å…ƒæµ‹è¯•
 * éªŒè¯æ•°æ®å­˜å‚¨å’Œè¯»å–çš„æ­£ç¡®æ€§
 */
@RunWith(AndroidJUnit4.class)
@SmallTest
public class StorageManagerTest {
    
    private StorageManager storageManager;
    private Context testContext;
    
    @Before
    public void setUp() {
        testContext = InstrumentationRegistry.getInstrumentation().getTargetContext();
        storageManager = new StorageManager(testContext);
    }
    
    @Test
    public void testSaveAndLoadData() {
        // Given
        List<Course> testCourses = Arrays.asList(
                new Course("CS101", "è®¡ç®—æœºç§‘å­¦å¯¼è®º", "å‘¨ä¸€ 9:00-10:30"),
                new Course("MATH201", "é«˜ç­‰æ•°å­¦", "å‘¨äºŒ 14:00-15:30")
        );
        
        // When - ä¿å­˜æ•°æ®
        boolean saveResult = storageManager.saveData("test_courses.json", testCourses);
        
        // Then - éªŒè¯ä¿å­˜æˆåŠŸ
        assertTrue("æ•°æ®ä¿å­˜åº”è¯¥æˆåŠŸ", saveResult);
        
        // When - åŠ è½½æ•°æ®
        List<Course> loadedCourses = storageManager.loadData(
                "test_courses.json", 
                new TypeToken<List<Course>>(){}.getType(),
                new ArrayList<>()
        );
        
        // Then - éªŒè¯æ•°æ®ä¸€è‡´æ€§
        assertNotNull("åŠ è½½çš„æ•°æ®ä¸åº”ä¸ºnull", loadedCourses);
        assertEquals("è¯¾ç¨‹æ•°é‡åº”è¯¥ä¸€è‡´", testCourses.size(), loadedCourses.size());
        assertEquals("ç¬¬ä¸€é—¨è¯¾ç¨‹ä¿¡æ¯åº”è¯¥ä¸€è‡´", testCourses.get(0).getName(), 
                loadedCourses.get(0).getName());
    }
    
    @Test
    public void testLoadNonExistentFile() {
        // Given
        List<Course> defaultCourses = new ArrayList<>();
        
        // When
        List<Course> result = storageManager.loadData(
                "non_existent.json",
                new TypeToken<List<Course>>(){}.getType(),
                defaultCourses
        );
        
        // Then
        assertEquals("åº”è¯¥è¿”å›é»˜è®¤å€¼", defaultCourses, result);
    }
}
```

#### 6.1.3 é›†æˆæµ‹è¯•å®æ–½

**MVPå±‚é›†æˆæµ‹è¯•**
```java
/**
 * è¯¾ç¨‹ç®¡ç†åŠŸèƒ½çš„é›†æˆæµ‹è¯•
 * éªŒè¯View-Presenter-Modelä¹‹é—´çš„åä½œ
 */
@RunWith(AndroidJUnit4.class)
@MediumTest
public class CourseManagementIntegrationTest {
    
    @Rule
    public ActivityTestRule<CourseActivity> activityRule = 
            new ActivityTestRule<>(CourseActivity.class);
    
    private CourseActivity activity;
    private CoursePresenter presenter;
    
    @Before
    public void setUp() {
        activity = activityRule.getActivity();
        presenter = activity.getPresenter();
    }
    
    @Test
    public void testAddCourse_EndToEnd() {
        // Given
        Course newCourse = new Course("TEST101", "æµ‹è¯•è¯¾ç¨‹", "å‘¨ä¸‰ 10:00-11:30");
        
        // When - é€šè¿‡Presenteræ·»åŠ è¯¾ç¨‹
        presenter.addCourse(newCourse);
        
        // Then - éªŒè¯æ•°æ®ä¿å­˜å’ŒUIæ›´æ–°
        onView(withText("æµ‹è¯•è¯¾ç¨‹"))
                .check(matches(isDisplayed()));
        
        // éªŒè¯æ•°æ®æŒä¹…åŒ–
        List<Course> savedCourses = presenter.getAllCourses();
        assertTrue("è¯¾ç¨‹åº”è¯¥å·²ä¿å­˜", 
                savedCourses.stream().anyMatch(c -> c.getName().equals("æµ‹è¯•è¯¾ç¨‹")));
    }
    
    @Test
    public void testEditCourse_DataConsistency() {
        // Given - æ·»åŠ ä¸€é—¨è¯¾ç¨‹
        Course originalCourse = new Course("EDIT101", "åŸå§‹è¯¾ç¨‹", "å‘¨å›› 14:00-15:30");
        presenter.addCourse(originalCourse);
        
        // When - ç¼–è¾‘è¯¾ç¨‹ä¿¡æ¯
        Course updatedCourse = new Course("EDIT101", "æ›´æ–°åçš„è¯¾ç¨‹", "å‘¨å›› 16:00-17:30");
        presenter.updateCourse(originalCourse.getId(), updatedCourse);
        
        // Then - éªŒè¯æ›´æ–°ç”Ÿæ•ˆ
        onView(withText("æ›´æ–°åçš„è¯¾ç¨‹"))
                .check(matches(isDisplayed()));
        
        // éªŒè¯åŸå§‹è¯¾ç¨‹ä¸å†æ˜¾ç¤º
        onView(withText("åŸå§‹è¯¾ç¨‹"))
                .check(doesNotExist());
    }
}
```

#### 6.1.4 UIè‡ªåŠ¨åŒ–æµ‹è¯•

**Espresso UIæµ‹è¯•ç¤ºä¾‹**
```java
/**
 * AIå¯¹è¯ç•Œé¢çš„UIè‡ªåŠ¨åŒ–æµ‹è¯•
 * éªŒè¯ç”¨æˆ·äº¤äº’æµç¨‹çš„æ­£ç¡®æ€§
 */
@RunWith(AndroidJUnit4.class)
@LargeTest
public class ChatUITest {
    
    @Rule
    public ActivityTestRule<ChatActivity> activityRule = 
            new ActivityTestRule<>(ChatActivity.class);
    
    @Test
    public void testSendMessage_UIFlow() {
        // Given - å‡†å¤‡æµ‹è¯•æ¶ˆæ¯
        String testMessage = "è¿™æ˜¯ä¸€æ¡æµ‹è¯•æ¶ˆæ¯";
        
        // When - è¾“å…¥æ¶ˆæ¯å¹¶å‘é€
        onView(withId(R.id.et_message_input))
                .perform(typeText(testMessage), closeSoftKeyboard());
        
        onView(withId(R.id.btn_send))
                .perform(click());
        
        // Then - éªŒè¯æ¶ˆæ¯æ˜¾ç¤ºåœ¨èŠå¤©åˆ—è¡¨ä¸­
        onView(withId(R.id.rv_chat_messages))
                .check(matches(hasDescendant(withText(testMessage))));
        
        // éªŒè¯è¾“å…¥æ¡†å·²æ¸…ç©º
        onView(withId(R.id.et_message_input))
                .check(matches(withText("")));
        
        // éªŒè¯å‘é€æŒ‰é’®çŠ¶æ€
        onView(withId(R.id.btn_send))
                .check(matches(isEnabled()));
    }
    
    @Test
    public void testEmptyMessage_ValidationError() {
        // When - å°è¯•å‘é€ç©ºæ¶ˆæ¯
        onView(withId(R.id.btn_send))
                .perform(click());
        
        // Then - éªŒè¯é”™è¯¯æç¤ºæ˜¾ç¤º
        onView(withText("æ¶ˆæ¯å†…å®¹ä¸èƒ½ä¸ºç©º"))
                .check(matches(isDisplayed()));
    }
    
    @Test
    public void testMessageList_ScrollAndDisplay() {
        // Given - å‘é€å¤šæ¡æ¶ˆæ¯ä»¥æµ‹è¯•æ»šåŠ¨
        String[] testMessages = {
                "ç¬¬ä¸€æ¡æ¶ˆæ¯", "ç¬¬äºŒæ¡æ¶ˆæ¯", "ç¬¬ä¸‰æ¡æ¶ˆæ¯", 
                "ç¬¬å››æ¡æ¶ˆæ¯", "ç¬¬äº”æ¡æ¶ˆæ¯"
        };
        
        for (String message : testMessages) {
            onView(withId(R.id.et_message_input))
                    .perform(typeText(message), closeSoftKeyboard());
            onView(withId(R.id.btn_send)).perform(click());
            
            // ç­‰å¾…æ¶ˆæ¯å¤„ç†
            try { Thread.sleep(500); } catch (InterruptedException e) {}
        }
        
        // Then - éªŒè¯æœ€æ–°æ¶ˆæ¯å¯è§
        onView(withText("ç¬¬äº”æ¡æ¶ˆæ¯"))
                .check(matches(isDisplayed()));
        
        // éªŒè¯åˆ—è¡¨å¯æ»šåŠ¨åˆ°æœ€æ—©æ¶ˆæ¯
        onView(withId(R.id.rv_chat_messages))
                .perform(scrollToPosition(0));
        
        onView(withText("ç¬¬ä¸€æ¡æ¶ˆæ¯"))
                .check(matches(isDisplayed()));
    }
}
```

### 6.2 ä»£ç è´¨é‡æ£€æŸ¥

#### 6.2.1 é™æ€ä»£ç åˆ†æ

**Android Linté…ç½®**
```xml
<!-- lint.xml - Lintè§„åˆ™é…ç½® -->
<lint>
    <!-- é”™è¯¯çº§åˆ«æ£€æŸ¥ -->
    <issue id="HardcodedText" severity="error" />
    <issue id="MissingTranslation" severity="error" />
    <issue id="UnusedResources" severity="warning" />
    
    <!-- æ€§èƒ½ç›¸å…³æ£€æŸ¥ -->
    <issue id="UselessParent" severity="warning" />
    <issue id="NestedScrolling" severity="warning" />
    <issue id="Overdraw" severity="info" />
    
    <!-- å®‰å…¨ç›¸å…³æ£€æŸ¥ -->
    <issue id="AllowBackup" severity="error" />
    <issue id="ExportedReceiver" severity="error" />
    <issue id="UnsafeProtectedBroadcastReceiver" severity="error" />
    
    <!-- å¿½ç•¥çš„æ£€æŸ¥é¡¹ -->
    <issue id="GoogleAppIndexingWarning" severity="ignore" />
    <issue id="OldTargetApi" severity="ignore" />
</lint>
```

**ä»£ç è´¨é‡æ£€æŸ¥æ¸…å•**
```java
/**
 * ä»£ç è´¨é‡æ£€æŸ¥å·¥å…·ç±»
 * æä¾›ä»£ç è´¨é‡éªŒè¯æ–¹æ³•
 */
public class CodeQualityChecker {
    
    /**
     * æ£€æŸ¥ç±»çš„è®¾è®¡åŸåˆ™
     */
    public static class DesignPrincipleChecker {
        
        // å•ä¸€èŒè´£åŸåˆ™æ£€æŸ¥
        public boolean checkSingleResponsibility(Class<?> clazz) {
            // æ£€æŸ¥ç±»çš„æ–¹æ³•æ•°é‡å’Œå¤æ‚åº¦
            Method[] methods = clazz.getDeclaredMethods();
            return methods.length <= 10; // ç®€åŒ–çš„æ£€æŸ¥æ ‡å‡†
        }
        
        // å¼€é—­åŸåˆ™æ£€æŸ¥
        public boolean checkOpenClosed(Class<?> clazz) {
            // æ£€æŸ¥ç±»æ˜¯å¦ä½¿ç”¨æŠ½è±¡å’Œæ¥å£
            return clazz.getInterfaces().length > 0 || 
                   Modifier.isAbstract(clazz.getModifiers());
        }
    }
    
    /**
     * æ€§èƒ½è´¨é‡æ£€æŸ¥
     */
    public static class PerformanceChecker {
        
        public boolean checkMemoryLeaks(Object obj) {
            // æ£€æŸ¥æ½œåœ¨çš„å†…å­˜æ³„æ¼
            // å®é™…é¡¹ç›®ä¸­å¯é›†æˆLeakCanary
            return true; // ç®€åŒ–å®ç°
        }
        
        public boolean checkThreadSafety(Class<?> clazz) {
            // æ£€æŸ¥çº¿ç¨‹å®‰å…¨æ€§
            Field[] fields = clazz.getDeclaredFields();
            for (Field field : fields) {
                if (Collection.class.isAssignableFrom(field.getType()) &&
                    !field.getType().getName().contains("Concurrent")) {
                    return false; // å‘ç°éçº¿ç¨‹å®‰å…¨çš„é›†åˆ
                }
            }
            return true;
        }
    }
}
```

#### 6.2.2 ä»£ç å®¡æŸ¥è§„èŒƒ

**ä»£ç å®¡æŸ¥æ£€æŸ¥æ¸…å•**

**åŸºç¡€ä»£ç è´¨é‡**
- [ ] ä»£ç éµå¾ªé¡¹ç›®å‘½åè§„èŒƒ
- [ ] æ–¹æ³•é•¿åº¦ä¸è¶…è¿‡50è¡Œ
- [ ] ç±»é•¿åº¦ä¸è¶…è¿‡500è¡Œ
- [ ] åœˆå¤æ‚åº¦ä¸è¶…è¿‡10
- [ ] æ— é‡å¤ä»£ç ï¼ˆDRYåŸåˆ™ï¼‰

**Androidç‰¹å®šæ£€æŸ¥**
- [ ] Activity/Fragmentç”Ÿå‘½å‘¨æœŸæ­£ç¡®å¤„ç†
- [ ] å†…å­˜æ³„æ¼é£é™©æ£€æŸ¥ï¼ˆWeakReferenceä½¿ç”¨ï¼‰
- [ ] ä¸»çº¿ç¨‹é˜»å¡æ£€æŸ¥ï¼ˆç½‘ç»œ/IOæ“ä½œï¼‰
- [ ] èµ„æºæ–‡ä»¶æ­£ç¡®å¼•ç”¨å’Œé‡Šæ”¾
- [ ] æƒé™å£°æ˜å’Œä½¿ç”¨æ£€æŸ¥

**MVPæ¶æ„æ£€æŸ¥**
- [ ] Viewå±‚ä¸åŒ…å«ä¸šåŠ¡é€»è¾‘
- [ ] Presenterå±‚ä¸ä¾èµ–Androidæ¡†æ¶
- [ ] Modelå±‚èŒè´£å•ä¸€ï¼Œæ•°æ®è®¿é—®ç»Ÿä¸€
- [ ] Contractæ¥å£å®šä¹‰æ¸…æ™°
- [ ] ä¾èµ–æ³¨å…¥æ­£ç¡®å®ç°

**å®‰å…¨å’Œæ€§èƒ½**
- [ ] æ•æ„Ÿæ•°æ®ä¸åœ¨æ—¥å¿—ä¸­è¾“å‡º
- [ ] ç½‘ç»œè¯·æ±‚åŒ…å«è¶…æ—¶å’Œé‡è¯•æœºåˆ¶
- [ ] å›¾ç‰‡åŠ è½½ä½¿ç”¨ç¼“å­˜ç­–ç•¥
- [ ] æ•°æ®åº“æ“ä½œå¼‚æ­¥æ‰§è¡Œ
- [ ] å¼‚å¸¸å¤„ç†è¦†ç›–å®Œæ•´

#### 6.2.3 è‡ªåŠ¨åŒ–è´¨é‡æ£€æŸ¥

**Gradleè´¨é‡æ£€æŸ¥é›†æˆ**
```gradle
// app/build.gradle
android {
    lintOptions {
        // Lintæ£€æŸ¥é…ç½®
        abortOnError true
        checkReleaseBuilds true
        lintConfig file("${project.rootDir}/config/lint.xml")
        
        // ç”ŸæˆæŠ¥å‘Š
        htmlReport true
        xmlReport true
        textReport true
        
        // æ£€æŸ¥é¡¹é…ç½®
        check 'NewApi', 'HandlerLeak', 'UnusedResources'
        disable 'GoogleAppIndexingWarning', 'InvalidPackage'
    }
}

// ä»£ç æ ¼å¼æ£€æŸ¥ä»»åŠ¡
task checkCodeStyle(type: Exec) {
    commandLine 'java', '-jar', 'checkstyle.jar', '-c', 'config/checkstyle.xml', 'src/'
}

// å•å…ƒæµ‹è¯•è¦†ç›–ç‡
apply plugin: 'jacoco'

jacoco {
    toolVersion = "0.8.7"
}

task jacocoTestReport(type: JacocoReport, dependsOn: ['testDebugUnitTest']) {
    reports {
        xml.enabled = true
        html.enabled = true
    }
    
    def fileFilter = [
            '**/R.class',
            '**/R$*.class',
            '**/BuildConfig.*',
            '**/Manifest*.*',
            '**/*Test*.*',
            'android/**/*.*'
    ]
    
    def debugTree = fileTree(dir: "${buildDir}/intermediates/classes/debug", excludes: fileFilter)
    def mainSrc = "${project.projectDir}/src/main/java"
    
    sourceDirectories.from = files([mainSrc])
    classDirectories.from = files([debugTree])
    executionData.from = fileTree(dir: buildDir, includes: [
            'jacoco/testDebugUnitTest.exec',
            'outputs/code-coverage/connected/*coverage.ec'
    ])
}
```

### 6.3 éƒ¨ç½²å’Œå‘å¸ƒ

#### 6.3.1 æ„å»ºé…ç½®ç®¡ç†

**å¤šç¯å¢ƒæ„å»ºé…ç½®**
```gradle
// app/build.gradle
android {
    buildTypes {
        debug {
            debuggable true
            minifyEnabled false
            applicationIdSuffix ".debug"
            versionNameSuffix "-debug"
            
            // è°ƒè¯•é…ç½®
            buildConfigField "String", "API_BASE_URL", '"https://api-dev.example.com"'
            buildConfigField "boolean", "ENABLE_LOGGING", "true"
            
            // ç­¾åé…ç½®
            signingConfig signingConfigs.debug
        }
        
        release {
            debuggable false
            minifyEnabled true
            shrinkResources true
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
            
            // ç”Ÿäº§é…ç½®
            buildConfigField "String", "API_BASE_URL", '"https://api.example.com"'
            buildConfigField "boolean", "ENABLE_LOGGING", "false"
            
            // ç­¾åé…ç½®
            signingConfig signingConfigs.release
        }
        
        staging {
            initWith release
            applicationIdSuffix ".staging"
            versionNameSuffix "-staging"
            
            // æµ‹è¯•ç¯å¢ƒé…ç½®
            buildConfigField "String", "API_BASE_URL", '"https://api-staging.example.com"'
            buildConfigField "boolean", "ENABLE_LOGGING", "true"
        }
    }
    
    // ç­¾åé…ç½®
    signingConfigs {
        release {
            storeFile file("../keystore/campus-ai-release.keystore")
            storePassword System.getenv("KEYSTORE_PASSWORD")
            keyAlias System.getenv("KEY_ALIAS")
            keyPassword System.getenv("KEY_PASSWORD")
        }
    }
}
```

**ProGuardæ··æ·†é…ç½®**
```proguard
# proguard-rules.pro

# ä¿ç•™AndroidåŸºç¡€ç±»
-keep public class * extends android.app.Activity
-keep public class * extends android.app.Application
-keep public class * extends android.app.Service
-keep public class * extends android.content.BroadcastReceiver
-keep public class * extends android.content.ContentProvider

# ä¿ç•™MVP Contractæ¥å£
-keep interface **.*Contract* { *; }
-keep interface **.*Contract$* { *; }

# ä¿ç•™æ•°æ®æ¨¡å‹ç±»
-keep class **.model.** { *; }
-keep class **.entity.** { *; }

# ä¿ç•™Gsonåºåˆ—åŒ–ç±»
-keepattributes Signature
-keepattributes *Annotation*
-keep class com.google.gson.** { *; }
-keep class * implements com.google.gson.TypeAdapterFactory
-keep class * implements com.google.gson.JsonSerializer
-keep class * implements com.google.gson.JsonDeserializer

# ä¿ç•™ç½‘ç»œè¯·æ±‚ç›¸å…³
-keep class okhttp3.** { *; }
-keep interface okhttp3.** { *; }

# ç§»é™¤æ—¥å¿—
-assumenosideeffects class android.util.Log {
    public static *** d(...);
    public static *** v(...);
    public static *** i(...);
}
```

#### 6.3.2 è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹

**CI/CD Pipelineé…ç½®ï¼ˆGitHub Actionsç¤ºä¾‹ï¼‰**
```yaml
# .github/workflows/android.yml
name: Android CI/CD

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v2
    
    - name: Set up JDK 11
      uses: actions/setup-java@v2
      with:
        java-version: '11'
        distribution: 'adopt'
    
    - name: Cache Gradle packages
      uses: actions/cache@v2
      with:
        path: |
          ~/.gradle/caches
          ~/.gradle/wrapper
        key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle*', '**/gradle-wrapper.properties') }}
        restore-keys: |
          ${{ runner.os }}-gradle-
    
    - name: Grant execute permission for gradlew
      run: chmod +x gradlew
    
    - name: Run tests
      run: ./gradlew test
    
    - name: Run lint
      run: ./gradlew lint
    
    - name: Generate test report
      run: ./gradlew jacocoTestReport
    
    - name: Upload coverage to Codecov
      uses: codecov/codecov-action@v1
      with:
        file: ./app/build/reports/jacoco/jacocoTestReport/jacocoTestReport.xml

  build:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    
    steps:
    - uses: actions/checkout@v2
    
    - name: Set up JDK 11
      uses: actions/setup-java@v2
      with:
        java-version: '11'
        distribution: 'adopt'
    
    - name: Build release APK
      run: ./gradlew assembleRelease
      env:
        KEYSTORE_PASSWORD: ${{ secrets.KEYSTORE_PASSWORD }}
        KEY_ALIAS: ${{ secrets.KEY_ALIAS }}
        KEY_PASSWORD: ${{ secrets.KEY_PASSWORD }}
    
    - name: Upload APK
      uses: actions/upload-artifact@v2
      with:
        name: release-apk
        path: app/build/outputs/apk/release/app-release.apk
```

#### 6.3.3 ç‰ˆæœ¬å‘å¸ƒç®¡ç†

**ç‰ˆæœ¬å·ç®¡ç†ç­–ç•¥**
```gradle
// version.gradle
ext {
    // ç‰ˆæœ¬å·ç»„æˆ: major.minor.patch.build
    versionMajor = 1
    versionMinor = 0
    versionPatch = 0
    versionBuild = getBuildNumber()
    
    versionName = "${versionMajor}.${versionMinor}.${versionPatch}"
    versionCode = versionMajor * 10000 + versionMinor * 1000 + versionPatch * 100 + versionBuild
}

def getBuildNumber() {
    def buildNumber = System.getenv("BUILD_NUMBER")
    return buildNumber != null ? buildNumber.toInteger() : 1
}
```

**å‘å¸ƒæ£€æŸ¥æ¸…å•**
- [ ] æ‰€æœ‰å•å…ƒæµ‹è¯•é€šè¿‡
- [ ] é›†æˆæµ‹è¯•éªŒè¯å®Œæˆ
- [ ] UIæµ‹è¯•è¦†ç›–æ ¸å¿ƒæµç¨‹
- [ ] æ€§èƒ½æµ‹è¯•è¾¾æ ‡
- [ ] å®‰å…¨æ£€æŸ¥é€šè¿‡
- [ ] ä»£ç æ··æ·†é…ç½®æ­£ç¡®
- [ ] ç­¾åè¯ä¹¦é…ç½®
- [ ] ç‰ˆæœ¬å·æ›´æ–°
- [ ] æ›´æ–°æ—¥å¿—ç¼–å†™
- [ ] ç”¨æˆ·æ‰‹å†Œæ›´æ–°

### 6.4 ç»´æŠ¤å’Œæ›´æ–°

#### 6.4.1 ç›‘æ§å’Œæ—¥å¿—

**åº”ç”¨ç›‘æ§é…ç½®**
```java
/**
 * åº”ç”¨ç›‘æ§ç®¡ç†å™¨
 * æ”¶é›†åº”ç”¨è¿è¡Œæ—¶çš„å…³é”®æŒ‡æ ‡
 */
public class AppMonitoringManager {
    
    private static final String TAG = "AppMonitoring";
    
    /**
     * åˆå§‹åŒ–ç›‘æ§ç³»ç»Ÿ
     */
    public static void initialize(Context context) {
        // åˆå§‹åŒ–å´©æºƒç›‘æ§
        initCrashReporting(context);
        
        // åˆå§‹åŒ–æ€§èƒ½ç›‘æ§
        initPerformanceMonitoring(context);
        
        // åˆå§‹åŒ–ç”¨æˆ·è¡Œä¸ºç»Ÿè®¡
        initAnalytics(context);
    }
    
    /**
     * å´©æºƒç›‘æ§é…ç½®
     */
    private static void initCrashReporting(Context context) {
        Thread.setDefaultUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() {
            @Override
            public void uncaughtException(Thread thread, Throwable ex) {
                // è®°å½•å´©æºƒä¿¡æ¯
                logCrashInfo(ex);
                
                // å‘é€å´©æºƒæŠ¥å‘Šï¼ˆå¯é€‰ï¼‰
                sendCrashReport(ex);
                
                // è°ƒç”¨ç³»ç»Ÿé»˜è®¤å¤„ç†
                if (defaultHandler != null) {
                    defaultHandler.uncaughtException(thread, ex);
                }
            }
        });
    }
    
    /**
     * è®°å½•ç”¨æˆ·è¡Œä¸º
     */
    public static void trackEvent(String eventName, Map<String, String> parameters) {
        if (BuildConfig.DEBUG) {
            Log.d(TAG, "Event: " + eventName + ", Parameters: " + parameters);
        }
        
        // åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯ä»¥å‘é€åˆ°åˆ†ææœåŠ¡
        // Analytics.trackEvent(eventName, parameters);
    }
    
    /**
     * è®°å½•æ€§èƒ½æŒ‡æ ‡
     */
    public static void recordPerformanceMetric(String metricName, long value) {
        Log.i(TAG, "Performance: " + metricName + " = " + value + "ms");
        
        // ä¿å­˜åˆ°æœ¬åœ°æˆ–å‘é€åˆ°ç›‘æ§æœåŠ¡
        SharedPreferences prefs = context.getSharedPreferences("performance", Context.MODE_PRIVATE);
        prefs.edit()
                .putLong(metricName + "_" + System.currentTimeMillis(), value)
                .apply();
    }
}
```

#### 6.4.2 ç”¨æˆ·åé¦ˆæœºåˆ¶

**åº”ç”¨å†…åé¦ˆç³»ç»Ÿ**
```java
/**
 * ç”¨æˆ·åé¦ˆç®¡ç†å™¨
 * æ”¶é›†å’Œå¤„ç†ç”¨æˆ·åé¦ˆä¿¡æ¯
 */
public class FeedbackManager {
    
    public enum FeedbackType {
        BUG_REPORT,     // é”™è¯¯æŠ¥å‘Š
        FEATURE_REQUEST, // åŠŸèƒ½å»ºè®®
        IMPROVEMENT,    // æ”¹è¿›å»ºè®®
        OTHER          // å…¶ä»–
    }
    
    /**
     * æäº¤ç”¨æˆ·åé¦ˆ
     */
    public void submitFeedback(FeedbackType type, String content, String contactInfo) {
        try {
            Feedback feedback = new Feedback();
            feedback.setType(type);
            feedback.setContent(content);
            feedback.setContactInfo(contactInfo);
            feedback.setTimestamp(System.currentTimeMillis());
            feedback.setAppVersion(BuildConfig.VERSION_NAME);
            feedback.setDeviceInfo(getDeviceInfo());
            
            // ä¿å­˜åˆ°æœ¬åœ°
            saveFeedbackLocally(feedback);
            
            // å°è¯•å‘é€åˆ°æœåŠ¡å™¨ï¼ˆå¦‚æœæœ‰ç½‘ç»œï¼‰
            if (NetworkUtils.isNetworkAvailable()) {
                sendFeedbackToServer(feedback);
            }
            
        } catch (Exception e) {
            Log.e("FeedbackManager", "Failed to submit feedback", e);
        }
    }
    
    /**
     * è·å–è®¾å¤‡ä¿¡æ¯
     */
    private String getDeviceInfo() {
        return String.format(
                "Device: %s %s\nAndroid: %s (API %d)\nApp: %s (%d)",
                Build.MANUFACTURER, Build.MODEL,
                Build.VERSION.RELEASE, Build.VERSION.SDK_INT,
                BuildConfig.VERSION_NAME, BuildConfig.VERSION_CODE
        );
    }
}
```

#### 6.4.3 ç‰ˆæœ¬æ›´æ–°ç­–ç•¥

**åº”ç”¨æ›´æ–°æ£€æŸ¥**
```java
/**
 * åº”ç”¨æ›´æ–°ç®¡ç†å™¨
 * æ£€æŸ¥å’Œå¤„ç†åº”ç”¨ç‰ˆæœ¬æ›´æ–°
 */
public class UpdateManager {
    
    /**
     * æ£€æŸ¥æ›´æ–°
     */
    public void checkForUpdates(UpdateCheckCallback callback) {
        // è·å–å½“å‰ç‰ˆæœ¬ä¿¡æ¯
        int currentVersionCode = BuildConfig.VERSION_CODE;
        String currentVersionName = BuildConfig.VERSION_NAME;
        
        // æ£€æŸ¥æœåŠ¡å™¨ä¸Šçš„æœ€æ–°ç‰ˆæœ¬ï¼ˆæ¨¡æ‹Ÿï¼‰
        // åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œè¿™é‡Œä¼šè°ƒç”¨ç‰ˆæœ¬æ£€æŸ¥API
        checkServerVersion(currentVersionCode, new VersionCheckListener() {
            @Override
            public void onVersionChecked(VersionInfo latestVersion) {
                if (latestVersion.getVersionCode() > currentVersionCode) {
                    // æœ‰æ–°ç‰ˆæœ¬å¯ç”¨
                    callback.onUpdateAvailable(latestVersion);
                } else {
                    // å·²æ˜¯æœ€æ–°ç‰ˆæœ¬
                    callback.onNoUpdateNeeded();
                }
            }
            
            @Override
            public void onError(Exception error) {
                callback.onCheckFailed(error);
            }
        });
    }
    
    /**
     * æ˜¾ç¤ºæ›´æ–°å¯¹è¯æ¡†
     */
    public void showUpdateDialog(Context context, VersionInfo versionInfo) {
        AlertDialog.Builder builder = new AlertDialog.Builder(context);
        builder.setTitle("å‘ç°æ–°ç‰ˆæœ¬ " + versionInfo.getVersionName())
                .setMessage(versionInfo.getReleaseNotes())
                .setPositiveButton("ç«‹å³æ›´æ–°", (dialog, which) -> {
                    // è·³è½¬åˆ°åº”ç”¨å•†åº—æˆ–ä¸‹è½½é¡µé¢
                    openUpdateUrl(context, versionInfo.getDownloadUrl());
                })
                .setNegativeButton("ç¨åæ›´æ–°", null);
        
        if (versionInfo.isForceUpdate()) {
            builder.setCancelable(false);
            builder.setNegativeButton(null, null);
        }
        
        builder.show();
    }
}
```

#### 6.4.4 æ•°æ®è¿ç§»ç­–ç•¥

**åº”ç”¨æ•°æ®ç‰ˆæœ¬ç®¡ç†**
```java
/**
 * æ•°æ®ç‰ˆæœ¬è¿ç§»ç®¡ç†å™¨
 * å¤„ç†åº”ç”¨å‡çº§æ—¶çš„æ•°æ®å…¼å®¹æ€§
 */
public class DataMigrationManager {
    
    private static final String PREF_DATA_VERSION = "data_version";
    private static final int CURRENT_DATA_VERSION = 3;
    
    /**
     * æ‰§è¡Œæ•°æ®è¿ç§»æ£€æŸ¥
     */
    public boolean performMigrationIfNeeded(Context context) {
        SharedPreferences prefs = context.getSharedPreferences("app_data", Context.MODE_PRIVATE);
        int savedDataVersion = prefs.getInt(PREF_DATA_VERSION, 1);
        
        if (savedDataVersion < CURRENT_DATA_VERSION) {
            Log.i("DataMigration", "Starting migration from version " + 
                    savedDataVersion + " to " + CURRENT_DATA_VERSION);
            
            boolean success = executeMigration(context, savedDataVersion, CURRENT_DATA_VERSION);
            
            if (success) {
                // æ›´æ–°æ•°æ®ç‰ˆæœ¬å·
                prefs.edit().putInt(PREF_DATA_VERSION, CURRENT_DATA_VERSION).apply();
                Log.i("DataMigration", "Migration completed successfully");
            } else {
                Log.e("DataMigration", "Migration failed");
            }
            
            return success;
        }
        
        return true; // æ— éœ€è¿ç§»
    }
    
    /**
     * æ‰§è¡Œå…·ä½“çš„è¿ç§»æ­¥éª¤
     */
    private boolean executeMigration(Context context, int fromVersion, int toVersion) {
        try {
            // åˆ›å»ºå¤‡ä»½
            createDataBackup(context);
            
            // é€æ­¥æ‰§è¡Œè¿ç§»
            for (int version = fromVersion; version < toVersion; version++) {
                switch (version) {
                    case 1:
                        migrateFromV1ToV2(context);
                        break;
                    case 2:
                        migrateFromV2ToV3(context);
                        break;
                    default:
                        Log.w("DataMigration", "Unknown migration version: " + version);
                }
            }
            
            return true;
        } catch (Exception e) {
            Log.e("DataMigration", "Migration failed", e);
            // æ¢å¤å¤‡ä»½
            restoreDataBackup(context);
            return false;
        }
    }
    
    /**
     * V1åˆ°V2çš„è¿ç§»ï¼šæ·»åŠ è¯¾ç¨‹é¢œè‰²å­—æ®µ
     */
    private void migrateFromV1ToV2(Context context) throws Exception {
        StorageManager storage = new StorageManager(context);
        
        // è¯»å–æ—§æ ¼å¼æ•°æ®
        List<Map<String, Object>> oldCourses = storage.loadData("courses.json", 
                new TypeToken<List<Map<String, Object>>>(){}.getType(), new ArrayList<>());
        
        // è½¬æ¢ä¸ºæ–°æ ¼å¼
        List<Course> newCourses = new ArrayList<>();
        for (Map<String, Object> oldCourse : oldCourses) {
            Course course = new Course();
            course.setId((String) oldCourse.get("id"));
            course.setName((String) oldCourse.get("name"));
            course.setTime((String) oldCourse.get("time"));
            course.setColor("#2196F3"); // è®¾ç½®é»˜è®¤é¢œè‰²
            newCourses.add(course);
        }
        
        // ä¿å­˜æ–°æ ¼å¼æ•°æ®
        storage.saveData("courses.json", newCourses);
        
        Log.i("DataMigration", "Migrated " + newCourses.size() + " courses from V1 to V2");
    }
}
```

---

## é™„å½•

### A. å‚è€ƒèµ„æ–™

#### A.1 å®˜æ–¹æ–‡æ¡£
- @Androidå®˜æ–¹å¼€å‘æ–‡æ¡£
- @Android Developer Guides
- @Material Design Guidelines
- @Android Architecture Components

#### A.2 æ¶æ„å’Œè®¾è®¡æ¨¡å¼
- @MVP Pattern for Android
- @Android Architecture Blueprints
- @Clean Architecture for Android

#### A.3 å¼€å‘å·¥å…·å’Œåº“
- @Gradle Build Tool
- @Gson JSON Library
- @OkHttp HTTP Client
- @Glide Image Loading

#### A.4 æµ‹è¯•æ¡†æ¶
- @JUnit Testing Framework
- @Mockito Mocking Framework
- @Espresso UI Testing
- @Android Testing Guide

#### A.5 è´¨é‡ä¿è¯å·¥å…·
- @Android Lint
- @LeakCanary Memory Leak Detection
- @SonarQube Code Quality

#### A.6 è¯¾ç¨‹ç›¸å…³
- ç§»åŠ¨äº’è”ç½‘æŠ€æœ¯åŠåº”ç”¨è¯¾ç¨‹èµ„æ–™
- Androidå¼€å‘æœ€ä½³å®è·µæŒ‡å—
- è½¯ä»¶å·¥ç¨‹é¡¹ç›®ç®¡ç†æ–¹æ³•è®º

### B. å¿«é€Ÿå‚è€ƒ

#### B.1 å¸¸ç”¨å‘½ä»¤
```bash
# æ„å»ºå‘½ä»¤
./gradlew assembleDebug          # æ„å»ºè°ƒè¯•ç‰ˆæœ¬
./gradlew assembleRelease        # æ„å»ºå‘å¸ƒç‰ˆæœ¬
./gradlew clean                  # æ¸…ç†æ„å»ºæ–‡ä»¶

# æµ‹è¯•å‘½ä»¤
./gradlew test                   # è¿è¡Œå•å…ƒæµ‹è¯•
./gradlew connectedAndroidTest   # è¿è¡Œé›†æˆæµ‹è¯•
./gradlew lint                   # è¿è¡Œä»£ç æ£€æŸ¥

# è´¨é‡æ£€æŸ¥
./gradlew jacocoTestReport       # ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
./gradlew checkstyle             # ä»£ç é£æ ¼æ£€æŸ¥
```

#### B.2 é‡è¦é…ç½®æ–‡ä»¶
- `app/build.gradle` - åº”ç”¨æ„å»ºé…ç½®
- `proguard-rules.pro` - ä»£ç æ··æ·†è§„åˆ™
- `lint.xml` - Lintæ£€æŸ¥é…ç½®
- `AndroidManifest.xml` - åº”ç”¨æ¸…å•æ–‡ä»¶

#### B.3 å…³é”®ç›®å½•ç»“æ„
```
app/src/main/
â”œâ”€â”€ java/com/campus/aiassistant/
â”‚   â”œâ”€â”€ ui/           # UIå±‚ (Activity, Fragment)
â”‚   â”œâ”€â”€ presenter/    # Presenterå±‚
â”‚   â”œâ”€â”€ model/        # Modelå±‚ (æ•°æ®æ¨¡å‹)
â”‚   â”œâ”€â”€ repository/   # æ•°æ®ä»“åº“
â”‚   â”œâ”€â”€ contract/     # MVPå¥‘çº¦æ¥å£
â”‚   â””â”€â”€ utils/        # å·¥å…·ç±»
â”œâ”€â”€ res/
â”‚   â”œâ”€â”€ layout/       # å¸ƒå±€æ–‡ä»¶
â”‚   â”œâ”€â”€ values/       # èµ„æºå€¼
â”‚   â””â”€â”€ drawable/     # å›¾ç‰‡èµ„æº
â””â”€â”€ AndroidManifest.xml
```

### C. æ›´æ–°æ—¥å¿—

#### v1.0 (2025/6/5)
**åˆå§‹å‘å¸ƒç‰ˆæœ¬**
- âœ… å®Œæˆé¡¹ç›®æ¦‚è¿°å’Œç›®æ ‡å®šä¹‰ (ç¬¬1ç« )
- âœ… å»ºç«‹æŠ€æœ¯æ¶æ„å’ŒæŠ€æœ¯æ ˆè§„èŒƒ (ç¬¬2ç« )
- âœ… è®¾è®¡æ ¸å¿ƒåŠŸèƒ½æ¨¡å—è§„èŒƒ (ç¬¬3ç« )
- âœ… åˆ¶å®šä»£ç å¼€å‘è§„èŒƒå’Œé¡¹ç›®ç»“æ„æ ‡å‡† (ç¬¬4ç« )
- âœ… ç¼–å†™å®æ–½æŒ‡å—å’Œæœ€ä½³å®è·µ (ç¬¬5ç« )
- âœ… å®Œå–„è´¨é‡ä¿è¯å’Œæµ‹è¯•è§„èŒƒ (ç¬¬6ç« )

**æ–‡æ¡£ç‰¹è‰²ï¼š**
- ğŸ“‹ 6ä¸ªå®Œæ•´ç« èŠ‚ï¼Œæ¶µç›–å¼€å‘å…¨ç”Ÿå‘½å‘¨æœŸ
- ğŸ—ï¸ MVPæ¶æ„æ¨¡å¼è¯¦ç»†å®æ–½æŒ‡å¯¼
- ğŸ’¾ åŸºäºJSONçš„æœ¬åœ°å­˜å‚¨æ–¹æ¡ˆ
- ğŸ¯ å››å¤§æ ¸å¿ƒåŠŸèƒ½æ¨¡å—è®¾è®¡
- âš¡ æ€§èƒ½ä¼˜åŒ–å’Œé—®é¢˜è§£å†³æ–¹æ¡ˆ
- ğŸ§ª å®Œæ•´çš„æµ‹è¯•ç­–ç•¥å’Œè´¨é‡ä¿è¯ä½“ç³»
- ğŸ“± AndroidåŸç”Ÿå¼€å‘æœ€ä½³å®è·µ

**æŠ€æœ¯è¦†ç›–ï¼š**
- Android Studio + Java/Kotlin
- MVPæ¶æ„æ¨¡å¼
- JSONæ•°æ®å­˜å‚¨
- AIå¯¹è¯é›†æˆ
- Material Design UI
- å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- CI/CDè‡ªåŠ¨åŒ–éƒ¨ç½²

**è´¨é‡æŒ‡æ ‡ï¼š**
- æ–‡æ¡£æ€»é•¿åº¦ï¼š4000+ è¡Œ
- ä»£ç ç¤ºä¾‹ï¼š100+ ä¸ª
- é…ç½®æ¨¡æ¿ï¼š20+ ä¸ª
- æ£€æŸ¥æ¸…å•ï¼š50+ é¡¹
- å‚è€ƒèµ„æ–™ï¼š30+ ä¸ª

### D. è¯æ±‡è¡¨

| æœ¯è¯­ | è‹±æ–‡ | è§£é‡Š |
|------|------|------|
| **MVP** | Model-View-Presenter | ä¸€ç§æ¶æ„æ¨¡å¼ï¼Œå°†åº”ç”¨åˆ†ä¸ºæ¨¡å‹ã€è§†å›¾å’Œå±•ç¤ºå™¨ä¸‰å±‚ |
| **Contract** | Interface Contract | å®šä¹‰Viewå’ŒPresenteré—´äº¤äº’çš„æ¥å£åè®® |
| **Repository** | Data Repository | æ•°æ®ä»“åº“æ¨¡å¼ï¼Œç»Ÿä¸€æ•°æ®è®¿é—®æ¥å£ |
| **Gson** | Google JSON | Googleå¼€å‘çš„JSONåºåˆ—åŒ–/ååºåˆ—åŒ–åº“ |
| **OkHttp** | Square HTTP Client | Squareå…¬å¸å¼€å‘çš„HTTPå®¢æˆ·ç«¯åº“ |
| **Lint** | Static Analysis | Androidé™æ€ä»£ç åˆ†æå·¥å…· |
| **Espresso** | UI Testing Framework | Androidå®˜æ–¹UIè‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ |
| **ProGuard** | Code Obfuscation | ä»£ç æ··æ·†å’Œä¼˜åŒ–å·¥å…· |
| **CI/CD** | Continuous Integration/Deployment | æŒç»­é›†æˆå’ŒæŒç»­éƒ¨ç½² |
| **APK** | Android Package | Androidåº”ç”¨å®‰è£…åŒ…æ ¼å¼ |

---

## é¡¹ç›®å®Œæˆç¡®è®¤

âœ… **é¡¹ç›®è§„åˆ™æ–‡æ¡£å·²å…¨é¢å®Œæˆ**

**æ–‡æ¡£å®Œæ•´æ€§ç¡®è®¤ï¼š**
- [x] é¡¹ç›®æ¦‚è¿°å’Œç›®æ ‡å®šä¹‰ (1ç« )
- [x] æŠ€æœ¯æ¶æ„å’ŒæŠ€æœ¯æ ˆè§„èŒƒ (2ç« ) 
- [x] æ ¸å¿ƒåŠŸèƒ½æ¨¡å—è®¾è®¡ (3ç« )
- [x] ä»£ç å¼€å‘è§„èŒƒå’Œé¡¹ç›®ç»“æ„ (4ç« )
- [x] å®æ–½æŒ‡å—å’Œæœ€ä½³å®è·µ (5ç« )
- [x] è´¨é‡ä¿è¯å’Œæµ‹è¯•è§„èŒƒ (6ç« )
- [x] é™„å½•å’Œå‚è€ƒèµ„æ–™

**è´¨é‡ä¿è¯ç¡®è®¤ï¼š**
- [x] å†…å®¹å®Œæ•´æ€§å’Œé€»è¾‘ä¸€è‡´æ€§
- [x] æ ¼å¼ç»Ÿä¸€å’Œæ’ç‰ˆè§„èŒƒ
- [x] ä»£ç ç¤ºä¾‹å‡†ç¡®æœ‰æ•ˆ
- [x] äº¤å‰å¼•ç”¨å®Œæ•´æ­£ç¡®
- [x] ç‰ˆæœ¬ä¿¡æ¯å’Œæ›´æ–°æ—¥å¿—

**æŠ€æœ¯æŒ‡å¯¼ä»·å€¼ï¼š**
- [x] ä¸º6å‘¨å¼€å‘å‘¨æœŸæä¾›å®Œæ•´æŒ‡å¯¼
- [x] æ¶µç›–Androidå¼€å‘å…¨æŠ€æœ¯æ ˆ
- [x] æä¾›å¯ç›´æ¥ä½¿ç”¨çš„ä»£ç æ¨¡æ¿
- [x] å»ºç«‹å®Œæ•´çš„è´¨é‡ä¿è¯ä½“ç³»
- [x] ç¬¦åˆè¯¾ç¨‹ä½œä¸šè¯„åˆ†è¦æ±‚

æœ¬è§„åˆ™æ–‡æ¡£å·²è¾¾åˆ°ä¸“ä¸šæ ‡å‡†ï¼Œå¯æœ‰æ•ˆæŒ‡å¯¼æ ¡å›­AIæ™ºèƒ½åŠ©æ‰‹é¡¹ç›®çš„å®Œæ•´å¼€å‘è¿‡ç¨‹ã€‚
